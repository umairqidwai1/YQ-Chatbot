import{s as st,z as Ce,B as Me,p as ct,j as Ae,e as w,c as b,a as k,d as u,f as p,i as L,r as At,v as Gt,w as jt,x as zt,k as N,o as T,a3 as tn,t as P,b as R,g as d,h as Q,E as Et,F as It,u as Ee,H as Pt,m as nn,G as ot,C as Dt,q as Rt,n as dt,D as ln,l as Ht}from"../chunks/jBEftbNB.js";import{S as at,i as it,f as Ne,b as O,d as A,m as G,t as C,a as F,e as j,g as Ge,c as je}from"../chunks/2lNU1ddO.js";import{b as rn,c as sn,f as We,W as on,m as xe}from"../chunks/BmtUElco.js";import{a as ut,f as an,g as rt,t as fn,l as un,h as cn,i as dn,c as mn}from"../chunks/Do2qwcxi.js";import{e as Vt,u as _n,o as pn}from"../chunks/ClpXlKdG.js";import{t as ge}from"../chunks/CPRQqKui.js";import{f as hn}from"../chunks/CyTOOynw.js";import{g as lt}from"../chunks/wUxqHZkW.js";import{T as qe}from"../chunks/BmKU5_x6.js";import{C as Ct}from"../chunks/DYraow1T.js";import{g as et}from"../chunks/Bf7AzwKN.js";import"../chunks/jqnfoqud.js";import{M as tt}from"../chunks/AYxcPQT2.js";import{b as Wt}from"../chunks/5vPLDuD4.js";import{f as qt}from"../chunks/CBc5jlPY.js";import{D as Jt}from"../chunks/CHwL4C7_.js";import{G as Zt}from"../chunks/DS7-YwvB.js";import{S as gn,D as vn}from"../chunks/DWOXPHXz.js";import{A as $n}from"../chunks/CePWJdgW.js";import{S as Kt}from"../chunks/C87UxUtA.js";import{G as wn}from"../chunks/CPdcVuRC.js";import{E as bn}from"../chunks/_4rz0OwG.js";import{I as kn,M as yn,V as En}from"../chunks/CR_C_fjg.js";import{H as In}from"../chunks/BbKdliGh.js";import{S as Dn}from"../chunks/Bwr9yBDe.js";import{P as Hn}from"../chunks/CWnUszZX.js";import{C as Vn}from"../chunks/nioLBdio.js";import{X as Cn}from"../chunks/BXcnQbVe.js";import{P as Sn}from"../chunks/C-AD5gyJ.js";import{L as Fn}from"../chunks/BSjvF658.js";function Ln(s){let e;const n=s[11].default,t=At(n,s,s[20],null);return{c(){t&&t.c()},l(l){t&&t.l(l)},m(l,a){t&&t.m(l,a),e=!0},p(l,a){t&&t.p&&(!e||a&1048576)&&Gt(t,n,l,l[20],e?zt(n,l[20],a,null):jt(l[20]),null)},i(l){e||(C(t,l),e=!0)},o(l){F(t,l),e=!1},d(l){t&&t.d(l)}}}function Mn(s){let e,n;return e=new qe({props:{content:s[9].t("More"),$$slots:{default:[Ln]},$$scope:{ctx:s}}}),{c(){O(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,l){G(e,t,l),n=!0},p(t,l){const a={};l&512&&(a.content=t[9].t("More")),l&1048576&&(a.$$scope={dirty:l,ctx:t}),e.$set(a)},i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){F(e.$$.fragment,t),n=!1},d(t){j(e,t)}}}function St(s){let e,n,t,l,a,o=s[9].t("Global")+"",r,i,_,$,H,I,V,D;t=new wn({});function h(m){s[12](m)}let f={};return s[0].is_global!==void 0&&(f.state=s[0].is_global),$=new Kt({props:f}),Ce.push(()=>Ne($,"state",h)),$.$on("change",function(){tn(s[6])&&s[6].apply(this,arguments)}),{c(){e=w("div"),n=w("div"),O(t.$$.fragment),l=N(),a=w("div"),r=P(o),i=N(),_=w("div"),O($.$$.fragment),I=N(),V=w("hr"),this.h()},l(m){e=b(m,"DIV",{class:!0});var E=k(e);n=b(E,"DIV",{class:!0});var v=k(n);A(t.$$.fragment,v),l=T(v),a=b(v,"DIV",{class:!0});var S=k(a);r=R(S,o),S.forEach(u),v.forEach(u),i=T(E),_=b(E,"DIV",{});var B=k(_);A($.$$.fragment,B),B.forEach(u),E.forEach(u),I=T(m),V=b(m,"HR",{class:!0}),this.h()},h(){p(a,"class","flex items-center"),p(n,"class","flex gap-2 items-center"),p(e,"class","flex gap-2 justify-between items-center px-3 py-2 text-sm font-medium cursor-pointerrounded-md"),p(V,"class","border-gray-100 dark:border-gray-850 my-1")},m(m,E){L(m,e,E),d(e,n),G(t,n,null),d(n,l),d(n,a),d(a,r),d(e,i),d(e,_),G($,_,null),L(m,I,E),L(m,V,E),D=!0},p(m,E){s=m,(!D||E&512)&&o!==(o=s[9].t("Global")+"")&&Q(r,o);const v={};!H&&E&1&&(H=!0,v.state=s[0].is_global,Me(()=>H=!1)),$.$set(v)},i(m){D||(C(t.$$.fragment,m),C($.$$.fragment,m),D=!0)},o(m){F(t.$$.fragment,m),F($.$$.fragment,m),D=!1},d(m){m&&(u(e),u(I),u(V)),j(t),j($)}}}function Nn(s){let e,n,t,l,a=s[9].t("Edit")+"",o;return{c(){e=Et("svg"),n=Et("path"),t=N(),l=w("div"),o=P(a),this.h()},l(r){e=It(r,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var i=k(e);n=It(i,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),k(n).forEach(u),i.forEach(u),t=T(r),l=b(r,"DIV",{class:!0});var _=k(l);o=R(_,a),_.forEach(u),this.h()},h(){p(n,"stroke-linecap","round"),p(n,"stroke-linejoin","round"),p(n,"d","M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"),p(e,"xmlns","http://www.w3.org/2000/svg"),p(e,"fill","none"),p(e,"viewBox","0 0 24 24"),p(e,"stroke-width","1.5"),p(e,"stroke","currentColor"),p(e,"class","w-4 h-4"),p(l,"class","flex items-center")},m(r,i){L(r,e,i),d(e,n),L(r,t,i),L(r,l,i),d(l,o)},p(r,i){i&512&&a!==(a=r[9].t("Edit")+"")&&Q(o,a)},d(r){r&&(u(e),u(t),u(l))}}}function Tn(s){let e,n,t,l=s[9].t("Share")+"",a,o;return e=new gn({}),{c(){O(e.$$.fragment),n=N(),t=w("div"),a=P(l),this.h()},l(r){A(e.$$.fragment,r),n=T(r),t=b(r,"DIV",{class:!0});var i=k(t);a=R(i,l),i.forEach(u),this.h()},h(){p(t,"class","flex items-center")},m(r,i){G(e,r,i),L(r,n,i),L(r,t,i),d(t,a),o=!0},p(r,i){(!o||i&512)&&l!==(l=r[9].t("Share")+"")&&Q(a,l)},i(r){o||(C(e.$$.fragment,r),o=!0)},o(r){F(e.$$.fragment,r),o=!1},d(r){r&&(u(n),u(t)),j(e,r)}}}function Bn(s){let e,n,t,l=s[9].t("Clone")+"",a,o;return e=new vn({}),{c(){O(e.$$.fragment),n=N(),t=w("div"),a=P(l),this.h()},l(r){A(e.$$.fragment,r),n=T(r),t=b(r,"DIV",{class:!0});var i=k(t);a=R(i,l),i.forEach(u),this.h()},h(){p(t,"class","flex items-center")},m(r,i){G(e,r,i),L(r,n,i),L(r,t,i),d(t,a),o=!0},p(r,i){(!o||i&512)&&l!==(l=r[9].t("Clone")+"")&&Q(a,l)},i(r){o||(C(e.$$.fragment,r),o=!0)},o(r){F(e.$$.fragment,r),o=!1},d(r){r&&(u(n),u(t)),j(e,r)}}}function Un(s){let e,n,t,l=s[9].t("Export")+"",a,o;return e=new $n({}),{c(){O(e.$$.fragment),n=N(),t=w("div"),a=P(l),this.h()},l(r){A(e.$$.fragment,r),n=T(r),t=b(r,"DIV",{class:!0});var i=k(t);a=R(i,l),i.forEach(u),this.h()},h(){p(t,"class","flex items-center")},m(r,i){G(e,r,i),L(r,n,i),L(r,t,i),d(t,a),o=!0},p(r,i){(!o||i&512)&&l!==(l=r[9].t("Export")+"")&&Q(a,l)},i(r){o||(C(e.$$.fragment,r),o=!0)},o(r){F(e.$$.fragment,r),o=!1},d(r){r&&(u(n),u(t)),j(e,r)}}}function On(s){let e,n,t,l=s[9].t("Delete")+"",a,o;return e=new Zt({props:{strokeWidth:"2"}}),{c(){O(e.$$.fragment),n=N(),t=w("div"),a=P(l),this.h()},l(r){A(e.$$.fragment,r),n=T(r),t=b(r,"DIV",{class:!0});var i=k(t);a=R(i,l),i.forEach(u),this.h()},h(){p(t,"class","flex items-center")},m(r,i){G(e,r,i),L(r,n,i),L(r,t,i),d(t,a),o=!0},p(r,i){(!o||i&512)&&l!==(l=r[9].t("Delete")+"")&&Q(a,l)},i(r){o||(C(e.$$.fragment,r),o=!0)},o(r){F(e.$$.fragment,r),o=!1},d(r){r&&(u(n),u(t)),j(e,r)}}}function An(s){let e=["filter","action"].includes(s[0].type),n,t,l,a,o,r,i,_,$,H,I,V,D,h=e&&St(s);return t=new tt({props:{class:"flex gap-2 items-center px-3 py-2 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800  rounded-md",$$slots:{default:[Nn]},$$scope:{ctx:s}}}),t.$on("click",s[13]),a=new tt({props:{class:"flex gap-2 items-center px-3 py-2 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800  rounded-md",$$slots:{default:[Tn]},$$scope:{ctx:s}}}),a.$on("click",s[14]),r=new tt({props:{class:"flex gap-2 items-center px-3 py-2 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$slots:{default:[Bn]},$$scope:{ctx:s}}}),r.$on("click",s[15]),_=new tt({props:{class:"flex gap-2 items-center px-3 py-2 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$slots:{default:[Un]},$$scope:{ctx:s}}}),_.$on("click",s[16]),V=new tt({props:{class:"flex  gap-2  items-center px-3 py-2 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$slots:{default:[On]},$$scope:{ctx:s}}}),V.$on("click",s[17]),{c(){h&&h.c(),n=N(),O(t.$$.fragment),l=N(),O(a.$$.fragment),o=N(),O(r.$$.fragment),i=N(),O(_.$$.fragment),$=N(),H=w("hr"),I=N(),O(V.$$.fragment),this.h()},l(f){h&&h.l(f),n=T(f),A(t.$$.fragment,f),l=T(f),A(a.$$.fragment,f),o=T(f),A(r.$$.fragment,f),i=T(f),A(_.$$.fragment,f),$=T(f),H=b(f,"HR",{class:!0}),I=T(f),A(V.$$.fragment,f),this.h()},h(){p(H,"class","border-gray-100 dark:border-gray-850 my-1")},m(f,m){h&&h.m(f,m),L(f,n,m),G(t,f,m),L(f,l,m),G(a,f,m),L(f,o,m),G(r,f,m),L(f,i,m),G(_,f,m),L(f,$,m),L(f,H,m),L(f,I,m),G(V,f,m),D=!0},p(f,m){m&1&&(e=["filter","action"].includes(f[0].type)),e?h?(h.p(f,m),m&1&&C(h,1)):(h=St(f),h.c(),C(h,1),h.m(n.parentNode,n)):h&&(Ge(),F(h,1,1,()=>{h=null}),je());const E={};m&1049088&&(E.$$scope={dirty:m,ctx:f}),t.$set(E);const v={};m&1049088&&(v.$$scope={dirty:m,ctx:f}),a.$set(v);const S={};m&1049088&&(S.$$scope={dirty:m,ctx:f}),r.$set(S);const B={};m&1049088&&(B.$$scope={dirty:m,ctx:f}),_.$set(B);const W={};m&1049088&&(W.$$scope={dirty:m,ctx:f}),V.$set(W)},i(f){D||(C(h),C(t.$$.fragment,f),C(a.$$.fragment,f),C(r.$$.fragment,f),C(_.$$.fragment,f),C(V.$$.fragment,f),D=!0)},o(f){F(h),F(t.$$.fragment,f),F(a.$$.fragment,f),F(r.$$.fragment,f),F(_.$$.fragment,f),F(V.$$.fragment,f),D=!1},d(f){f&&(u(n),u(l),u(o),u(i),u($),u(H),u(I)),h&&h.d(f),j(t,f),j(a,f),j(r,f),j(_,f),j(V,f)}}}function Gn(s){let e,n,t;return n=new Wt({props:{class:"w-full max-w-[180px] rounded-xl px-1 py-1.5 border border-gray-300/30 dark:border-gray-700/50 z-50 bg-white dark:bg-gray-850 dark:text-white shadow-sm",sideOffset:-2,side:"bottom",align:"start",transition:qt,$$slots:{default:[An]},$$scope:{ctx:s}}}),{c(){e=w("div"),O(n.$$.fragment),this.h()},l(l){e=b(l,"DIV",{slot:!0});var a=k(e);A(n.$$.fragment,a),a.forEach(u),this.h()},h(){p(e,"slot","content")},m(l,a){L(l,e,a),G(n,e,null),t=!0},p(l,a){const o={};a&1049215&&(o.$$scope={dirty:a,ctx:l}),n.$set(o)},i(l){t||(C(n.$$.fragment,l),t=!0)},o(l){F(n.$$.fragment,l),t=!1},d(l){l&&u(e),j(n)}}}function jn(s){let e,n,t;function l(o){s[18](o)}let a={$$slots:{content:[Gn],default:[Mn]},$$scope:{ctx:s}};return s[8]!==void 0&&(a.show=s[8]),e=new Jt({props:a}),Ce.push(()=>Ne(e,"show",l)),e.$on("change",s[19]),{c(){O(e.$$.fragment)},l(o){A(e.$$.fragment,o)},m(o,r){G(e,o,r),t=!0},p(o,[r]){const i={};r&1049215&&(i.$$scope={dirty:r,ctx:o}),!n&&r&256&&(n=!0,i.show=o[8],Me(()=>n=!1)),e.$set(i)},i(o){t||(C(e.$$.fragment,o),t=!0)},o(o){F(e.$$.fragment,o),t=!1},d(o){j(e,o)}}}function zn(s,e,n){let t,{$$slots:l={},$$scope:a}=e;const o=ct("i18n");Ae(s,o,M=>n(9,t=M));let{func:r}=e,{editHandler:i}=e,{shareHandler:_}=e,{cloneHandler:$}=e,{exportHandler:H}=e,{deleteHandler:I}=e,{toggleGlobalHandler:V}=e,{onClose:D}=e,h=!1;function f(M){s.$$.not_equal(r.is_global,M)&&(r.is_global=M,n(0,r))}const m=()=>{i()},E=()=>{_()},v=()=>{$()},S=()=>{H()},B=()=>{I()};function W(M){h=M,n(8,h)}const z=M=>{M.detail===!1&&D()};return s.$$set=M=>{"func"in M&&n(0,r=M.func),"editHandler"in M&&n(1,i=M.editHandler),"shareHandler"in M&&n(2,_=M.shareHandler),"cloneHandler"in M&&n(3,$=M.cloneHandler),"exportHandler"in M&&n(4,H=M.exportHandler),"deleteHandler"in M&&n(5,I=M.deleteHandler),"toggleGlobalHandler"in M&&n(6,V=M.toggleGlobalHandler),"onClose"in M&&n(7,D=M.onClose),"$$scope"in M&&n(20,a=M.$$scope)},[r,i,_,$,H,I,V,D,h,t,o,l,f,m,E,v,S,B,W,z,a]}class Pn extends at{constructor(e){super(),it(this,e,zn,jn,st,{func:0,editHandler:1,shareHandler:2,cloneHandler:3,exportHandler:4,deleteHandler:5,toggleGlobalHandler:6,onClose:7})}}function Rn(s){let e;const n=s[6].default,t=At(n,s,s[11],null);return{c(){t&&t.c()},l(l){t&&t.l(l)},m(l,a){t&&t.m(l,a),e=!0},p(l,a){t&&t.p&&(!e||a&2048)&&Gt(t,n,l,l[11],e?zt(n,l[11],a,null):jt(l[11]),null)},i(l){e||(C(t,l),e=!0)},o(l){F(t,l),e=!1},d(l){t&&t.d(l)}}}function Wn(s){let e,n;return e=new qe({props:{content:s[4].t("Create"),$$slots:{default:[Rn]},$$scope:{ctx:s}}}),{c(){O(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,l){G(e,t,l),n=!0},p(t,l){const a={};l&16&&(a.content=t[4].t("Create")),l&2048&&(a.$$scope={dirty:l,ctx:t}),e.$set(a)},i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){F(e.$$.fragment,t),n=!1},d(t){j(e,t)}}}function qn(s){let e,n,t,l,a,o=s[4].t("New Function")+"",r,i,_,$,H,I,V,D=s[4].t("Import From Link")+"",h,f,m,E;return t=new Sn({}),H=new Fn({}),{c(){e=w("button"),n=w("div"),O(t.$$.fragment),l=N(),a=w("div"),r=P(o),i=N(),_=w("button"),$=w("div"),O(H.$$.fragment),I=N(),V=w("div"),h=P(D),this.h()},l(v){e=b(v,"BUTTON",{class:!0});var S=k(e);n=b(S,"DIV",{class:!0});var B=k(n);A(t.$$.fragment,B),B.forEach(u),l=T(S),a=b(S,"DIV",{class:!0});var W=k(a);r=R(W,o),W.forEach(u),S.forEach(u),i=T(v),_=b(v,"BUTTON",{class:!0});var z=k(_);$=b(z,"DIV",{class:!0});var M=k($);A(H.$$.fragment,M),M.forEach(u),I=T(z),V=b(z,"DIV",{class:!0});var oe=k(V);h=R(oe,D),oe.forEach(u),z.forEach(u),this.h()},h(){p(n,"class","self-center mr-2"),p(a,"class","self-center truncate"),p(e,"class","flex rounded-md py-1.5 px-3 w-full hover:bg-gray-50 dark:hover:bg-gray-800 transition"),p($,"class","self-center mr-2"),p(V,"class","self-center truncate"),p(_,"class","flex rounded-md py-1.5 px-3 w-full hover:bg-gray-50 dark:hover:bg-gray-800 transition")},m(v,S){L(v,e,S),d(e,n),G(t,n,null),d(e,l),d(e,a),d(a,r),L(v,i,S),L(v,_,S),d(_,$),G(H,$,null),d(_,I),d(_,V),d(V,h),f=!0,m||(E=[Ee(e,"click",s[7]),Ee(_,"click",s[8])],m=!0)},p(v,S){(!f||S&16)&&o!==(o=v[4].t("New Function")+"")&&Q(r,o),(!f||S&16)&&D!==(D=v[4].t("Import From Link")+"")&&Q(h,D)},i(v){f||(C(t.$$.fragment,v),C(H.$$.fragment,v),f=!0)},o(v){F(t.$$.fragment,v),F(H.$$.fragment,v),f=!1},d(v){v&&(u(e),u(i),u(_)),j(t),j(H),m=!1,Pt(E)}}}function Jn(s){let e,n,t;return n=new Wt({props:{class:"w-full max-w-[190px] text-sm rounded-xl px-1 py-1.5 z-50 bg-white dark:bg-gray-850 dark:text-white shadow-lg font-primary",sideOffset:-2,side:"bottom",align:"start",transition:qt,$$slots:{default:[qn]},$$scope:{ctx:s}}}),{c(){e=w("div"),O(n.$$.fragment),this.h()},l(l){e=b(l,"DIV",{slot:!0});var a=k(e);A(n.$$.fragment,a),a.forEach(u),this.h()},h(){p(e,"slot","content")},m(l,a){L(l,e,a),G(n,e,null),t=!0},p(l,a){const o={};a&2075&&(o.$$scope={dirty:a,ctx:l}),n.$set(o)},i(l){t||(C(n.$$.fragment,l),t=!0)},o(l){F(n.$$.fragment,l),t=!1},d(l){l&&u(e),j(n)}}}function Zn(s){let e,n,t;function l(o){s[9](o)}let a={$$slots:{content:[Jn],default:[Wn]},$$scope:{ctx:s}};return s[3]!==void 0&&(a.show=s[3]),e=new Jt({props:a}),Ce.push(()=>Ne(e,"show",l)),e.$on("change",s[10]),{c(){O(e.$$.fragment)},l(o){A(e.$$.fragment,o)},m(o,r){G(e,o,r),t=!0},p(o,[r]){const i={};r&2075&&(i.$$scope={dirty:r,ctx:o}),!n&&r&8&&(n=!0,i.show=o[3],Me(()=>n=!1)),e.$set(i)},i(o){t||(C(e.$$.fragment,o),t=!0)},o(o){F(e.$$.fragment,o),t=!1},d(o){j(e,o)}}}function Kn(s,e,n){let t,{$$slots:l={},$$scope:a}=e;const o=ct("i18n");Ae(s,o,h=>n(4,t=h));let{createHandler:r}=e,{importFromLinkHandler:i}=e,{onClose:_=()=>{}}=e,$=!1;const H=async()=>{r(),n(3,$=!1)},I=async()=>{i(),n(3,$=!1)};function V(h){$=h,n(3,$)}const D=h=>{h.detail===!1&&_()};return s.$$set=h=>{"createHandler"in h&&n(0,r=h.createHandler),"importFromLinkHandler"in h&&n(1,i=h.importFromLinkHandler),"onClose"in h&&n(2,_=h.onClose),"$$scope"in h&&n(11,a=h.$$scope)},[r,i,_,$,t,o,l,H,I,V,D,a]}class Xn extends at{constructor(e){super(),it(this,e,Kn,Zn,st,{createHandler:0,importFromLinkHandler:1,onClose:2})}}function Ft(s,e,n){const t=s.slice();return t[53]=e[n],t[54]=e,t[55]=n,t}function Lt(s){let e,n,t,l,a,o;return t=new Cn({props:{className:"size-3",strokeWidth:"2"}}),{c(){e=w("div"),n=w("button"),O(t.$$.fragment),this.h()},l(r){e=b(r,"DIV",{class:!0});var i=k(e);n=b(i,"BUTTON",{class:!0});var _=k(n);A(t.$$.fragment,_),_.forEach(u),i.forEach(u),this.h()},h(){p(n,"class","p-0.5 rounded-full hover:bg-gray-100 dark:hover:bg-gray-900 transition"),p(e,"class","self-center pl-1.5 translate-y-[0.5px] rounded-l-xl bg-transparent")},m(r,i){L(r,e,i),d(e,n),G(t,n,null),l=!0,a||(o=Ee(n,"click",s[27]),a=!0)},p:dt,i(r){l||(C(t.$$.fragment,r),l=!0)},o(r){F(t.$$.fragment,r),l=!1},d(r){r&&u(e),j(t),a=!1,o()}}}function Qn(s){let e,n,t;return n=new Hn({props:{className:"size-3.5"}}),{c(){e=w("div"),O(n.$$.fragment),this.h()},l(l){e=b(l,"DIV",{class:!0});var a=k(e);A(n.$$.fragment,a),a.forEach(u),this.h()},h(){p(e,"class","px-2 py-2 rounded-xl hover:bg-gray-700/10 dark:hover:bg-gray-100/10 dark:text-gray-300 dark:hover:text-white transition font-medium text-sm flex items-center space-x-1")},m(l,a){L(l,e,a),G(n,e,null),t=!0},p:dt,i(l){t||(C(n.$$.fragment,l),t=!0)},o(l){F(n.$$.fragment,l),t=!1},d(l){l&&u(e),j(n)}}}function Mt(s){var a,o,r;let e,n,t=(((r=(o=(a=s[53])==null?void 0:a.meta)==null?void 0:o.manifest)==null?void 0:r.version)??"")+"",l;return{c(){e=w("div"),n=P("v"),l=P(t),this.h()},l(i){e=b(i,"DIV",{class:!0});var _=k(e);n=R(_,"v"),l=R(_,t),_.forEach(u),this.h()},h(){p(e,"class","text-xs font-bold px-1 rounded-sm line-clamp-1 bg-gray-500/20 text-gray-700 dark:text-gray-200")},m(i,_){L(i,e,_),d(e,n),d(e,l)},p(i,_){var $,H,I;_[0]&2048&&t!==(t=(((I=(H=($=i[53])==null?void 0:$.meta)==null?void 0:H.manifest)==null?void 0:I.version)??"")+"")&&Q(l,t)},d(i){i&&u(e)}}}function Yn(s){var V,D,h;let e,n,t,l,a,o=(((h=(D=(V=s[53])==null?void 0:V.meta)==null?void 0:D.manifest)==null?void 0:h.funding_url)??!1)&&Nt(s);n=new qe({props:{content:s[14].t("Valves"),$$slots:{default:[tl]},$$scope:{ctx:s}}});function r(){return s[33](s[53])}function i(){return s[34](s[53])}function _(){return s[35](s[53])}function $(){return s[36](s[53])}function H(){return s[37](s[53])}function I(){return s[38](s[53])}return l=new Pn({props:{func:s[53],editHandler:r,shareHandler:i,cloneHandler:_,exportHandler:$,deleteHandler:H,toggleGlobalHandler:I,onClose:il,$$slots:{default:[nl]},$$scope:{ctx:s}}}),{c(){o&&o.c(),e=N(),O(n.$$.fragment),t=N(),O(l.$$.fragment)},l(f){o&&o.l(f),e=T(f),A(n.$$.fragment,f),t=T(f),A(l.$$.fragment,f)},m(f,m){o&&o.m(f,m),L(f,e,m),G(n,f,m),L(f,t,m),G(l,f,m),a=!0},p(f,m){var S,B,W;s=f,((W=(B=(S=s[53])==null?void 0:S.meta)==null?void 0:B.manifest)==null?void 0:W.funding_url)??!1?o?(o.p(s,m),m[0]&2048&&C(o,1)):(o=Nt(s),o.c(),C(o,1),o.m(e.parentNode,e)):o&&(Ge(),F(o,1,1,()=>{o=null}),je());const E={};m[0]&16384&&(E.content=s[14].t("Valves")),m[0]&2816|m[1]&33554432&&(E.$$scope={dirty:m,ctx:s}),n.$set(E);const v={};m[0]&2048&&(v.func=s[53]),m[0]&2048&&(v.editHandler=r),m[0]&2048&&(v.shareHandler=i),m[0]&2048&&(v.cloneHandler=_),m[0]&2048&&(v.exportHandler=$),m[0]&3584&&(v.deleteHandler=H),m[0]&2048&&(v.toggleGlobalHandler=I),m[1]&33554432&&(v.$$scope={dirty:m,ctx:s}),l.$set(v)},i(f){a||(C(o),C(n.$$.fragment,f),C(l.$$.fragment,f),a=!0)},o(f){F(o),F(n.$$.fragment,f),F(l.$$.fragment,f),a=!1},d(f){f&&(u(e),u(t)),o&&o.d(f),j(n,f),j(l,f)}}}function xn(s){let e,n;return e=new qe({props:{content:s[14].t("Delete"),$$slots:{default:[ll]},$$scope:{ctx:s}}}),{c(){O(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,l){G(e,t,l),n=!0},p(t,l){const a={};l[0]&16384&&(a.content=t[14].t("Delete")),l[0]&2048|l[1]&33554432&&(a.$$scope={dirty:l,ctx:t}),e.$set(a)},i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){F(e.$$.fragment,t),n=!1},d(t){j(e,t)}}}function Nt(s){let e,n;return e=new qe({props:{content:s[14].t("Support"),$$slots:{default:[el]},$$scope:{ctx:s}}}),{c(){O(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,l){G(e,t,l),n=!0},p(t,l){const a={};l[0]&16384&&(a.content=t[14].t("Support")),l[0]&2688|l[1]&33554432&&(a.$$scope={dirty:l,ctx:t}),e.$set(a)},i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){F(e.$$.fragment,t),n=!1},d(t){j(e,t)}}}function el(s){let e,n,t,l,a;n=new In({});function o(){return s[31](s[53])}return{c(){e=w("button"),O(n.$$.fragment),this.h()},l(r){e=b(r,"BUTTON",{class:!0,type:!0});var i=k(e);A(n.$$.fragment,i),i.forEach(u),this.h()},h(){p(e,"class","self-center w-fit text-sm px-2 py-2 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl"),p(e,"type","button")},m(r,i){L(r,e,i),G(n,e,null),t=!0,l||(a=Ee(e,"click",o),l=!0)},p(r,i){s=r},i(r){t||(C(n.$$.fragment,r),t=!0)},o(r){F(n.$$.fragment,r),t=!1},d(r){r&&u(e),j(n),l=!1,a()}}}function tl(s){let e,n='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-4"><path stroke-linecap="round" stroke-linejoin="round" d="M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"></path><path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"></path></svg>',t,l;function a(){return s[32](s[53])}return{c(){e=w("button"),e.innerHTML=n,this.h()},l(o){e=b(o,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),ot(e)!=="svelte-1d80tim"&&(e.innerHTML=n),this.h()},h(){p(e,"class","self-center w-fit text-sm px-2 py-2 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl"),p(e,"type","button")},m(o,r){L(o,e,r),t||(l=Ee(e,"click",a),t=!0)},p(o,r){s=o},d(o){o&&u(e),t=!1,l()}}}function nl(s){let e,n,t;return n=new bn({props:{className:"size-5"}}),{c(){e=w("button"),O(n.$$.fragment),this.h()},l(l){e=b(l,"BUTTON",{class:!0,type:!0});var a=k(e);A(n.$$.fragment,a),a.forEach(u),this.h()},h(){p(e,"class","self-center w-fit text-sm p-1.5 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl"),p(e,"type","button")},m(l,a){L(l,e,a),G(n,e,null),t=!0},p:dt,i(l){t||(C(n.$$.fragment,l),t=!0)},o(l){F(n.$$.fragment,l),t=!1},d(l){l&&u(e),j(n)}}}function ll(s){let e,n,t,l,a;n=new Zt({});function o(){return s[30](s[53])}return{c(){e=w("button"),O(n.$$.fragment),this.h()},l(r){e=b(r,"BUTTON",{class:!0,type:!0});var i=k(e);A(n.$$.fragment,i),i.forEach(u),this.h()},h(){p(e,"class","self-center w-fit text-sm px-2 py-2 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl"),p(e,"type","button")},m(r,i){L(r,e,i),G(n,e,null),t=!0,l||(a=Ee(e,"click",o),l=!0)},p(r,i){s=r},i(r){t||(C(n.$$.fragment,r),t=!0)},o(r){F(n.$$.fragment,r),t=!1},d(r){r&&u(e),j(n),l=!1,a()}}}function rl(s){let e,n,t;function l(r){s[39](r,s[53])}function a(...r){return s[40](s[53],...r)}let o={};return s[53].is_active!==void 0&&(o.state=s[53].is_active),e=new Kt({props:o}),Ce.push(()=>Ne(e,"state",l)),e.$on("change",a),{c(){O(e.$$.fragment)},l(r){A(e.$$.fragment,r)},m(r,i){G(e,r,i),t=!0},p(r,i){s=r;const _={};!n&&i[0]&2048&&(n=!0,_.state=s[53].is_active,Me(()=>n=!1)),e.$set(_)},i(r){t||(C(e.$$.fragment,r),t=!0)},o(r){F(e.$$.fragment,r),t=!1},d(r){j(e,r)}}}function Tt(s,e){var _e,be,Ie;let n,t,l,a,o,r,i=e[53].type+"",_,$,H,I,V=e[53].name+"",D,h,f,m,E=e[53].id+"",v,S,B,W=e[53].meta.description+"",z,M,oe,re,Y,Z,we,se,K,Te,ae,X=((Ie=(be=(_e=e[53])==null?void 0:_e.meta)==null?void 0:be.manifest)==null?void 0:Ie.version)&&Mt(e);const ie=[xn,Yn],ee=[];function Be(te,q){return te[2]?0:1}return Y=Be(e),Z=ee[Y]=ie[Y](e),K=new qe({props:{content:e[53].is_active?e[14].t("Enabled"):e[14].t("Disabled"),$$slots:{default:[rl]},$$scope:{ctx:e}}}),{key:s,first:null,c(){n=w("div"),t=w("a"),l=w("div"),a=w("div"),o=w("div"),r=w("div"),_=P(i),$=N(),X&&X.c(),H=N(),I=w("div"),D=P(V),h=N(),f=w("div"),m=w("div"),v=P(E),S=N(),B=w("div"),z=P(W),oe=N(),re=w("div"),Z.c(),we=N(),se=w("div"),O(K.$$.fragment),Te=N(),this.h()},l(te){n=b(te,"DIV",{class:!0});var q=k(n);t=b(q,"A",{class:!0,href:!0});var fe=k(t);l=b(fe,"DIV",{class:!0});var ke=k(l);a=b(ke,"DIV",{class:!0});var ve=k(a);o=b(ve,"DIV",{class:!0});var ue=k(o);r=b(ue,"DIV",{class:!0});var pe=k(r);_=R(pe,i),pe.forEach(u),$=T(ue),X&&X.l(ue),H=T(ue),I=b(ue,"DIV",{class:!0});var de=k(I);D=R(de,V),de.forEach(u),ue.forEach(u),h=T(ve),f=b(ve,"DIV",{class:!0});var De=k(f);m=b(De,"DIV",{class:!0});var Se=k(m);v=R(Se,E),Se.forEach(u),S=T(De),B=b(De,"DIV",{class:!0});var he=k(B);z=R(he,W),he.forEach(u),De.forEach(u),ve.forEach(u),ke.forEach(u),fe.forEach(u),oe=T(q),re=b(q,"DIV",{class:!0});var He=k(re);Z.l(He),we=T(He),se=b(He,"DIV",{class:!0});var Fe=k(se);A(K.$$.fragment,Fe),Fe.forEach(u),He.forEach(u),Te=T(q),q.forEach(u),this.h()},h(){p(r,"class","text-xs font-bold px-1 rounded-sm uppercase line-clamp-1 bg-gray-500/20 text-gray-700 dark:text-gray-200"),p(I,"class","line-clamp-1"),p(o,"class","font-semibold flex items-center gap-1.5"),p(m,"class","text-gray-500 text-xs font-medium shrink-0"),p(B,"class","text-xs overflow-hidden text-ellipsis line-clamp-1"),p(f,"class","flex gap-1.5 px-1"),p(a,"class","flex-1 self-center pl-1"),p(l,"class","flex items-center text-left"),p(t,"class","flex flex-1 space-x-3.5 cursor-pointer w-full"),p(t,"href",M=`/admin/functions/edit?id=${encodeURIComponent(e[53].id)}`),p(se,"class","self-center mx-1"),p(re,"class","flex flex-row gap-0.5 self-center"),p(n,"class","flex space-x-4 cursor-pointer w-full px-3 py-2 dark:hover:bg-white/5 hover:bg-black/5 rounded-xl"),this.first=n},m(te,q){L(te,n,q),d(n,t),d(t,l),d(l,a),d(a,o),d(o,r),d(r,_),d(o,$),X&&X.m(o,null),d(o,H),d(o,I),d(I,D),d(a,h),d(a,f),d(f,m),d(m,v),d(f,S),d(f,B),d(B,z),d(n,oe),d(n,re),ee[Y].m(re,null),d(re,we),d(re,se),G(K,se,null),d(n,Te),ae=!0},p(te,q){var ve,ue,pe;e=te,(!ae||q[0]&2048)&&i!==(i=e[53].type+"")&&Q(_,i),(pe=(ue=(ve=e[53])==null?void 0:ve.meta)==null?void 0:ue.manifest)!=null&&pe.version?X?X.p(e,q):(X=Mt(e),X.c(),X.m(o,H)):X&&(X.d(1),X=null),(!ae||q[0]&2048)&&V!==(V=e[53].name+"")&&Q(D,V),(!ae||q[0]&2048)&&E!==(E=e[53].id+"")&&Q(v,E),(!ae||q[0]&2048)&&W!==(W=e[53].meta.description+"")&&Q(z,W),(!ae||q[0]&2048&&M!==(M=`/admin/functions/edit?id=${encodeURIComponent(e[53].id)}`))&&p(t,"href",M);let fe=Y;Y=Be(e),Y===fe?ee[Y].p(e,q):(Ge(),F(ee[fe],1,1,()=>{ee[fe]=null}),je(),Z=ee[Y],Z?Z.p(e,q):(Z=ee[Y]=ie[Y](e),Z.c()),C(Z,1),Z.m(re,we));const ke={};q[0]&18432&&(ke.content=e[53].is_active?e[14].t("Enabled"):e[14].t("Disabled")),q[0]&14336|q[1]&33554432&&(ke.$$scope={dirty:q,ctx:e}),K.$set(ke)},i(te){ae||(C(Z),C(K.$$.fragment,te),ae=!0)},o(te){F(Z),F(K.$$.fragment,te),ae=!1},d(te){te&&u(n),X&&X.d(),ee[Y].d(),j(K)}}}function Bt(s){let e,n,t=s[14].t("Export Functions")+"",l,a,o=s[1].length+"",r,i,_,$,H='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 3.5a.75.75 0 0 1 .75.75v2.69l.72-.72a.75.75 0 1 1 1.06 1.06l-2 2a.75.75 0 0 1-1.06 0l-2-2a.75.75 0 0 1 1.06-1.06l.72.72V6.25A.75.75 0 0 1 8 5.5Z" clip-rule="evenodd"></path></svg>',I,V;return{c(){e=w("button"),n=w("div"),l=P(t),a=P(" ("),r=P(o),i=P(")"),_=N(),$=w("div"),$.innerHTML=H,this.h()},l(D){e=b(D,"BUTTON",{class:!0});var h=k(e);n=b(h,"DIV",{class:!0});var f=k(n);l=R(f,t),a=R(f," ("),r=R(f,o),i=R(f,")"),f.forEach(u),_=T(h),$=b(h,"DIV",{class:!0,"data-svelte-h":!0}),ot($)!=="svelte-rhgvuh"&&($.innerHTML=H),h.forEach(u),this.h()},h(){p(n,"class","self-center mr-2 font-medium line-clamp-1"),p($,"class","self-center"),p(e,"class","flex text-xs items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 dark:text-gray-200 transition")},m(D,h){L(D,e,h),d(e,n),d(n,l),d(n,a),d(n,r),d(n,i),d(e,_),d(e,$),I||(V=Ee(e,"click",s[45]),I=!0)},p(D,h){h[0]&16384&&t!==(t=D[14].t("Export Functions")+"")&&Q(l,t),h[0]&2&&o!==(o=D[1].length+"")&&Q(r,o)},d(D){D&&u(e),I=!1,V()}}}function Ut(s){let e,n,t=s[14].t("Made by Open WebUI Community")+"",l,a,o,r,i,_=s[14].t("Discover a function")+"",$,H,I,V=s[14].t("Discover, download, and explore custom functions")+"",D,h,f,m,E,v;return E=new Vn({}),{c(){e=w("div"),n=w("div"),l=P(t),a=N(),o=w("a"),r=w("div"),i=w("div"),$=P(_),H=N(),I=w("div"),D=P(V),h=N(),f=w("div"),m=w("div"),O(E.$$.fragment),this.h()},l(S){e=b(S,"DIV",{class:!0});var B=k(e);n=b(B,"DIV",{class:!0});var W=k(n);l=R(W,t),W.forEach(u),a=T(B),o=b(B,"A",{class:!0,href:!0,target:!0});var z=k(o);r=b(z,"DIV",{class:!0});var M=k(r);i=b(M,"DIV",{class:!0});var oe=k(i);$=R(oe,_),oe.forEach(u),H=T(M),I=b(M,"DIV",{class:!0});var re=k(I);D=R(re,V),re.forEach(u),M.forEach(u),h=T(z),f=b(z,"DIV",{});var Y=k(f);m=b(Y,"DIV",{});var Z=k(m);A(E.$$.fragment,Z),Z.forEach(u),Y.forEach(u),z.forEach(u),B.forEach(u),this.h()},h(){p(n,"class","text-xl font-medium mb-1 line-clamp-1"),p(i,"class","font-semibold line-clamp-1"),p(I,"class","text-sm line-clamp-1"),p(r,"class","self-center"),p(o,"class","flex cursor-pointer items-center justify-between hover:bg-gray-50 dark:hover:bg-gray-850 w-full mb-2 px-3.5 py-1.5 rounded-xl transition"),p(o,"href","https://openwebui.com/#open-webui-community"),p(o,"target","_blank"),p(e,"class","my-16")},m(S,B){L(S,e,B),d(e,n),d(n,l),d(e,a),d(e,o),d(o,r),d(r,i),d(i,$),d(r,H),d(r,I),d(I,D),d(o,h),d(o,f),d(f,m),G(E,m,null),v=!0},p(S,B){(!v||B[0]&16384)&&t!==(t=S[14].t("Made by Open WebUI Community")+"")&&Q(l,t),(!v||B[0]&16384)&&_!==(_=S[14].t("Discover a function")+"")&&Q($,_),(!v||B[0]&16384)&&V!==(V=S[14].t("Discover, download, and explore custom functions")+"")&&Q(D,V)},i(S){v||(C(E.$$.fragment,S),v=!0)},o(S){F(E.$$.fragment,S),v=!1},d(S){S&&u(e),j(E)}}}function sl(s){let e,n=s[14].t("This will delete")+"",t,l,a,o=s[9].name+"",r,i;return{c(){e=w("div"),t=P(n),l=N(),a=w("span"),r=P(o),i=P("."),this.h()},l(_){e=b(_,"DIV",{class:!0});var $=k(e);t=R($,n),l=T($),a=b($,"SPAN",{class:!0});var H=k(a);r=R(H,o),H.forEach(u),i=R($,"."),$.forEach(u),this.h()},h(){p(a,"class","font-semibold"),p(e,"class","text-sm text-gray-500")},m(_,$){L(_,e,$),d(e,t),d(e,l),d(e,a),d(a,r),d(e,i)},p(_,$){$[0]&16384&&n!==(n=_[14].t("This will delete")+"")&&Q(t,n),$[0]&512&&o!==(o=_[9].name+"")&&Q(r,o)},d(_){_&&u(e)}}}function ol(s){let e,n,t,l="Please carefully review the following warnings:",a,o,r,i=s[14].t("Functions allow arbitrary code execution.")+"",_,$,H,I=s[14].t("Do not install functions from sources you do not fully trust.")+"",V,D,h,f=s[14].t("I acknowledge that I have read and I understand the implications of my action. I am aware of the risks associated with executing arbitrary code and I have verified the trustworthiness of the source.")+"",m;return{c(){e=w("div"),n=w("div"),t=w("div"),t.textContent=l,a=N(),o=w("ul"),r=w("li"),_=P(i),$=N(),H=w("li"),V=P(I),D=N(),h=w("div"),m=P(f),this.h()},l(E){e=b(E,"DIV",{class:!0});var v=k(e);n=b(v,"DIV",{class:!0});var S=k(n);t=b(S,"DIV",{"data-svelte-h":!0}),ot(t)!=="svelte-1a6manw"&&(t.textContent=l),a=T(S),o=b(S,"UL",{class:!0});var B=k(o);r=b(B,"LI",{});var W=k(r);_=R(W,i),W.forEach(u),$=T(B),H=b(B,"LI",{});var z=k(H);V=R(z,I),z.forEach(u),B.forEach(u),S.forEach(u),D=T(v),h=b(v,"DIV",{class:!0});var M=k(h);m=R(M,f),M.forEach(u),v.forEach(u),this.h()},h(){p(o,"class","mt-1 list-disc pl-4 text-xs"),p(n,"class","bg-yellow-500/20 text-yellow-700 dark:text-yellow-200 rounded-lg px-4 py-3"),p(h,"class","my-3"),p(e,"class","text-sm text-gray-500")},m(E,v){L(E,e,v),d(e,n),d(n,t),d(n,a),d(n,o),d(o,r),d(r,_),d(o,$),d(o,H),d(H,V),d(e,D),d(e,h),d(h,m)},p(E,v){v[0]&16384&&i!==(i=E[14].t("Functions allow arbitrary code execution.")+"")&&Q(_,i),v[0]&16384&&I!==(I=E[14].t("Do not install functions from sources you do not fully trust.")+"")&&Q(V,I),v[0]&16384&&f!==(f=E[14].t("I acknowledge that I have read and I understand the implications of my action. I am aware of the risks associated with executing arbitrary code and I have verified the trustworthiness of the source.")+"")&&Q(m,f)},d(E){E&&u(e)}}}function al(s){var $t,wt,bt,kt;let e,n,t,l,a,o,r,i,_=s[14].t("Functions")+"",$,H,I,V,D,h=s[11].length+"",f,m,E,v,S,B,W,z,M,oe,re,Y,Z,we,se,K=[],Te=new Map,ae,X,ie,ee,Be,_e,be,Ie=s[14].t("Import Functions")+"",te,q,fe,ke='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 9.5a.75.75 0 0 1-.75-.75V8.06l-.72.72a.75.75 0 0 1-1.06-1.06l2-2a.75.75 0 0 1 1.06 0l2 2a.75.75 0 1 1-1.06 1.06l-.72-.72v2.69a.75.75 0 0 1-.75.75Z" clip-rule="evenodd"></path></svg>',ve,ue,pe,de,De,Se,he,He,Fe,$e,Je,g,U,J,x,Ue,Le;document.title=e=`
		`+s[14].t("Functions")+" • "+s[15]+`
	`;function Xt(c){s[25](c)}let mt={loadUrlHandler:s[23],onImport:s[24]};s[5]!==void 0&&(mt.show=s[5]),t=new kn({props:mt}),Ce.push(()=>Ne(t,"show",Xt)),B=new Dn({props:{className:"size-3.5"}});let ne=s[0]&&Lt(s);Z=new Xn({props:{createHandler:s[28],importFromLinkHandler:s[29],$$slots:{default:[Qn]},$$scope:{ctx:s}}});let Ze=Vt(s[11]);const _t=c=>c[53].id;for(let c=0;c<Ze.length;c+=1){let y=Ft(s,Ze,c),me=_t(y);Te.set(me,K[c]=Tt(me,y))}let ce=s[1].length&&Bt(s),le=(($t=s[13])==null?void 0:$t.features.enable_community_sharing)&&Ut(s);function Qt(c){s[46](c)}let pt={title:s[14].t("Delete function?"),$$slots:{default:[sl]},$$scope:{ctx:s}};s[10]!==void 0&&(pt.show=s[10]),de=new Ct({props:pt}),Ce.push(()=>Ne(de,"show",Qt)),de.$on("confirm",s[47]);function Yt(c){s[48](c)}let ht={manifest:((bt=(wt=s[9])==null?void 0:wt.meta)==null?void 0:bt.manifest)??{}};s[7]!==void 0&&(ht.show=s[7]),he=new yn({props:ht}),Ce.push(()=>Ne(he,"show",Yt));function xt(c){s[49](c)}let gt={type:"function",id:((kt=s[9])==null?void 0:kt.id)??null};s[8]!==void 0&&(gt.show=s[8]),$e=new En({props:gt}),Ce.push(()=>Ne($e,"show",xt)),$e.$on("save",s[50]);function en(c){s[51](c)}let vt={$$slots:{default:[ol]},$$scope:{ctx:s}};return s[6]!==void 0&&(vt.show=s[6]),U=new Ct({props:vt}),Ce.push(()=>Ne(U,"show",en)),U.$on("confirm",s[52]),{c(){n=N(),O(t.$$.fragment),a=N(),o=w("div"),r=w("div"),i=w("div"),$=P(_),H=N(),I=w("div"),V=N(),D=w("span"),f=P(h),m=N(),E=w("div"),v=w("div"),S=w("div"),O(B.$$.fragment),W=N(),z=w("input"),oe=N(),ne&&ne.c(),re=N(),Y=w("div"),O(Z.$$.fragment),we=N(),se=w("div");for(let c=0;c<K.length;c+=1)K[c].c();ae=N(),X=w("div"),ie=w("div"),ee=w("input"),Be=N(),_e=w("button"),be=w("div"),te=P(Ie),q=N(),fe=w("div"),fe.innerHTML=ke,ve=N(),ce&&ce.c(),ue=N(),le&&le.c(),pe=N(),O(de.$$.fragment),Se=N(),O(he.$$.fragment),Fe=N(),O($e.$$.fragment),g=N(),O(U.$$.fragment),this.h()},l(c){nn("svelte-1ppcpz9",document.head).forEach(u),n=T(c),A(t.$$.fragment,c),a=T(c),o=b(c,"DIV",{class:!0});var me=k(o);r=b(me,"DIV",{class:!0});var ze=k(r);i=b(ze,"DIV",{class:!0});var ye=k(i);$=R(ye,_),H=T(ye),I=b(ye,"DIV",{class:!0}),k(I).forEach(u),V=T(ye),D=b(ye,"SPAN",{class:!0});var Pe=k(D);f=R(Pe,h),Pe.forEach(u),ye.forEach(u),ze.forEach(u),m=T(me),E=b(me,"DIV",{class:!0});var Oe=k(E);v=b(Oe,"DIV",{class:!0});var Ve=k(v);S=b(Ve,"DIV",{class:!0});var Ke=k(S);A(B.$$.fragment,Ke),Ke.forEach(u),W=T(Ve),z=b(Ve,"INPUT",{class:!0,placeholder:!0}),oe=T(Ve),ne&&ne.l(Ve),Ve.forEach(u),re=T(Oe),Y=b(Oe,"DIV",{});var Xe=k(Y);A(Z.$$.fragment,Xe),Xe.forEach(u),Oe.forEach(u),me.forEach(u),we=T(c),se=b(c,"DIV",{class:!0});var Qe=k(se);for(let ft=0;ft<K.length;ft+=1)K[ft].l(Qe);Qe.forEach(u),ae=T(c),X=b(c,"DIV",{class:!0});var Ye=k(X);ie=b(Ye,"DIV",{class:!0});var Re=k(ie);ee=b(Re,"INPUT",{id:!0,type:!0,accept:!0}),Be=T(Re),_e=b(Re,"BUTTON",{class:!0});var nt=k(_e);be=b(nt,"DIV",{class:!0});var yt=k(be);te=R(yt,Ie),yt.forEach(u),q=T(nt),fe=b(nt,"DIV",{class:!0,"data-svelte-h":!0}),ot(fe)!=="svelte-aqr4dt"&&(fe.innerHTML=ke),nt.forEach(u),ve=T(Re),ce&&ce.l(Re),Re.forEach(u),Ye.forEach(u),ue=T(c),le&&le.l(c),pe=T(c),A(de.$$.fragment,c),Se=T(c),A(he.$$.fragment,c),Fe=T(c),A($e.$$.fragment,c),g=T(c),A(U.$$.fragment,c),this.h()},h(){p(I,"class","flex self-center w-[1px] h-6 mx-2.5 bg-gray-50 dark:bg-gray-850"),p(D,"class","text-base font-lg text-gray-500 dark:text-gray-300"),p(i,"class","flex md:self-center text-xl items-center font-medium px-0.5"),p(r,"class","flex justify-between items-center"),p(S,"class","self-center ml-1 mr-3"),p(z,"class","w-full text-sm pr-4 py-1 rounded-r-xl outline-hidden bg-transparent"),p(z,"placeholder",M=s[14].t("Search Functions")),p(v,"class","flex flex-1"),p(E,"class","flex w-full space-x-2"),p(o,"class","flex flex-col gap-1 mt-1.5 mb-2"),p(se,"class","mb-5"),p(ee,"id","documents-import-input"),p(ee,"type","file"),p(ee,"accept",".json"),ee.hidden=!0,p(be,"class","self-center mr-2 font-medium line-clamp-1"),p(fe,"class","self-center"),p(_e,"class","flex text-xs items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 dark:text-gray-200 transition"),p(ie,"class","flex space-x-2"),p(X,"class","flex justify-end w-full mb-2")},m(c,y){L(c,n,y),G(t,c,y),L(c,a,y),L(c,o,y),d(o,r),d(r,i),d(i,$),d(i,H),d(i,I),d(i,V),d(i,D),d(D,f),d(o,m),d(o,E),d(E,v),d(v,S),G(B,S,null),d(v,W),d(v,z),Dt(z,s[0]),d(v,oe),ne&&ne.m(v,null),d(E,re),d(E,Y),G(Z,Y,null),L(c,we,y),L(c,se,y);for(let me=0;me<K.length;me+=1)K[me]&&K[me].m(se,null);L(c,ae,y),L(c,X,y),d(X,ie),d(ie,ee),s[41](ee),d(ie,Be),d(ie,_e),d(_e,be),d(be,te),d(_e,q),d(_e,fe),d(ie,ve),ce&&ce.m(ie,null),L(c,ue,y),le&&le.m(c,y),L(c,pe,y),G(de,c,y),L(c,Se,y),G(he,c,y),L(c,Fe,y),G($e,c,y),L(c,g,y),G(U,c,y),x=!0,Ue||(Le=[Ee(z,"input",s[26]),Ee(ee,"change",s[42]),Ee(ee,"change",s[43]),Ee(_e,"click",s[44])],Ue=!0)},p(c,y){var Ke,Xe,Qe,Ye;(!x||y[0]&49152)&&e!==(e=`
		`+c[14].t("Functions")+" • "+c[15]+`
	`)&&(document.title=e);const me={};!l&&y[0]&32&&(l=!0,me.show=c[5],Me(()=>l=!1)),t.$set(me),(!x||y[0]&16384)&&_!==(_=c[14].t("Functions")+"")&&Q($,_),(!x||y[0]&2048)&&h!==(h=c[11].length+"")&&Q(f,h),(!x||y[0]&16384&&M!==(M=c[14].t("Search Functions")))&&p(z,"placeholder",M),y[0]&1&&z.value!==c[0]&&Dt(z,c[0]),c[0]?ne?(ne.p(c,y),y[0]&1&&C(ne,1)):(ne=Lt(c),ne.c(),C(ne,1),ne.m(v,null)):ne&&(Ge(),F(ne,1,1,()=>{ne=null}),je());const ze={};y[0]&32&&(ze.importFromLinkHandler=c[29]),y[1]&33554432&&(ze.$$scope={dirty:y,ctx:c}),Z.$set(ze),y[0]&8159108&&(Ze=Vt(c[11]),Ge(),K=_n(K,y,_t,1,c,Ze,Te,se,pn,Tt,null,Ft),je()),(!x||y[0]&16384)&&Ie!==(Ie=c[14].t("Import Functions")+"")&&Q(te,Ie),c[1].length?ce?ce.p(c,y):(ce=Bt(c),ce.c(),ce.m(ie,null)):ce&&(ce.d(1),ce=null),(Ke=c[13])!=null&&Ke.features.enable_community_sharing?le?(le.p(c,y),y[0]&8192&&C(le,1)):(le=Ut(c),le.c(),C(le,1),le.m(pe.parentNode,pe)):le&&(Ge(),F(le,1,1,()=>{le=null}),je());const ye={};y[0]&16384&&(ye.title=c[14].t("Delete function?")),y[0]&16896|y[1]&33554432&&(ye.$$scope={dirty:y,ctx:c}),!De&&y[0]&1024&&(De=!0,ye.show=c[10],Me(()=>De=!1)),de.$set(ye);const Pe={};y[0]&512&&(Pe.manifest=((Qe=(Xe=c[9])==null?void 0:Xe.meta)==null?void 0:Qe.manifest)??{}),!He&&y[0]&128&&(He=!0,Pe.show=c[7],Me(()=>He=!1)),he.$set(Pe);const Oe={};y[0]&512&&(Oe.id=((Ye=c[9])==null?void 0:Ye.id)??null),!Je&&y[0]&256&&(Je=!0,Oe.show=c[8],Me(()=>Je=!1)),$e.$set(Oe);const Ve={};y[0]&16384|y[1]&33554432&&(Ve.$$scope={dirty:y,ctx:c}),!J&&y[0]&64&&(J=!0,Ve.show=c[6],Me(()=>J=!1)),U.$set(Ve)},i(c){if(!x){C(t.$$.fragment,c),C(B.$$.fragment,c),C(ne),C(Z.$$.fragment,c);for(let y=0;y<Ze.length;y+=1)C(K[y]);C(le),C(de.$$.fragment,c),C(he.$$.fragment,c),C($e.$$.fragment,c),C(U.$$.fragment,c),x=!0}},o(c){F(t.$$.fragment,c),F(B.$$.fragment,c),F(ne),F(Z.$$.fragment,c);for(let y=0;y<K.length;y+=1)F(K[y]);F(le),F(de.$$.fragment,c),F(he.$$.fragment,c),F($e.$$.fragment,c),F(U.$$.fragment,c),x=!1},d(c){c&&(u(n),u(a),u(o),u(we),u(se),u(ae),u(X),u(ue),u(pe),u(Se),u(Fe),u(g)),j(t,c),j(B),ne&&ne.d(),j(Z);for(let y=0;y<K.length;y+=1)K[y].d();s[41](null),ce&&ce.d(),le&&le.d(c),j(de,c),j(he,c),j($e,c),j(U,c),Ue=!1,Pt(Le)}}}const il=()=>{};function fl(s,e,n){let t,l,a,o,r;Ae(s,rn,g=>n(12,t=g)),Ae(s,sn,g=>n(13,l=g)),Ae(s,We,g=>n(1,o=g)),Ae(s,on,g=>n(15,r=g));const{saveAs:i}=hn,_=ct("i18n");Ae(s,_,g=>n(14,a=g));let $=!1,H,I,V=!1,D=!1,h="",f=!1,m=!1,E=null,v=!1,S=[];const B=async g=>{const U=await ut(localStorage.token,g.id).catch(Le=>(ge.error(`${Le}`),null));ge.success(a.t("Redirecting you to Open WebUI Community"));const J="https://openwebui.com",x=await window.open(`${J}/functions/create`,"_blank"),Ue=Le=>{Le.origin===J&&Le.data==="loaded"&&(x.postMessage(JSON.stringify(U),"*"),window.removeEventListener("message",Ue))};window.addEventListener("message",Ue,!1),console.log(U)},W=async g=>{const U=await ut(localStorage.token,g.id).catch(J=>(ge.error(`${J}`),null));U&&(sessionStorage.function=JSON.stringify({...U,id:`${U.id}_clone`,name:`${U.name} (Clone)`}),lt("/admin/functions/create"))},z=async g=>{const U=await ut(localStorage.token,g.id).catch(J=>(ge.error(`${J}`),null));if(U){let J=new Blob([JSON.stringify([U])],{type:"application/json"});i(J,`function-${U.id}-export-${Date.now()}.json`)}},M=async g=>{var J;await an(localStorage.token,g.id).catch(x=>(ge.error(`${x}`),null))&&(ge.success(a.t("Function deleted successfully")),We.set(await rt(localStorage.token)),xe.set(await et(localStorage.token,((J=l==null?void 0:l.features)==null?void 0:J.enable_direct_connections)&&((t==null?void 0:t.directConnections)??null))))},oe=async g=>{var J;await fn(localStorage.token,g.id).catch(x=>{ge.error(`${x}`)})&&(g.is_global?g.type==="filter"?ge.success(a.t("Filter is now globally enabled")):ge.success(a.t("Function is now globally enabled")):g.type==="filter"?ge.success(a.t("Filter is now globally disabled")):ge.success(a.t("Function is now globally disabled")),We.set(await rt(localStorage.token)),xe.set(await et(localStorage.token,((J=l==null?void 0:l.features)==null?void 0:J.enable_direct_connections)&&((t==null?void 0:t.directConnections)??null))))};Rt(()=>{const g=x=>{x.key==="Shift"&&n(2,$=!0)},U=x=>{x.key==="Shift"&&n(2,$=!1)},J=()=>{n(2,$=!1)};return window.addEventListener("keydown",g),window.addEventListener("keyup",U),window.addEventListener("blur-sm",J),()=>{window.removeEventListener("keydown",g),window.removeEventListener("keyup",U),window.removeEventListener("blur-sm",J)}});const re=async g=>await un(localStorage.token,g),Y=g=>{sessionStorage.function=JSON.stringify({...g}),lt("/admin/functions/create")};function Z(g){V=g,n(5,V)}function we(){h=this.value,n(0,h)}const se=()=>{n(0,h="")},K=()=>{lt("/admin/functions/create")},Te=()=>{n(5,V=!0)},ae=g=>{M(g)},X=g=>{n(9,E=g),n(7,f=!0)},ie=g=>{n(9,E=g),n(8,m=!0)},ee=g=>{lt(`/admin/functions/edit?id=${encodeURIComponent(g.id)}`)},Be=g=>{B(g)},_e=g=>{W(g)},be=g=>{z(g)},Ie=async g=>{n(9,E=g),n(10,v=!0)},te=g=>{["filter","action"].includes(g.type)&&oe(g)};function q(g,U){s.$$.not_equal(U.is_active,g)&&(U.is_active=g,n(11,S),n(1,o),n(0,h))}const fe=async(g,U)=>{var J;cn(localStorage.token,g.id),xe.set(await et(localStorage.token,((J=l==null?void 0:l.features)==null?void 0:J.enable_direct_connections)&&((t==null?void 0:t.directConnections)??null)))};function ke(g){Ce[g?"unshift":"push"](()=>{H=g,n(3,H)})}function ve(){I=this.files,n(4,I)}const ue=()=>{console.log(I),n(6,D=!0)},pe=()=>{H.click()},de=async()=>{const g=await dn(localStorage.token).catch(U=>(ge.error(`${U}`),null));if(g){let U=new Blob([JSON.stringify(g)],{type:"application/json"});i(U,`functions-export-${Date.now()}.json`)}};function De(g){v=g,n(10,v)}const Se=()=>{M(E)};function he(g){f=g,n(7,f)}function He(g){m=g,n(8,m)}const Fe=async()=>{var g;await ln(),xe.set(await et(localStorage.token,((g=l==null?void 0:l.features)==null?void 0:g.enable_direct_connections)&&((t==null?void 0:t.directConnections)??null)))};function $e(g){D=g,n(6,D)}const Je=()=>{const g=new FileReader;g.onload=async U=>{var x;const J=JSON.parse(U.target.result);console.log(J);for(const Ue of J)await mn(localStorage.token,Ue).catch(Le=>(ge.error(`${Le}`),null));ge.success(a.t("Functions imported successfully")),We.set(await rt(localStorage.token)),xe.set(await et(localStorage.token,((x=l==null?void 0:l.features)==null?void 0:x.enable_direct_connections)&&((t==null?void 0:t.directConnections)??null)))},g.readAsText(I[0])};return s.$$.update=()=>{s.$$.dirty[0]&3&&n(11,S=o.filter(g=>h===""||g.name.toLowerCase().includes(h.toLowerCase())||g.id.toLowerCase().includes(h.toLowerCase())).sort((g,U)=>g.type.localeCompare(U.type)||g.name.localeCompare(U.name)))},[h,o,$,H,I,V,D,f,m,E,v,S,t,l,a,r,i,_,B,W,z,M,oe,re,Y,Z,we,se,K,Te,ae,X,ie,ee,Be,_e,be,Ie,te,q,fe,ke,ve,ue,pe,de,De,Se,he,He,Fe,$e,Je]}class ul extends at{constructor(e){super(),it(this,e,fl,al,st,{},null,[-1,-1])}}function Ot(s){let e,n;return e=new ul({}),{c(){O(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,l){G(e,t,l),n=!0},i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){F(e.$$.fragment,t),n=!1},d(t){j(e,t)}}}function cl(s){let e,n,t=s[0]!==null&&Ot();return{c(){t&&t.c(),e=Ht()},l(l){t&&t.l(l),e=Ht()},m(l,a){t&&t.m(l,a),L(l,e,a),n=!0},p(l,[a]){l[0]!==null?t?a&1&&C(t,1):(t=Ot(),t.c(),C(t,1),t.m(e.parentNode,e)):t&&(Ge(),F(t,1,1,()=>{t=null}),je())},i(l){n||(C(t),n=!0)},o(l){F(t),n=!1},d(l){l&&u(e),t&&t.d(l)}}}function dl(s,e,n){let t;return Ae(s,We,l=>n(0,t=l)),Rt(async()=>{await Promise.all([(async()=>{We.set(await rt(localStorage.token))})()])}),[t]}class Pl extends at{constructor(e){super(),it(this,e,dl,cl,st,{})}}export{Pl as component};
//# sourceMappingURL=12.DxhbMqUB.js.map
