import{s as w,l as g,i as $,d as b,j as d,p as P,q as h}from"../chunks/Bk--KVgx.js";import{S as y,i as S,t as m,a as u,c as C,b as q,d as B,m as j,e as E,g as M}from"../chunks/CoU9NT7-.js";import{t as p}from"../chunks/DXxu2l8m.js";import{g as l}from"../chunks/D_XIBSCa.js";import{p as N}from"../chunks/Cx1AvSPh.js";import{a as v,u as z,g as A}from"../chunks/CgPSx72R.js";import{p as D}from"../chunks/D-0X3nPa.js";import{P as F}from"../chunks/Bd5SqVxz.js";function _(s){let e,r;return e=new F({props:{prompt:s[0],onSubmit:s[2],edit:!0}}),{c(){q(e.$$.fragment)},l(t){B(e.$$.fragment,t)},m(t,o){j(e,t,o),r=!0},p(t,o){const a={};o&1&&(a.prompt=t[0]),e.$set(a)},i(t){r||(m(e.$$.fragment,t),r=!0)},o(t){u(e.$$.fragment,t),r=!1},d(t){E(e,t)}}}function G(s){let e,r,t=s[0]&&_(s);return{c(){t&&t.c(),e=g()},l(o){t&&t.l(o),e=g()},m(o,a){t&&t.m(o,a),$(o,e,a),r=!0},p(o,[a]){o[0]?t?(t.p(o,a),a&1&&m(t,1)):(t=_(o),t.c(),m(t,1),t.m(e.parentNode,e)):t&&(M(),u(t,1,1,()=>{t=null}),C())},i(o){r||(m(t),r=!0)},o(o){u(t),r=!1},d(o){o&&b(e),t&&t.d(o)}}}function H(s,e,r){let t,o;d(s,D,c=>r(3,t=c));const a=P("i18n");d(s,a,c=>r(4,o=c));let f=null;const k=async c=>{await z(localStorage.token,c).catch(i=>(p.error(`${i}`),null))&&(p.success(o.t("Prompt updated successfully")),await N.set(await A(localStorage.token)),await l("/workspace/prompts"))};return h(async()=>{const c=t.url.searchParams.get("command");if(c){const n=await v(localStorage.token,c.replace(/\//g,"")).catch(i=>(p.error(`${i}`),null));n?r(0,f={title:n.title,command:n.command,content:n.content,access_control:(n==null?void 0:n.access_control)===void 0?{}:n==null?void 0:n.access_control}):l("/workspace/prompts")}else l("/workspace/prompts")}),[f,a,k]}class U extends y{constructor(e){super(),S(this,e,H,G,w,{})}}export{U as component};
//# sourceMappingURL=36.Dlb9uR2H.js.map
