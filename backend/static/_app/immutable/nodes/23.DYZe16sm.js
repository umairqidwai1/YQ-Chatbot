import{s as Ee,E as me,F as he,a as b,d,f as i,i as O,g as _,n as ce,z as He,B as Le,p as _t,j as Be,K as Tt,r as vt,k as q,o as G,v as wt,w as bt,x as kt,e as y,t as Ie,c as $,b as De,u as ke,h as Ve,H as Xe,q as Vt,D as rt,L as Wt,V as zt,G as nt,C as Pe,T as Bt,S as lt,U as Et}from"../chunks/jBEftbNB.js";import{S as Ne,i as ye,f as Fe,b as L,d as P,m as F,t as D,a as S,e as x,g as Se,c as Me}from"../chunks/2lNU1ddO.js";import{p as St}from"../chunks/DvDQbo56.js";import{e as Ke}from"../chunks/ClpXlKdG.js";import{f as Mt}from"../chunks/CyTOOynw.js";import{h as jt,E as At}from"../chunks/MzMpT8ak.js";import{v as Ut,h as Rt,m as Ot,k as Ht,q as Lt}from"../chunks/DB_xkffJ.js";import{t as fe}from"../chunks/CPRQqKui.js";import{m as Pt,c as Ft,b as xt,s as Zt,e as qt,g as Gt}from"../chunks/BmtUElco.js";import{g as ot}from"../chunks/wUxqHZkW.js";import{u as Jt}from"../chunks/-zWpWX4S.js";import{d as Re,r as Yt}from"../chunks/I1CDPYOB.js";import"../chunks/0ZqDA-lu.js";import{c as Kt}from"../chunks/DOWKdgXc.js";import{d as Xt}from"../chunks/BQWQRICs.js";import{a as Qt,d as en,N as tn,u as nn}from"../chunks/B2qf74jD.js";import{R as sn,V as rn}from"../chunks/DI4DGxLM.js";import{S as Nt}from"../chunks/DPITe5b2.js";import{M as ln}from"../chunks/-J7lvLDE.js";import{C as on}from"../chunks/DYraow1T.js";import{I as an}from"../chunks/lz5LDNDa.js";import{F as cn}from"../chunks/Cm2AoO8L.js";import{F as un}from"../chunks/TmDH8Wcc.js";import"../chunks/jqnfoqud.js";import{M as fn,a as dn,b as mn}from"../chunks/5vPLDuD4.js";import{f as hn}from"../chunks/CttUuOFF.js";import{C as gn}from"../chunks/DCZ7j9fA.js";import{E as pn}from"../chunks/_4rz0OwG.js";import{T as yt}from"../chunks/BmKU5_x6.js";import{S as _n,A as vn}from"../chunks/B8sr3Cw8.js";import{C as wn}from"../chunks/BuErXVLk.js";import{c as bn}from"../chunks/DuCCpQXh.js";function kn(r){let e,t;return{c(){e=me("svg"),t=me("path"),this.h()},l(n){e=he(n,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var s=b(e);t=he(s,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),b(t).forEach(d),s.forEach(d),this.h()},h(){i(t,"stroke-linecap","round"),i(t,"stroke-linejoin","round"),i(t,"d","M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke-width",r[1]),i(e,"stroke","currentColor"),i(e,"class",r[0])},m(n,s){O(n,e,s),_(e,t)},p(n,[s]){s&2&&i(e,"stroke-width",n[1]),s&1&&i(e,"class",n[0])},i:ce,o:ce,d(n){n&&d(e)}}}function En(r,e,t){let{className:n="size-3"}=e,{strokeWidth:s="1.5"}=e;return r.$$set=l=>{"className"in l&&t(0,n=l.className),"strokeWidth"in l&&t(1,s=l.strokeWidth)},[n,s]}class Nn extends Ne{constructor(e){super(),ye(this,e,En,kn,Ee,{className:0,strokeWidth:1})}}function yn(r){let e,t;return{c(){e=me("svg"),t=me("path"),this.h()},l(n){e=he(n,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var s=b(e);t=he(s,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),b(t).forEach(d),s.forEach(d),this.h()},h(){i(t,"stroke-linecap","round"),i(t,"stroke-linejoin","round"),i(t,"d","M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke-width",r[1]),i(e,"stroke","currentColor"),i(e,"class",r[0])},m(n,s){O(n,e,s),_(e,t)},p(n,[s]){s&2&&i(e,"stroke-width",n[1]),s&1&&i(e,"class",n[0])},i:ce,o:ce,d(n){n&&d(e)}}}function $n(r,e,t){let{className:n="size-3"}=e,{strokeWidth:s="1.5"}=e;return r.$$set=l=>{"className"in l&&t(0,n=l.className),"strokeWidth"in l&&t(1,s=l.strokeWidth)},[n,s]}class Cn extends Ne{constructor(e){super(),ye(this,e,$n,yn,Ee,{className:0,strokeWidth:1})}}function In(r){let e,t;return{c(){e=me("svg"),t=me("path"),this.h()},l(n){e=he(n,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var s=b(e);t=he(s,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),b(t).forEach(d),s.forEach(d),this.h()},h(){i(t,"stroke-linecap","round"),i(t,"stroke-linejoin","round"),i(t,"d","M12 18.75a6 6 0 0 0 6-6v-1.5m-6 7.5a6 6 0 0 1-6-6v-1.5m6 7.5v3.75m-3.75 0h7.5M12 15.75a3 3 0 0 1-3-3V4.5a3 3 0 1 1 6 0v8.25a3 3 0 0 1-3 3Z"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke-width",r[1]),i(e,"stroke","currentColor"),i(e,"class",r[0])},m(n,s){O(n,e,s),_(e,t)},p(n,[s]){s&2&&i(e,"stroke-width",n[1]),s&1&&i(e,"class",n[0])},i:ce,o:ce,d(n){n&&d(e)}}}function Dn(r,e,t){let{className:n="size-4"}=e,{strokeWidth:s="1.5"}=e;return r.$$set=l=>{"className"in l&&t(0,n=l.className),"strokeWidth"in l&&t(1,s=l.strokeWidth)},[n,s]}class Tn extends Ne{constructor(e){super(),ye(this,e,Dn,In,Ee,{className:0,strokeWidth:1})}}function Vn(r){let e,t;return{c(){e=me("svg"),t=me("path"),this.h()},l(n){e=he(n,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var s=b(e);t=he(s,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),b(t).forEach(d),s.forEach(d),this.h()},h(){i(t,"stroke-linecap","round"),i(t,"stroke-linejoin","round"),i(t,"d","M15.042 21.672 13.684 16.6m0 0-2.51 2.225.569-9.47 5.227 7.917-3.286-.672ZM12 2.25V4.5m5.834.166-1.591 1.591M20.25 10.5H18M7.757 14.743l-1.59 1.59M6 10.5H3.75m4.007-4.243-1.59-1.59"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke-width",r[1]),i(e,"stroke","currentColor"),i(e,"class",r[0])},m(n,s){O(n,e,s),_(e,t)},p(n,[s]){s&2&&i(e,"stroke-width",n[1]),s&1&&i(e,"class",n[0])},i:ce,o:ce,d(n){n&&d(e)}}}function Wn(r,e,t){let{className:n="size-4"}=e,{strokeWidth:s="1.5"}=e;return r.$$set=l=>{"className"in l&&t(0,n=l.className),"strokeWidth"in l&&t(1,s=l.strokeWidth)},[n,s]}class zn extends Ne{constructor(e){super(),ye(this,e,Wn,Vn,Ee,{className:0,strokeWidth:1})}}const Bn=r=>({}),at=r=>({});function Sn(r){let e;const t=r[8].default,n=vt(t,r,r[15],null);return{c(){n&&n.c()},l(s){n&&n.l(s)},m(s,l){n&&n.m(s,l),e=!0},p(s,l){n&&n.p&&(!e||l&32768)&&wt(n,t,s,s[15],e?kt(t,s[15],l,null):bt(s[15]),null)},i(s){e||(D(n,s),e=!0)},o(s){S(n,s),e=!1},d(s){n&&n.d(s)}}}function Mn(r){let e,t,n,s,l,o=r[5].t("Record")+"",a,f,m,v,p,u,g,I=r[5].t("Capture Audio")+"",k,E,V,U,T,Q,Y,te=r[5].t("Upload Audio")+"",K,j,R,M;return n=new Tn({props:{className:"size-5",strokeWidth:"1.5"}}),p=new zn({props:{className:"size-5",strokeWidth:"1.5"}}),T=new gn({props:{className:"size-5",strokeWidth:"1.5"}}),{c(){e=y("button"),t=y("div"),L(n.$$.fragment),s=q(),l=y("div"),a=Ie(o),f=q(),m=y("button"),v=y("div"),L(p.$$.fragment),u=q(),g=y("div"),k=Ie(I),E=q(),V=y("button"),U=y("div"),L(T.$$.fragment),Q=q(),Y=y("div"),K=Ie(te),this.h()},l(N){e=$(N,"BUTTON",{class:!0});var W=b(e);t=$(W,"DIV",{class:!0});var h=b(t);P(n.$$.fragment,h),h.forEach(d),s=G(W),l=$(W,"DIV",{class:!0});var z=b(l);a=De(z,o),z.forEach(d),W.forEach(d),f=G(N),m=$(N,"BUTTON",{class:!0});var ne=b(m);v=$(ne,"DIV",{class:!0});var Z=b(v);P(p.$$.fragment,Z),Z.forEach(d),u=G(ne),g=$(ne,"DIV",{class:!0});var ue=b(g);k=De(ue,I),ue.forEach(d),ne.forEach(d),E=G(N),V=$(N,"BUTTON",{class:!0});var se=b(V);U=$(se,"DIV",{class:!0});var re=b(U);P(T.$$.fragment,re),re.forEach(d),Q=G(se),Y=$(se,"DIV",{class:!0});var ve=b(Y);K=De(ve,te),ve.forEach(d),se.forEach(d),this.h()},h(){i(t,"class","self-center mr-2"),i(l,"class","self-center truncate"),i(e,"class","flex rounded-md py-1.5 px-3 w-full hover:bg-gray-50 dark:hover:bg-gray-800 transition"),i(v,"class","self-center mr-2"),i(g,"class","self-center truncate"),i(m,"class","flex rounded-md py-1.5 px-3 w-full hover:bg-gray-50 dark:hover:bg-gray-800 transition"),i(U,"class","self-center mr-2"),i(Y,"class","self-center truncate"),i(V,"class","flex rounded-md py-1.5 px-3 w-full hover:bg-gray-50 dark:hover:bg-gray-800 transition")},m(N,W){O(N,e,W),_(e,t),F(n,t,null),_(e,s),_(e,l),_(l,a),O(N,f,W),O(N,m,W),_(m,v),F(p,v,null),_(m,u),_(m,g),_(g,k),O(N,E,W),O(N,V,W),_(V,U),F(T,U,null),_(V,Q),_(V,Y),_(Y,K),j=!0,R||(M=[ke(e,"click",r[9]),ke(m,"click",r[10]),ke(V,"click",r[11])],R=!0)},p(N,W){(!j||W&32)&&o!==(o=N[5].t("Record")+"")&&Ve(a,o),(!j||W&32)&&I!==(I=N[5].t("Capture Audio")+"")&&Ve(k,I),(!j||W&32)&&te!==(te=N[5].t("Upload Audio")+"")&&Ve(K,te)},i(N){j||(D(n.$$.fragment,N),D(p.$$.fragment,N),D(T.$$.fragment,N),j=!0)},o(N){S(n.$$.fragment,N),S(p.$$.fragment,N),S(T.$$.fragment,N),j=!1},d(N){N&&(d(e),d(f),d(m),d(E),d(V)),x(n),x(p),x(T),R=!1,Xe(M)}}}function jn(r){let e,t;return e=new mn({props:{class:"w-full "+r[1]+" text-sm rounded-xl px-1 py-1.5 z-50 bg-white dark:bg-gray-850 dark:text-white shadow-lg font-primary",sideOffset:8,side:"bottom",align:"start",transition:r[12],$$slots:{default:[Mn]},$$scope:{ctx:r}}}),{c(){L(e.$$.fragment)},l(n){P(e.$$.fragment,n)},m(n,s){F(e,n,s),t=!0},p(n,s){const l={};s&2&&(l.class="w-full "+n[1]+" text-sm rounded-xl px-1 py-1.5 z-50 bg-white dark:bg-gray-850 dark:text-white shadow-lg font-primary"),s&32829&&(l.$$scope={dirty:s,ctx:n}),e.$set(l)},i(n){t||(D(e.$$.fragment,n),t=!0)},o(n){S(e.$$.fragment,n),t=!1},d(n){x(e,n)}}}function An(r){let e,t,n;e=new dn({props:{$$slots:{default:[Sn]},$$scope:{ctx:r}}});const s=r[8].content,l=vt(s,r,r[15],at),o=l||jn(r);return{c(){L(e.$$.fragment),t=q(),o&&o.c()},l(a){P(e.$$.fragment,a),t=G(a),o&&o.l(a)},m(a,f){F(e,a,f),O(a,t,f),o&&o.m(a,f),n=!0},p(a,f){const m={};f&32768&&(m.$$scope={dirty:f,ctx:a}),e.$set(m),l?l.p&&(!n||f&32768)&&wt(l,s,a,a[15],n?kt(s,a[15],f,Bn):bt(a[15]),at):o&&o.p&&(!n||f&63)&&o.p(a,n?f:-1)},i(a){n||(D(e.$$.fragment,a),D(o,a),n=!0)},o(a){S(e.$$.fragment,a),S(o,a),n=!1},d(a){a&&d(t),x(e,a),o&&o.d(a)}}}function Un(r){let e,t,n;function s(o){r[14](o)}let l={onOpenChange:r[13],$$slots:{default:[An]},$$scope:{ctx:r}};return r[0]!==void 0&&(l.open=r[0]),e=new fn({props:l}),He.push(()=>Fe(e,"open",s)),{c(){L(e.$$.fragment)},l(o){P(e.$$.fragment,o)},m(o,a){F(e,o,a),n=!0},p(o,[a]){const f={};a&32831&&(f.$$scope={dirty:a,ctx:o}),!t&&a&1&&(t=!0,f.open=o[0],Le(()=>t=!1)),e.$set(f)},i(o){n||(D(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function Rn(r,e,t){let n,{$$slots:s={},$$scope:l}=e;const o=_t("i18n");Be(r,o,T=>t(5,n=T));let{show:a=!1}=e,{className:f="max-w-[170px]"}=e,{onRecord:m=()=>{}}=e,{onCaptureAudio:v=()=>{}}=e,{onUpload:p=()=>{}}=e;const u=Tt(),g=async()=>{m(),t(0,a=!1)},I=()=>{v(),t(0,a=!1)},k=()=>{p(),t(0,a=!1)},E=T=>hn(T,{duration:100}),V=T=>{u("change",T)};function U(T){a=T,t(0,a)}return r.$$set=T=>{"show"in T&&t(0,a=T.show),"className"in T&&t(1,f=T.className),"onRecord"in T&&t(2,m=T.onRecord),"onCaptureAudio"in T&&t(3,v=T.onCaptureAudio),"onUpload"in T&&t(4,p=T.onUpload),"$$scope"in T&&t(15,l=T.$$scope)},[a,f,m,v,p,n,o,u,s,g,I,k,E,V,U,l]}class On extends Ne{constructor(e){super(),ye(this,e,Rn,Un,Ee,{show:0,className:1,onRecord:2,onCaptureAudio:3,onUpload:4})}}function Hn(r){let e,t;return{c(){e=me("svg"),t=me("path"),this.h()},l(n){e=he(n,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var s=b(e);t=he(s,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),b(t).forEach(d),s.forEach(d),this.h()},h(){i(t,"fill-rule","evenodd"),i(t,"d","M9 4.5a.75.75 0 0 1 .721.544l.813 2.846a3.75 3.75 0 0 0 2.576 2.576l2.846.813a.75.75 0 0 1 0 1.442l-2.846.813a3.75 3.75 0 0 0-2.576 2.576l-.813 2.846a.75.75 0 0 1-1.442 0l-.813-2.846a3.75 3.75 0 0 0-2.576-2.576l-2.846-.813a.75.75 0 0 1 0-1.442l2.846-.813A3.75 3.75 0 0 0 7.466 7.89l.813-2.846A.75.75 0 0 1 9 4.5ZM18 1.5a.75.75 0 0 1 .728.568l.258 1.036c.236.94.97 1.674 1.91 1.91l1.036.258a.75.75 0 0 1 0 1.456l-1.036.258c-.94.236-1.674.97-1.91 1.91l-.258 1.036a.75.75 0 0 1-1.456 0l-.258-1.036a2.625 2.625 0 0 0-1.91-1.91l-1.036-.258a.75.75 0 0 1 0-1.456l1.036-.258a2.625 2.625 0 0 0 1.91-1.91l.258-1.036A.75.75 0 0 1 18 1.5ZM16.5 15a.75.75 0 0 1 .712.513l.394 1.183c.15.447.5.799.948.948l1.183.395a.75.75 0 0 1 0 1.422l-1.183.395c-.447.15-.799.5-.948.948l-.395 1.183a.75.75 0 0 1-1.422 0l-.395-1.183a1.5 1.5 0 0 0-.948-.948l-1.183-.395a.75.75 0 0 1 0-1.422l1.183-.395c.447-.15.799-.5.948-.948l.395-1.183A.75.75 0 0 1 16.5 15Z"),i(t,"clip-rule","evenodd"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"viewBox","0 0 24 24"),i(e,"fill","currentColor"),i(e,"class",r[0])},m(n,s){O(n,e,s),_(e,t)},p(n,[s]){s&1&&i(e,"class",n[0])},i:ce,o:ce,d(n){n&&d(e)}}}function Ln(r,e,t){let{className:n="w-4 h-4"}=e,{strokeWidth:s="1.5"}=e;return r.$$set=l=>{"className"in l&&t(0,n=l.className),"strokeWidth"in l&&t(1,s=l.strokeWidth)},[n,s]}class Pn extends Ne{constructor(e){super(),ye(this,e,Ln,Hn,Ee,{className:0,strokeWidth:1})}}function Fn(r){let e,t;return{c(){e=me("svg"),t=me("path"),this.h()},l(n){e=he(n,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var s=b(e);t=he(s,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),b(t).forEach(d),s.forEach(d),this.h()},h(){i(t,"stroke-linecap","round"),i(t,"stroke-linejoin","round"),i(t,"d","M9 15 3 9m0 0 6-6M3 9h12a6 6 0 0 1 0 12h-3"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke-width",r[1]),i(e,"stroke","currentColor"),i(e,"class",r[0])},m(n,s){O(n,e,s),_(e,t)},p(n,[s]){s&2&&i(e,"stroke-width",n[1]),s&1&&i(e,"class",n[0])},i:ce,o:ce,d(n){n&&d(e)}}}function xn(r,e,t){let{className:n="size-4"}=e,{strokeWidth:s="1.5"}=e;return r.$$set=l=>{"className"in l&&t(0,n=l.className),"strokeWidth"in l&&t(1,s=l.strokeWidth)},[n,s]}class Zn extends Ne{constructor(e){super(),ye(this,e,xn,Fn,Ee,{className:0,strokeWidth:1})}}function qn(r){let e,t;return{c(){e=me("svg"),t=me("path"),this.h()},l(n){e=he(n,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var s=b(e);t=he(s,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),b(t).forEach(d),s.forEach(d),this.h()},h(){i(t,"stroke-linecap","round"),i(t,"stroke-linejoin","round"),i(t,"d","m15 15 6-6m0 0-6-6m6 6H9a6 6 0 0 0 0 12h3"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke-width",r[1]),i(e,"stroke","currentColor"),i(e,"class",r[0])},m(n,s){O(n,e,s),_(e,t)},p(n,[s]){s&2&&i(e,"stroke-width",n[1]),s&1&&i(e,"class",n[0])},i:ce,o:ce,d(n){n&&d(e)}}}function Gn(r,e,t){let{className:n="size-4"}=e,{strokeWidth:s="1.5"}=e;return r.$$set=l=>{"className"in l&&t(0,n=l.className),"strokeWidth"in l&&t(1,s=l.strokeWidth)},[n,s]}class Jn extends Ne{constructor(e){super(),ye(this,e,Gn,qn,Ee,{className:0,strokeWidth:1})}}function it(r,e,t){const n=r.slice();return n[61]=e[t],n[63]=t,n}function ct(r,e,t){const n=r.slice();return n[64]=e[t],n}function Yn(r){let e,t=r[1].t("This will delete")+"",n,s,l,o=r[0].title+"",a,f;return{c(){e=y("div"),n=Ie(t),s=q(),l=y("span"),a=Ie(o),f=Ie("."),this.h()},l(m){e=$(m,"DIV",{class:!0});var v=b(e);n=De(v,t),s=G(v),l=$(v,"SPAN",{class:!0});var p=b(l);a=De(p,o),p.forEach(d),f=De(v,"."),v.forEach(d),this.h()},h(){i(l,"class","font-semibold"),i(e,"class","text-sm text-gray-500")},m(m,v){O(m,e,v),_(e,n),_(e,s),_(e,l),_(l,a),_(e,f)},p(m,v){v[0]&2&&t!==(t=m[1].t("This will delete")+"")&&Ve(n,t),v[0]&1&&o!==(o=m[0].title+"")&&Ve(a,o)},d(m){m&&d(e)}}}function ut(r){let e,t=r[64].name+"",n,s;return{c(){e=y("option"),n=Ie(t),this.h()},l(l){e=$(l,"OPTION",{class:!0});var o=b(e);n=De(o,t),o.forEach(d),this.h()},h(){e.__value=s=r[64].id,Pe(e,e.__value),i(e,"class","bg-gray-50 dark:bg-gray-700")},m(l,o){O(l,e,o),_(e,n)},p(l,o){o[0]&8192&&t!==(t=l[64].name+"")&&Ve(n,t),o[0]&8192&&s!==(s=l[64].id)&&(e.__value=s,Pe(e,e.__value))},d(l){l&&d(e)}}}function Kn(r){let e,t,n,s="Settings",l,o,a,f,m,v,p,u,g="Model",I,k,E,V,U=r[1].t("Select a model")+"",T,Q,Y,te,K;f=new vn({props:{className:"size-3",strokeWidth:"2.5"}});let j=Ke(r[13].filter(pt)),R=[];for(let M=0;M<j.length;M+=1)R[M]=ut(ct(r,j,M));return{c(){e=y("div"),t=y("div"),n=y("div"),n.textContent=s,l=q(),o=y("div"),a=y("button"),L(f.$$.fragment),m=q(),v=y("div"),p=y("div"),u=y("div"),u.textContent=g,I=q(),k=y("div"),E=y("select"),V=y("option"),T=Ie(U),Q=q();for(let M=0;M<R.length;M+=1)R[M].c();this.h()},l(M){e=$(M,"DIV",{class:!0});var N=b(e);t=$(N,"DIV",{class:!0});var W=b(t);n=$(W,"DIV",{class:!0,"data-svelte-h":!0}),nt(n)!=="svelte-1dw76ku"&&(n.textContent=s),l=G(W),o=$(W,"DIV",{class:!0});var h=b(o);a=$(h,"BUTTON",{class:!0});var z=b(a);P(f.$$.fragment,z),z.forEach(d),h.forEach(d),W.forEach(d),m=G(N),v=$(N,"DIV",{class:!0});var ne=b(v);p=$(ne,"DIV",{});var Z=b(p);u=$(Z,"DIV",{class:!0,"data-svelte-h":!0}),nt(u)!=="svelte-vz1bvh"&&(u.textContent=g),I=G(Z),k=$(Z,"DIV",{class:!0});var ue=b(k);E=$(ue,"SELECT",{class:!0});var se=b(E);V=$(se,"OPTION",{class:!0});var re=b(V);T=De(re,U),Q=G(re),re.forEach(d);for(let ve=0;ve<R.length;ve+=1)R[ve].l(se);se.forEach(d),ue.forEach(d),Z.forEach(d),ne.forEach(d),N.forEach(d),this.h()},h(){i(n,"class","font-medium text-base"),i(a,"class","p-1.5 bg-transparent hover:bg-white/5 transition rounded-lg"),i(o,"class","translate-x-1.5"),i(t,"class","flex justify-between items-center mb-2"),i(u,"class","text-xs font-medium mb-1"),V.__value="",Pe(V,V.__value),i(V,"class","bg-gray-50 dark:bg-gray-700"),V.disabled=!0,i(E,"class","w-full bg-transparent text-sm outline-hidden"),r[4]===void 0&&Bt(()=>r[25].call(E)),i(k,"class","w-full"),i(v,"class","mt-1"),i(e,"class","flex flex-col px-5 py-3 text-sm")},m(M,N){O(M,e,N),_(e,t),_(t,n),_(t,l),_(t,o),_(o,a),F(f,a,null),_(e,m),_(e,v),_(v,p),_(p,u),_(p,I),_(p,k),_(k,E),_(E,V),_(V,T),_(V,Q);for(let W=0;W<R.length;W+=1)R[W]&&R[W].m(E,null);lt(E,r[4],!0),Y=!0,te||(K=[ke(a,"click",r[24]),ke(E,"change",r[25])],te=!0)},p(M,N){if((!Y||N[0]&2)&&U!==(U=M[1].t("Select a model")+"")&&Ve(T,U),N[0]&8192){j=Ke(M[13].filter(pt));let W;for(W=0;W<j.length;W+=1){const h=ct(M,j,W);R[W]?R[W].p(h,N):(R[W]=ut(h),R[W].c(),R[W].m(E,null))}for(;W<R.length;W+=1)R[W].d(1);R.length=j.length}N[0]&8208&&lt(E,M[4])},i(M){Y||(D(f.$$.fragment,M),Y=!0)},o(M){S(f.$$.fragment,M),Y=!1},d(M){M&&d(e),x(f),Et(R,M),te=!1,Xe(K)}}}function Xn(r){var Ze,qe,Ge,Je;let e,t,n,s,l,o,a,f,m,v,p,u,g,I,k,E,V,U,T,Q=Re(r[0].created_at/1e6).calendar()+"",Y,te,K,j,R,M,N="You",W,h,z,ne,Z,ue,se,re,ve,Oe,X=((qe=(Ze=r[0].data)==null?void 0:Ze.versions)==null?void 0:qe.length)>0&&ft(r);m=new tn({props:{onDownload:r[30],onCopyToClipboard:r[31],onDelete:r[32],$$slots:{default:[es]},$$scope:{ctx:r}}}),u=new wn({}),V=new Nn({props:{className:"size-3.5",strokeWidth:"2"}}),j=new Cn({props:{className:"size-3.5",strokeWidth:"2"}});let le=r[11]&&dt(r),ee=r[2]&&r[2].length>0&&mt(r);function Qe(B){r[37](B)}let xe={className:"input-prose-sm px-0.5",placeholder:r[1].t("Write something..."),html:(Je=(Ge=r[0].data)==null?void 0:Ge.content)==null?void 0:Je.html,json:!0,editable:r[3]===null&&!r[11],onChange:r[36]};return r[0].data.content.json!==void 0&&(xe.value=r[0].data.content.json),Z=new sn({props:xe}),He.push(()=>Fe(Z,"value",Qe)),{c(){e=y("div"),t=y("div"),n=y("div"),s=y("input"),o=q(),a=y("div"),X&&X.c(),f=q(),L(m.$$.fragment),v=q(),p=y("button"),L(u.$$.fragment),g=q(),I=y("div"),k=y("div"),E=y("button"),L(V.$$.fragment),U=q(),T=y("span"),Y=Ie(Q),te=q(),K=y("button"),L(j.$$.fragment),R=q(),M=y("span"),M.textContent=N,W=q(),h=y("div"),le&&le.c(),z=q(),ee&&ee.c(),ne=q(),L(Z.$$.fragment),this.h()},l(B){e=$(B,"DIV",{class:!0});var H=b(e);t=$(H,"DIV",{class:!0});var $e=b(t);n=$($e,"DIV",{class:!0});var ge=b(n);s=$(ge,"INPUT",{class:!0,type:!0,placeholder:!0}),o=G(ge),a=$(ge,"DIV",{class:!0});var be=b(a);X&&X.l(be),f=G(be),P(m.$$.fragment,be),v=G(be),p=$(be,"BUTTON",{class:!0});var We=b(p);P(u.$$.fragment,We),We.forEach(d),be.forEach(d),ge.forEach(d),$e.forEach(d),g=G(H),I=$(H,"DIV",{class:!0});var ze=b(I);k=$(ze,"DIV",{class:!0});var Ce=b(k);E=$(Ce,"BUTTON",{class:!0});var je=b(E);P(V.$$.fragment,je),U=G(je),T=$(je,"SPAN",{});var Ye=b(T);Y=De(Ye,Q),Ye.forEach(d),je.forEach(d),te=G(Ce),K=$(Ce,"BUTTON",{class:!0});var Ae=b(K);P(j.$$.fragment,Ae),R=G(Ae),M=$(Ae,"SPAN",{"data-svelte-h":!0}),nt(M)!=="svelte-1lsvfg9"&&(M.textContent=N),Ae.forEach(d),Ce.forEach(d),ze.forEach(d),W=G(H),h=$(H,"DIV",{class:!0,id:!0});var Te=b(h);le&&le.l(Te),z=G(Te),ee&&ee.l(Te),ne=G(Te),P(Z.$$.fragment,Te),Te.forEach(d),H.forEach(d),this.h()},h(){i(s,"class","w-full text-2xl font-medium bg-transparent outline-hidden"),i(s,"type","text"),i(s,"placeholder",l=r[1].t("Title")),s.required=!0,i(p,"class","p-1.5 bg-transparent hover:bg-white/5 transition rounded-lg"),i(a,"class","flex items-center gap-2 translate-x-1"),i(n,"class","w-full flex items-center"),i(t,"class","shrink-0 w-full flex justify-between items-center px-4.5 mb-1.5"),i(E,"class","flex items-center gap-1 w-fit py-1 px-1.5 rounded-lg"),i(K,"class","flex items-center gap-1 w-fit py-1 px-1.5 rounded-lg"),i(k,"class","flex gap-1 items-center text-xs font-medium text-gray-500 dark:text-gray-500"),i(I,"class","mb-2.5 px-3.5"),i(h,"class","flex-1 w-full h-full overflow-auto px-4 pb-20 relative"),i(h,"id","note-content-container"),i(e,"class",se="w-full flex flex-col "+(r[10]?"opacity-20":""))},m(B,H){O(B,e,H),_(e,t),_(t,n),_(n,s),Pe(s,r[0].title),_(n,o),_(n,a),X&&X.m(a,null),_(a,f),F(m,a,null),_(a,v),_(a,p),F(u,p,null),_(e,g),_(e,I),_(I,k),_(k,E),F(V,E,null),_(E,U),_(E,T),_(T,Y),_(k,te),_(k,K),F(j,K,null),_(K,R),_(K,M),_(e,W),_(e,h),le&&le.m(h,null),_(h,z),ee&&ee.m(h,null),_(h,ne),F(Z,h,null),re=!0,ve||(Oe=[ke(s,"input",r[27]),ke(p,"click",r[33])],ve=!0)},p(B,H){var be,We,ze,Ce;(!re||H[0]&2&&l!==(l=B[1].t("Title")))&&i(s,"placeholder",l),H[0]&1&&s.value!==B[0].title&&Pe(s,B[0].title),((We=(be=B[0].data)==null?void 0:be.versions)==null?void 0:We.length)>0?X?(X.p(B,H),H[0]&1&&D(X,1)):(X=ft(B),X.c(),D(X,1),X.m(a,f)):X&&(Se(),S(X,1,1,()=>{X=null}),Me());const $e={};H[0]&3&&($e.onCopyToClipboard=B[31]),H[0]&256&&($e.onDelete=B[32]),H[2]&32&&($e.$$scope={dirty:H,ctx:B}),m.$set($e),(!re||H[0]&1)&&Q!==(Q=Re(B[0].created_at/1e6).calendar()+"")&&Ve(Y,Q),B[11]?le?le.p(B,H):(le=dt(B),le.c(),le.m(h,z)):le&&(le.d(1),le=null),B[2]&&B[2].length>0?ee?(ee.p(B,H),H[0]&4&&D(ee,1)):(ee=mt(B),ee.c(),D(ee,1),ee.m(h,ne)):ee&&(Se(),S(ee,1,1,()=>{ee=null}),Me());const ge={};H[0]&2&&(ge.placeholder=B[1].t("Write something...")),H[0]&1&&(ge.html=(Ce=(ze=B[0].data)==null?void 0:ze.content)==null?void 0:Ce.html),H[0]&2056&&(ge.editable=B[3]===null&&!B[11]),H[0]&1&&(ge.onChange=B[36]),!ue&&H[0]&1&&(ue=!0,ge.value=B[0].data.content.json,Le(()=>ue=!1)),Z.$set(ge),(!re||H[0]&1024&&se!==(se="w-full flex flex-col "+(B[10]?"opacity-20":"")))&&i(e,"class",se)},i(B){re||(D(X),D(m.$$.fragment,B),D(u.$$.fragment,B),D(V.$$.fragment,B),D(j.$$.fragment,B),D(ee),D(Z.$$.fragment,B),re=!0)},o(B){S(X),S(m.$$.fragment,B),S(u.$$.fragment,B),S(V.$$.fragment,B),S(j.$$.fragment,B),S(ee),S(Z.$$.fragment,B),re=!1},d(B){B&&d(e),X&&X.d(),x(m),x(u),x(V),x(j),le&&le.d(),ee&&ee.d(),x(Z),ve=!1,Xe(Oe)}}}function Qn(r){let e,t,n,s;return n=new Nt({}),{c(){e=y("div"),t=y("div"),L(n.$$.fragment),this.h()},l(l){e=$(l,"DIV",{class:!0});var o=b(e);t=$(o,"DIV",{class:!0});var a=b(t);P(n.$$.fragment,a),a.forEach(d),o.forEach(d),this.h()},h(){i(t,"class","m-auto"),i(e,"class","absolute top-0 bottom-0 left-0 right-0 flex")},m(l,o){O(l,e,o),_(e,t),F(n,t,null),s=!0},p:ce,i(l){s||(D(n.$$.fragment,l),s=!0)},o(l){S(n.$$.fragment,l),s=!1},d(l){l&&d(e),x(n)}}}function ft(r){let e,t,n,s,l,o,a,f,m,v,p,u;return s=new Zn({props:{className:"size-4"}}),f=new Jn({props:{className:"size-4"}}),{c(){e=y("div"),t=y("div"),n=y("button"),L(s.$$.fragment),o=q(),a=y("button"),L(f.$$.fragment),this.h()},l(g){e=$(g,"DIV",{});var I=b(e);t=$(I,"DIV",{class:!0,dir:!0});var k=b(t);n=$(k,"BUTTON",{class:!0});var E=b(n);P(s.$$.fragment,E),E.forEach(d),o=G(k),a=$(k,"BUTTON",{class:!0});var V=b(a);P(f.$$.fragment,V),V.forEach(d),k.forEach(d),I.forEach(d),this.h()},h(){i(n,"class","self-center p-1 hover:enabled:bg-black/5 dark:hover:enabled:bg-white/5 dark:hover:enabled:text-white hover:enabled:text-black rounded-md transition disabled:cursor-not-allowed disabled:text-gray-500 disabled:hover:text-gray-500"),n.disabled=l=r[3]===null&&r[0].data.versions.length===0||r[3]===0,i(a,"class","self-center p-1 hover:enabled:bg-black/5 dark:hover:enabled:bg-white/5 dark:hover:enabled:text-white hover:enabled:text-black rounded-md transition disabled:cursor-not-allowed disabled:text-gray-500 disabled:hover:text-gray-500"),a.disabled=m=r[3]>=r[0].data.versions.length||r[3]===null,i(t,"class","flex items-center gap-0.5 self-center min-w-fit"),i(t,"dir","ltr")},m(g,I){O(g,e,I),_(e,t),_(t,n),F(s,n,null),_(t,o),_(t,a),F(f,a,null),v=!0,p||(u=[ke(n,"click",r[28]),ke(a,"click",r[29])],p=!0)},p(g,I){(!v||I[0]&9&&l!==(l=g[3]===null&&g[0].data.versions.length===0||g[3]===0))&&(n.disabled=l),(!v||I[0]&9&&m!==(m=g[3]>=g[0].data.versions.length||g[3]===null))&&(a.disabled=m)},i(g){v||(D(s.$$.fragment,g),D(f.$$.fragment,g),v=!0)},o(g){S(s.$$.fragment,g),S(f.$$.fragment,g),v=!1},d(g){g&&d(e),x(s),x(f),p=!1,Xe(u)}}}function es(r){let e,t;return e=new pn({props:{className:"size-5"}}),{c(){L(e.$$.fragment)},l(n){P(e.$$.fragment,n)},m(n,s){F(e,n,s),t=!0},p:ce,i(n){t||(D(e.$$.fragment,n),t=!0)},o(n){S(e.$$.fragment,n),t=!1},d(n){x(e,n)}}}function dt(r){let e,t;return{c(){e=y("div"),this.h()},l(n){e=$(n,"DIV",{class:!0}),b(e).forEach(d),this.h()},h(){i(e,"class",t="w-full h-full fixed top-0 left-0 "+(r[12]?"":" backdrop-blur-xs  bg-white/10 dark:bg-gray-900/10")+" flex items-center justify-center z-10 cursor-not-allowed")},m(n,s){O(n,e,s)},p(n,s){s[0]&4096&&t!==(t="w-full h-full fixed top-0 left-0 "+(n[12]?"":" backdrop-blur-xs  bg-white/10 dark:bg-gray-900/10")+" flex items-center justify-center z-10 cursor-not-allowed")&&i(e,"class",t)},d(n){n&&d(e)}}}function mt(r){let e,t,n=Ke(r[2]),s=[];for(let o=0;o<n.length;o+=1)s[o]=ht(it(r,n,o));const l=o=>S(s[o],1,1,()=>{s[o]=null});return{c(){e=y("div");for(let o=0;o<s.length;o+=1)s[o].c();this.h()},l(o){e=$(o,"DIV",{class:!0});var a=b(e);for(let f=0;f<s.length;f+=1)s[f].l(a);a.forEach(d),this.h()},h(){i(e,"class","mb-3.5 mt-1.5 w-full flex gap-1 flex-wrap z-40")},m(o,a){O(o,e,a);for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(e,null);t=!0},p(o,a){if(a[0]&5){n=Ke(o[2]);let f;for(f=0;f<n.length;f+=1){const m=it(o,n,f);s[f]?(s[f].p(m,a),D(s[f],1)):(s[f]=ht(m),s[f].c(),D(s[f],1),s[f].m(e,null))}for(Se(),f=n.length;f<s.length;f+=1)l(f);Me()}},i(o){if(!t){for(let a=0;a<n.length;a+=1)D(s[a]);t=!0}},o(o){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)S(s[a]);t=!1},d(o){o&&d(e),Et(s,o)}}}function ts(r){var s;let e,t;function n(){return r[35](r[61])}return e=new cn({props:{item:r[61],dismissible:!0,url:r[61].url,name:r[61].name,type:r[61].type,size:(s=r[61])==null?void 0:s.size,loading:r[61].status==="uploading"}}),e.$on("dismiss",n),{c(){L(e.$$.fragment)},l(l){P(e.$$.fragment,l)},m(l,o){F(e,l,o),t=!0},p(l,o){var f;r=l;const a={};o[0]&4&&(a.item=r[61]),o[0]&4&&(a.url=r[61].url),o[0]&4&&(a.name=r[61].name),o[0]&4&&(a.type=r[61].type),o[0]&4&&(a.size=(f=r[61])==null?void 0:f.size),o[0]&4&&(a.loading=r[61].status==="uploading"),e.$set(a)},i(l){t||(D(e.$$.fragment,l),t=!0)},o(l){S(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function ns(r){let e,t;function n(){return r[34](r[63])}return e=new an({props:{src:r[61].url,imageClassName:" max-h-96 rounded-lg",dismissible:!0,onDismiss:n}}),{c(){L(e.$$.fragment)},l(s){P(e.$$.fragment,s)},m(s,l){F(e,s,l),t=!0},p(s,l){r=s;const o={};l[0]&4&&(o.src=r[61].url),l[0]&5&&(o.onDismiss=n),e.$set(o)},i(s){t||(D(e.$$.fragment,s),t=!0)},o(s){S(e.$$.fragment,s),t=!1},d(s){x(e,s)}}}function ht(r){let e,t,n,s,l;const o=[ns,ts],a=[];function f(m,v){return m[61].type==="image"?0:1}return t=f(r),n=a[t]=o[t](r),{c(){e=y("div"),n.c(),s=q(),this.h()},l(m){e=$(m,"DIV",{class:!0});var v=b(e);n.l(v),s=G(v),v.forEach(d),this.h()},h(){i(e,"class","w-fit")},m(m,v){O(m,e,v),a[t].m(e,null),_(e,s),l=!0},p(m,v){let p=t;t=f(m),t===p?a[t].p(m,v):(Se(),S(a[p],1,1,()=>{a[p]=null}),Me(),n=a[t],n?n.p(m,v):(n=a[t]=o[t](m),n.c()),D(n,1),n.m(e,s))},i(m){l||(D(n),l=!0)},o(m){S(n),l=!1},d(m){m&&d(e),a[t].d()}}}function ss(r){let e,t,n,s,l;return e=new On({props:{onRecord:r[41],onCaptureAudio:r[42],onUpload:r[43],$$slots:{default:[os]},$$scope:{ctx:r}}}),s=new yt({props:{content:r[1].t("Enhance"),placement:"top",$$slots:{default:[cs]},$$scope:{ctx:r}}}),{c(){L(e.$$.fragment),t=q(),n=y("div"),L(s.$$.fragment),this.h()},l(o){P(e.$$.fragment,o),t=G(o),n=$(o,"DIV",{class:!0});var a=b(n);P(s.$$.fragment,a),a.forEach(d),this.h()},h(){i(n,"class","cursor-pointer flex gap-0.5 rounded-full border border-gray-50 dark:border-gray-850 dark:bg-gray-850 transition shadow-xl")},m(o,a){F(e,o,a),O(o,t,a),O(o,n,a),F(s,n,null),l=!0},p(o,a){const f={};a[0]&98&&(f.onRecord=o[41]),a[0]&96&&(f.onCaptureAudio=o[42]),a[0]&2|a[2]&32&&(f.$$scope={dirty:a,ctx:o}),e.$set(f);const m={};a[0]&2&&(m.content=o[1].t("Enhance")),a[0]&2048|a[2]&32&&(m.$$scope={dirty:a,ctx:o}),s.$set(m)},i(o){l||(D(e.$$.fragment,o),D(s.$$.fragment,o),l=!0)},o(o){S(e.$$.fragment,o),S(s.$$.fragment,o),l=!1},d(o){o&&(d(t),d(n)),x(e,o),x(s)}}}function rs(r){let e,t,n,s;function l(a){r[40](a)}let o={className:"p-1 w-full max-w-full",transcribe:!1,displayMedia:r[6],onCancel:r[38],onConfirm:r[39]};return r[5]!==void 0&&(o.recording=r[5]),t=new rn({props:o}),He.push(()=>Fe(t,"recording",l)),{c(){e=y("div"),L(t.$$.fragment),this.h()},l(a){e=$(a,"DIV",{class:!0});var f=b(e);P(t.$$.fragment,f),f.forEach(d),this.h()},h(){i(e,"class","flex-1 w-full")},m(a,f){O(a,e,f),F(t,e,null),s=!0},p(a,f){const m={};f[0]&64&&(m.displayMedia=a[6]),f[0]&96&&(m.onCancel=a[38]),f[0]&96&&(m.onConfirm=a[39]),!n&&f[0]&32&&(n=!0,m.recording=a[5],Le(()=>n=!1)),t.$set(m)},i(a){s||(D(t.$$.fragment,a),s=!0)},o(a){S(t.$$.fragment,a),s=!1},d(a){a&&d(e),x(t)}}}function ls(r){let e,t,n;return t=new ln({props:{className:"size-4.5"}}),{c(){e=y("button"),L(t.$$.fragment),this.h()},l(s){e=$(s,"BUTTON",{class:!0,type:!0});var l=b(e);P(t.$$.fragment,l),l.forEach(d),this.h()},h(){i(e,"class","cursor-pointer p-2.5 flex rounded-full border border-gray-50 bg-white dark:border-none dark:bg-gray-850 hover:bg-gray-50 dark:hover:bg-gray-800 transition shadow-xl"),i(e,"type","button")},m(s,l){O(s,e,l),F(t,e,null),n=!0},p:ce,i(s){n||(D(t.$$.fragment,s),n=!0)},o(s){S(t.$$.fragment,s),n=!1},d(s){s&&d(e),x(t)}}}function os(r){let e,t;return e=new yt({props:{content:r[1].t("Record"),placement:"top",$$slots:{default:[ls]},$$scope:{ctx:r}}}),{c(){L(e.$$.fragment)},l(n){P(e.$$.fragment,n)},m(n,s){F(e,n,s),t=!0},p(n,s){const l={};s[0]&2&&(l.content=n[1].t("Record")),s[2]&32&&(l.$$scope={dirty:s,ctx:n}),e.$set(l)},i(n){t||(D(e.$$.fragment,n),t=!0)},o(n){S(e.$$.fragment,n),t=!1},d(n){x(e,n)}}}function as(r){let e,t;return e=new Pn({}),{c(){L(e.$$.fragment)},l(n){P(e.$$.fragment,n)},m(n,s){F(e,n,s),t=!0},i(n){t||(D(e.$$.fragment,n),t=!0)},o(n){S(e.$$.fragment,n),t=!1},d(n){x(e,n)}}}function is(r){let e,t;return e=new Nt({props:{className:"size-5"}}),{c(){L(e.$$.fragment)},l(n){P(e.$$.fragment,n)},m(n,s){F(e,n,s),t=!0},i(n){t||(D(e.$$.fragment,n),t=!0)},o(n){S(e.$$.fragment,n),t=!1},d(n){x(e,n)}}}function cs(r){let e,t,n,s,l,o,a;const f=[is,as],m=[];function v(p,u){return p[11]?0:1}return t=v(r),n=m[t]=f[t](r),{c(){e=y("button"),n.c(),this.h()},l(p){e=$(p,"BUTTON",{class:!0,type:!0});var u=b(e);n.l(u),u.forEach(d),this.h()},h(){i(e,"class",s=(r[11]?"p-2":"p-2.5")+" flex justify-center items-center hover:bg-gray-50 dark:hover:bg-gray-800 rounded-full transition shrink-0"),e.disabled=r[11],i(e,"type","button")},m(p,u){O(p,e,u),m[t].m(e,null),l=!0,o||(a=ke(e,"click",r[44]),o=!0)},p(p,u){let g=t;t=v(p),t!==g&&(Se(),S(m[g],1,1,()=>{m[g]=null}),Me(),n=m[t],n||(n=m[t]=f[t](p),n.c()),D(n,1),n.m(e,null)),(!l||u[0]&2048&&s!==(s=(p[11]?"p-2":"p-2.5")+" flex justify-center items-center hover:bg-gray-50 dark:hover:bg-gray-800 rounded-full transition shrink-0"))&&i(e,"class",s),(!l||u[0]&2048)&&(e.disabled=p[11])},i(p){l||(D(n),l=!0)},o(p){S(n),l=!1},d(p){p&&d(e),m[t].d(),o=!1,a()}}}function us(r){let e,t,n,s,l,o,a,f,m,v,p,u,g,I,k,E,V,U;e=new un({props:{show:r[9]}});function T(h){r[22](h)}let Q={title:r[1].t("Delete note?"),$$slots:{default:[Yn]},$$scope:{ctx:r}};r[8]!==void 0&&(Q.show=r[8]),n=new on({props:Q}),He.push(()=>Fe(n,"show",T)),n.$on("confirm",r[23]);function Y(h){r[26](h)}let te={className:" bg-white dark:bg-gray-900",width:"300px",$$slots:{default:[Kn]},$$scope:{ctx:r}};r[7]!==void 0&&(te.show=r[7]),a=new _n({props:te}),He.push(()=>Fe(a,"show",Y));const K=[Qn,Xn],j=[];function R(h,z){return h[10]?0:1}v=R(r),p=j[v]=K[v](r);const M=[rs,ss],N=[];function W(h,z){return h[5]?0:1}return k=W(r),E=N[k]=M[k](r),{c(){L(e.$$.fragment),t=q(),L(n.$$.fragment),l=q(),o=y("div"),L(a.$$.fragment),m=q(),p.c(),u=q(),g=y("div"),I=y("div"),E.c(),this.h()},l(h){P(e.$$.fragment,h),t=G(h),P(n.$$.fragment,h),l=G(h),o=$(h,"DIV",{class:!0,id:!0});var z=b(o);P(a.$$.fragment,z),m=G(z),p.l(z),z.forEach(d),u=G(h),g=$(h,"DIV",{class:!0});var ne=b(g);I=$(ne,"DIV",{class:!0});var Z=b(I);E.l(Z),Z.forEach(d),ne.forEach(d),this.h()},h(){i(o,"class","relative flex-1 w-full h-full flex justify-center"),i(o,"id","note-editor"),i(I,"class","flex gap-1 justify-between w-full max-w-full"),i(g,"class",V="absolute z-20 bottom-0 right-0 p-5 max-w-full "+(r[14]?"md:max-w-[calc(100%-260px)]":"")+" w-full flex justify-end")},m(h,z){F(e,h,z),O(h,t,z),F(n,h,z),O(h,l,z),O(h,o,z),F(a,o,null),_(o,m),j[v].m(o,null),O(h,u,z),O(h,g,z),_(g,I),N[k].m(I,null),U=!0},p(h,z){const ne={};z[0]&512&&(ne.show=h[9]),e.$set(ne);const Z={};z[0]&2&&(Z.title=h[1].t("Delete note?")),z[0]&3|z[2]&32&&(Z.$$scope={dirty:z,ctx:h}),!s&&z[0]&256&&(s=!0,Z.show=h[8],Le(()=>s=!1)),n.$set(Z);const ue={};z[0]&8338|z[2]&32&&(ue.$$scope={dirty:z,ctx:h}),!f&&z[0]&128&&(f=!0,ue.show=h[7],Le(()=>f=!1)),a.$set(ue);let se=v;v=R(h),v===se?j[v].p(h,z):(Se(),S(j[se],1,1,()=>{j[se]=null}),Me(),p=j[v],p?p.p(h,z):(p=j[v]=K[v](h),p.c()),D(p,1),p.m(o,null));let re=k;k=W(h),k===re?N[k].p(h,z):(Se(),S(N[re],1,1,()=>{N[re]=null}),Me(),E=N[k],E?E.p(h,z):(E=N[k]=M[k](h),E.c()),D(E,1),E.m(I,null)),(!U||z[0]&16384&&V!==(V="absolute z-20 bottom-0 right-0 p-5 max-w-full "+(h[14]?"md:max-w-[calc(100%-260px)]":"")+" w-full flex justify-end"))&&i(g,"class",V)},i(h){U||(D(e.$$.fragment,h),D(n.$$.fragment,h),D(a.$$.fragment,h),D(p),D(E),U=!0)},o(h){S(e.$$.fragment,h),S(n.$$.fragment,h),S(a.$$.fragment,h),S(p),S(E),U=!1},d(h){h&&(d(t),d(l),d(o),d(u),d(g)),x(e,h),x(n,h),x(a),j[v].d(),N[k].d()}}}function st(r,e){return JSON.stringify(r)===JSON.stringify(e)}function gt(r){var n;const e={json:r.data.content.json,html:r.data.content.html,md:r.data.content.md},t=(n=r.data.versions)==null?void 0:n.at(-1);return!t||!st(t,e)?(r.data.versions=(r.data.versions??[]).concat(e),!0):!1}const pt=r=>{var e,t;return!(((t=(e=r==null?void 0:r.info)==null?void 0:e.meta)==null?void 0:t.hidden)??!1)};function fs(r,e,t){let n,s,l,o,a;Be(r,Pt,c=>t(13,n=c)),Be(r,Ft,c=>t(46,s=c)),Be(r,xt,c=>t(47,l=c)),Be(r,Zt,c=>t(14,a=c));const{saveAs:f}=Mt,m=_t("i18n");Be(r,m,c=>t(1,o=c)),Re.extend(Kt),Re.extend(Xt),Re.extend(Yt);async function v(c){for(const w of c)try{Re.locale(w);break}catch(C){console.error(`Could not load locale '${w}':`,C)}}let{id:p=null}=e,u=null,g=[],I=null,k=null,E=!1,V=!1,U=!1,T=!1,Q=!1,Y=!1,te=!1,K=!1;const j=async()=>{t(10,Y=!0);const c=await Qt(localStorage.token,p).catch(w=>(fe.error(`${w}`),null));if(c)t(0,u=c),t(2,g=c.data.files||[]);else{ot("/");return}t(10,Y=!1)};let R=null;const M=()=>{R&&clearTimeout(R),R=setTimeout(async()=>{!u||te||I!==null||(console.log("Saving note:",u),await nn(localStorage.token,p,{...u,title:u.title===""?o.t("Untitled"):u.title}).catch(c=>{fe.error(`${c}`)}))},200)};async function N(){if(k===""){fe.error(o.t("Please select a model."));return}const c=n.filter(w=>{var C,J;return w.id===k&&!(((J=(C=w==null?void 0:w.info)==null?void 0:C.meta)==null?void 0:J.hidden)??!1)}).find(w=>w.id===k);if(!c){t(4,k="");return}t(11,te=!0),gt(u),await ve(c),t(11,te=!1),t(3,I=null)}function W(c){var J;if(!((J=u.data.versions)!=null&&J.length))return;let w=c;w===null&&(w=u.data.versions.length-1);const C=u.data.versions[w];if(t(0,u.data.content.json=C.json,u),t(0,u.data.content.html=C.html,u),t(0,u.data.content.md=C.md,u),c===null){const we=u.data.versions.at(-1),oe=u.data.content;st(we,oe)&&t(0,u.data.versions=u.data.versions.slice(0,-1),u)}}function h(c){if(!(!u.data.versions||u.data.versions.length===0)){if(I===null){const w=u.data.versions.at(-1),C=u.data.content;st(w,C)?t(3,I=u.data.versions.length):(gt(u),t(3,I=u.data.versions.length-1))}c==="prev"?I>0&&t(3,I-=1):c==="next"&&(I<u.data.versions.length-1?t(3,I+=1):t(3,I=null),I===u.data.versions.length-1&&t(3,I=null)),W(I)}}const z=async c=>{var J,we,oe,ie,pe,_e;const w=Ut(),C={type:"file",file:"",id:null,url:"",name:c.name,collection_name:"",status:"uploading",size:c.size,error:"",itemId:w};if(C.size==0)return fe.error(o.t("You cannot upload an empty file.")),null;t(2,g=[...g,C]);try{let ae=null;(c.type.startsWith("audio/")||c.type.startsWith("video/"))&&((we=(J=l==null?void 0:l.audio)==null?void 0:J.stt)!=null&&we.language)&&(ae={language:(ie=(oe=l==null?void 0:l.audio)==null?void 0:oe.stt)==null?void 0:ie.language});const A=await Jt(localStorage.token,c,ae);A?(console.log("File upload completed:",{id:A.id,name:C.name,collection:(pe=A==null?void 0:A.meta)==null?void 0:pe.collection_name}),A.error&&(console.warn("File upload warning:",A.error),fe.warning(A.error)),C.status="uploaded",C.file=A,C.id=A.id,C.collection_name=((_e=A==null?void 0:A.meta)==null?void 0:_e.collection_name)||(A==null?void 0:A.collection_name),C.url=`${qt}/files/${A.id}`,t(2,g)):t(2,g=g.filter(de=>(de==null?void 0:de.itemId)!==w))}catch(ae){fe.error(`${ae}`),t(2,g=g.filter(A=>(A==null?void 0:A.itemId)!==w))}g.length>0?t(0,u.data.files=g,u):t(0,u.data.files=null,u)},ne=async c=>{console.log("Input files handler called with:",c),c.forEach(w=>{var C,J,we,oe;if(console.log("Processing file:",{name:w.name,type:w.type,size:w.size,extension:w.name.split(".").at(-1)}),(((C=s==null?void 0:s.file)==null?void 0:C.max_size)??null)!==null&&w.size>(((J=s==null?void 0:s.file)==null?void 0:J.max_size)??0)*1024*1024){console.log("File exceeds max size limit:",{fileSize:w.size,maxSize:(((we=s==null?void 0:s.file)==null?void 0:we.max_size)??0)*1024*1024}),fe.error(o.t("File size should not exceed {{maxSize}} MB.",{maxSize:(oe=s==null?void 0:s.file)==null?void 0:oe.max_size}));return}if(["image/gif","image/webp","image/jpeg","image/png","image/avif"].includes(w.type)){let ie=new FileReader;ie.onload=async pe=>{var ae,A;let _e=pe.target.result;if((l==null?void 0:l.imageCompression)??!1){const de=((ae=l==null?void 0:l.imageCompressionSize)==null?void 0:ae.width)??null,Ue=((A=l==null?void 0:l.imageCompressionSize)==null?void 0:A.height)??null;(de||Ue)&&(_e=await Lt(_e,de,Ue))}t(2,g=[...g,{type:"image",url:`${_e}`}]),t(0,u.data.files=g,u)},ie.readAsDataURL(w)}else z(w)})},Z=async c=>{if(console.log("downloadHandler",c),c==="md"){const w=new Blob([u.data.content.md],{type:"text/markdown"});f(w,`${u.title}.md`)}else c==="pdf"&&await ue(u)},ue=async c=>{var w,C;try{const oe=((C=(w=c.data)==null?void 0:w.content)==null?void 0:C.html)??"";let ie;oe instanceof HTMLElement?ie=oe:(ie=document.createElement("div"),ie.innerHTML=oe,document.body.appendChild(ie));const pe=await jt(ie,{useCORS:!0,scale:2,width:1024,windowWidth:1024,windowHeight:1400});oe instanceof HTMLElement||document.body.removeChild(ie);const _e=pe.toDataURL("image/png"),ae=new At("p","mm","a4"),A=210,de=297,Ue=pe.height*A/pe.width;let et=Ue,tt=0;for(ae.addImage(_e,"PNG",0,tt,A,Ue),et-=de;et>0;)tt-=de,ae.addPage(),ae.addImage(_e,"PNG",0,tt,A,Ue),et-=de;ae.save(`${c.title}.pdf`)}catch(J){console.error("Error generating PDF",J),fe.error(`${J}`)}},se=async c=>{await en(localStorage.token,c).catch(C=>(fe.error(`${C}`),null))?(fe.success(o.t("Note deleted successfully")),ot("/notes")):fe.error(o.t("Failed to delete note"))},re=()=>{const c=document.getElementById("note-content-container");c&&(c.scrollTop=c==null?void 0:c.scrollHeight)},ve=async c=>{let w={json:null,html:"",md:""};const C=`Enhance existing notes using additional context provided from audio transcription or uploaded file content. Your task is to make the notes more useful and comprehensive by incorporating relevant information from the provided context.

Input will be provided within <notes> and <context> XML tags, providing a structure for the existing notes and context respectively.

# Output Format

Provide the enhanced notes in markdown format. Use markdown syntax for headings, lists, and emphasis to improve clarity and presentation. Ensure that all integrated content from the context is accurately reflected. Return only the markdown formatted note.
`,[J,we]=await bn(localStorage.token,{model:c.id,stream:!0,messages:[{role:"system",content:C},{role:"user",content:`<notes>${u.data.content.md}</notes>`+(g&&g.length>0?`
<context>${g.map(oe=>{var ie,pe;return`${oe.name}: ${((pe=(ie=oe==null?void 0:oe.file)==null?void 0:ie.data)==null?void 0:pe.content)??"Could not extract content"}
`}).join("")}</context>`:"")}]},`${Gt}/api`);if(await rt(),t(12,K=!0),J&&J.ok){const oe=J.body.pipeThrough(new TextDecoderStream).pipeThrough(Rt(`
`)).getReader();for(;;){const{value:ie,done:pe}=await oe.read();if(pe)break;try{let _e=ie.split(`
`);for(const ae of _e)if(ae!=="")if(console.log(ae),ae==="data: [DONE]")console.log(ae);else{let A=JSON.parse(ae.replace(/^data: /,""));if(console.log(A),A.choices&&A.choices.length>0){const de=A.choices[0];de.delta&&de.delta.content&&(w.md+=de.delta.content,w.html=Ot.parse(w.md),t(0,u.data.content.md=w.md,u),t(0,u.data.content.html=w.html,u),t(0,u.data.content.json=null,u),re())}}}catch(_e){console.log(_e)}}}t(12,K=!1)},Oe=c=>{var w,C;c.preventDefault(),(C=(w=c.dataTransfer)==null?void 0:w.types)!=null&&C.includes("Files")?t(9,Q=!0):t(9,Q=!1)},X=()=>{t(9,Q=!1)},le=async c=>{var w,C;if(c.preventDefault(),console.log(c),(w=c.dataTransfer)!=null&&w.files){const J=Array.from((C=c.dataTransfer)==null?void 0:C.files);J&&J.length>0&&(console.log(J),ne(J))}t(9,Q=!1)};Vt(async()=>{await rt(),l!=null&&l.models?t(4,k=l==null?void 0:l.models[0]):s!=null&&s.default_models?t(4,k=s==null?void 0:s.default_models.split(",")[0]):t(4,k=""),k&&(n.filter(C=>{var J,we;return C.id===k&&!(((we=(J=C==null?void 0:C.info)==null?void 0:J.meta)==null?void 0:we.hidden)??!1)}).find(C=>C.id===k)||t(4,k=""));const c=document.getElementById("note-editor");c==null||c.addEventListener("dragover",Oe),c==null||c.addEventListener("drop",le),c==null||c.addEventListener("dragleave",X)}),Wt(()=>{console.log("destroy");const c=document.getElementById("note-editor");c&&(c==null||c.removeEventListener("dragover",Oe),c==null||c.removeEventListener("drop",le),c==null||c.removeEventListener("dragleave",X))});function ee(c){T=c,t(8,T)}const Qe=()=>{se(u.id),t(8,T=!1)},xe=()=>{t(7,U=!U)};function Ze(){k=zt(this),t(4,k)}function qe(c){U=c,t(7,U)}function Ge(){u.title=this.value,t(0,u)}const Je=()=>{h("prev")},B=()=>{h("next")},H=c=>{Z(c)},$e=async()=>{await Ht(u.data.content.md).catch(w=>(fe.error(`${w}`),null))&&fe.success(o.t("Copied to clipboard"))},ge=()=>{t(8,T=!0)},be=()=>{t(7,U=!U)},We=c=>{t(2,g=g.filter((w,C)=>C!==c)),t(0,u.data.files=g.length>0?g:null,u)},ze=c=>{t(2,g=g.filter(w=>(w==null?void 0:w.id)!==c.id)),t(0,u.data.files=g.length>0?g:null,u)},Ce=c=>{t(0,u.data.content.html=c.html,u),t(0,u.data.content.md=c.md,u)};function je(c){r.$$.not_equal(u.data.content.json,c)&&(u.data.content.json=c,t(0,u))}const Ye=()=>{t(5,E=!1),t(6,V=!1)},Ae=c=>{c!=null&&c.file&&z(c==null?void 0:c.file),t(5,E=!1),t(6,V=!1)};function Te(c){E=c,t(5,E)}const $t=async()=>{t(6,V=!1);try{let c=await navigator.mediaDevices.getUserMedia({audio:!0}).catch(function(w){return fe.error(o.t("Permission denied when accessing microphone: {{error}}",{error:w})),null});c&&(t(5,E=!0),c.getTracks().forEach(C=>C.stop())),c=null}catch{fe.error(o.t("Permission denied when accessing microphone"))}},Ct=async()=>{t(6,V=!0),t(5,E=!0)},It=async()=>{const c=document.createElement("input");c.type="file",c.accept="audio/*",c.multiple=!1,c.click(),c.onchange=async w=>{const C=w.target.files;C&&C.length>0&&await z(C[0])}},Dt=()=>{N()};return r.$$set=c=>{"id"in c&&t(21,p=c.id)},r.$$.update=()=>{r.$$.dirty[0]&2&&v(o.languages),r.$$.dirty[0]&1&&u&&M(),r.$$.dirty[0]&2097152&&p&&j()},[u,o,g,I,k,E,V,U,T,Q,Y,te,K,n,a,m,N,h,z,Z,se,p,ee,Qe,xe,Ze,qe,Ge,Je,B,H,$e,ge,be,We,ze,Ce,je,Ye,Ae,Te,$t,Ct,It,Dt]}class ds extends Ne{constructor(e){super(),ye(this,e,fs,us,Ee,{id:21},null,[-1,-1,-1])}}function ms(r){let e,t;return e=new ds({props:{id:r[0].params.id}}),{c(){L(e.$$.fragment)},l(n){P(e.$$.fragment,n)},m(n,s){F(e,n,s),t=!0},p(n,[s]){const l={};s&1&&(l.id=n[0].params.id),e.$set(l)},i(n){t||(D(e.$$.fragment,n),t=!0)},o(n){S(e.$$.fragment,n),t=!1},d(n){x(e,n)}}}function hs(r,e,t){let n;return Be(r,St,s=>t(0,n=s)),[n]}class qs extends Ne{constructor(e){super(),ye(this,e,hs,ms,Ee,{})}}export{qs as component};
//# sourceMappingURL=23.DYZe16sm.js.map
