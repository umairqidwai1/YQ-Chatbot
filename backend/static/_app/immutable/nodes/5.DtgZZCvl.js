import{s as ue,k as j,l as Y,m as fe,d,o as q,i as C,j as A,p as ce,q as de,r as me,e as _,t as _e,c as h,a as p,b as he,f as i,g as m,u as ve,h as pe,v as ge,w as be,x as we,y as Z}from"../chunks/jBEftbNB.js";import{S as Ee,i as Ie,t as k,a as D,c as ae,b as le,d as re,m as oe,g as ne,e as ie}from"../chunks/2lNU1ddO.js";import{u as ke,c as Ne,W as Ve,s as ee,a as xe}from"../chunks/BmtUElco.js";import{g as De}from"../chunks/wUxqHZkW.js";import{M as $e}from"../chunks/BxBrcjI0.js";import{U as Me}from"../chunks/DfYSe6dU.js";function te(o){let t,r,s,l,e,a,n,$,M,b,w,N,E,f=o[2].t("Notes")+"",V,U,x,W,y,S,I,L,z;n=new $e({});let c=o[1]!==void 0&&o[1]!==null&&se(o);const O=o[6].default,g=me(O,o,o[9],null);return{c(){t=_("div"),r=_("nav"),s=_("div"),l=_("div"),e=_("button"),a=_("div"),le(n.$$.fragment),M=j(),b=_("div"),w=_("div"),N=_("div"),E=_("a"),V=_e(f),U=j(),x=_("div"),c&&c.c(),W=j(),y=_("div"),g&&g.c(),this.h()},l(u){t=h(u,"DIV",{class:!0});var v=p(t);r=h(v,"NAV",{class:!0});var G=p(r);s=h(G,"DIV",{class:!0});var T=p(s);l=h(T,"DIV",{class:!0});var F=p(l);e=h(F,"BUTTON",{id:!0,class:!0,"aria-label":!0});var H=p(e);a=h(H,"DIV",{class:!0});var J=p(a);re(n.$$.fragment,J),J.forEach(d),H.forEach(d),F.forEach(d),M=q(T),b=h(T,"DIV",{class:!0});var B=p(b);w=h(B,"DIV",{class:!0});var K=p(w);N=h(K,"DIV",{class:!0});var P=p(N);E=h(P,"A",{class:!0,href:!0});var Q=p(E);V=he(Q,f),Q.forEach(d),P.forEach(d),K.forEach(d),U=q(B),x=h(B,"DIV",{class:!0});var R=p(x);c&&c.l(R),R.forEach(d),B.forEach(d),T.forEach(d),G.forEach(d),W=q(v),y=h(v,"DIV",{class:!0});var X=p(y);g&&g.l(X),X.forEach(d),v.forEach(d),this.h()},h(){i(a,"class","m-auto self-center"),i(e,"id","sidebar-toggle-button"),i(e,"class","cursor-pointer p-1.5 flex rounded-xl hover:bg-gray-100 dark:hover:bg-gray-850 transition"),i(e,"aria-label","Toggle Sidebar"),i(l,"class",$=(o[4]?"md:hidden":"")+" flex flex-none items-center"),i(E,"class","min-w-fit transition"),i(E,"href","/notes"),i(N,"class","flex gap-1 scrollbar-none overflow-x-auto w-fit text-center text-sm font-medium bg-transparent py-1 touch-auto pointer-events-auto"),i(w,"class",""),i(x,"class","self-center flex items-center gap-1"),i(b,"class","ml-2 py-0.5 self-center flex items-center justify-between w-full"),i(s,"class","flex items-center"),i(r,"class","px-2 pt-1 backdrop-blur-xl w-full drag-region"),i(y,"class","pb-1 flex-1 max-h-full overflow-y-auto @container"),i(t,"class",S="flex flex-col w-full h-screen max-h-[100dvh] transition-width duration-200 ease-in-out "+(o[4]?"md:max-w-[calc(100%-260px)]":"")+" max-w-full")},m(u,v){C(u,t,v),m(t,r),m(r,s),m(s,l),m(l,e),m(e,a),oe(n,a,null),m(s,M),m(s,b),m(b,w),m(w,N),m(N,E),m(E,V),m(b,U),m(b,x),c&&c.m(x,null),m(t,W),m(t,y),g&&g.m(y,null),I=!0,L||(z=ve(e,"click",o[7]),L=!0)},p(u,v){(!I||v&16&&$!==($=(u[4]?"md:hidden":"")+" flex flex-none items-center"))&&i(l,"class",$),(!I||v&4)&&f!==(f=u[2].t("Notes")+"")&&pe(V,f),u[1]!==void 0&&u[1]!==null?c?(c.p(u,v),v&2&&k(c,1)):(c=se(u),c.c(),k(c,1),c.m(x,null)):c&&(ne(),D(c,1,1,()=>{c=null}),ae()),g&&g.p&&(!I||v&512)&&ge(g,O,u,u[9],I?we(O,u[9],v,null):be(u[9]),null),(!I||v&16&&S!==(S="flex flex-col w-full h-screen max-h-[100dvh] transition-width duration-200 ease-in-out "+(u[4]?"md:max-w-[calc(100%-260px)]":"")+" max-w-full"))&&i(t,"class",S)},i(u){I||(k(n.$$.fragment,u),k(c),k(g,u),I=!0)},o(u){D(n.$$.fragment,u),D(c),D(g,u),I=!1},d(u){u&&d(t),ie(n),c&&c.d(),g&&g.d(u),L=!1,z()}}}function se(o){var s;let t,r;return t=new Me({props:{className:"max-w-[240px]",role:(s=o[1])==null?void 0:s.role,help:!0,$$slots:{default:[Ue]},$$scope:{ctx:o}}}),t.$on("show",o[8]),{c(){le(t.$$.fragment)},l(l){re(t.$$.fragment,l)},m(l,e){oe(t,l,e),r=!0},p(l,e){var n;const a={};e&2&&(a.role=(n=l[1])==null?void 0:n.role),e&514&&(a.$$scope={dirty:e,ctx:l}),t.$set(a)},i(l){r||(k(t.$$.fragment,l),r=!0)},o(l){D(t.$$.fragment,l),r=!1},d(l){ie(t,l)}}}function Ue(o){let t,r,s,l;return{c(){t=_("button"),r=_("div"),s=_("img"),this.h()},l(e){t=h(e,"BUTTON",{class:!0,"aria-label":!0});var a=p(t);r=h(a,"DIV",{class:!0});var n=p(r);s=h(n,"IMG",{src:!0,class:!0,alt:!0,draggable:!0}),n.forEach(d),a.forEach(d),this.h()},h(){var e;Z(s.src,l=(e=o[1])==null?void 0:e.profile_image_url)||i(s,"src",l),i(s,"class","size-6 object-cover rounded-full"),i(s,"alt","User profile"),i(s,"draggable","false"),i(r,"class","self-center"),i(t,"class","select-none flex rounded-xl p-1.5 w-full hover:bg-gray-50 dark:hover:bg-gray-850 transition"),i(t,"aria-label","User Menu")},m(e,a){C(e,t,a),m(t,r),m(r,s)},p(e,a){var n;a&2&&!Z(s.src,l=(n=e[1])==null?void 0:n.profile_image_url)&&i(s,"src",l)},d(e){e&&d(t)}}}function ye(o){let t,r,s,l;document.title=t=`
		`+o[2].t("Notes")+" • "+o[3]+`
	`;let e=o[0]&&te(o);return{c(){r=j(),e&&e.c(),s=Y()},l(a){fe("svelte-16ir3op",document.head).forEach(d),r=q(a),e&&e.l(a),s=Y()},m(a,n){C(a,r,n),e&&e.m(a,n),C(a,s,n),l=!0},p(a,[n]){(!l||n&12)&&t!==(t=`
		`+a[2].t("Notes")+" • "+a[3]+`
	`)&&(document.title=t),a[0]?e?(e.p(a,n),n&1&&k(e,1)):(e=te(a),e.c(),k(e,1),e.m(s.parentNode,s)):e&&(ne(),D(e,1,1,()=>{e=null}),ae())},i(a){l||(k(e),l=!0)},o(a){D(e),l=!1},d(a){a&&(d(r),d(s)),e&&e.d(a)}}}function Ae(o,t,r){let s,l,e,a,n;A(o,ke,f=>r(1,s=f)),A(o,Ne,f=>r(10,l=f)),A(o,Ve,f=>r(3,a=f)),A(o,ee,f=>r(4,n=f));let{$$slots:$={},$$scope:M}=t;const b=ce("i18n");A(o,b,f=>r(2,e=f));let w=!1;de(async()=>{var f,V,U;(((f=l==null?void 0:l.features)==null?void 0:f.enable_notes)??!1)&&((s==null?void 0:s.role)==="admin"||(((U=(V=s==null?void 0:s.permissions)==null?void 0:V.features)==null?void 0:U.notes)??!0))||De("/"),r(0,w=!0)});const N=()=>{ee.set(!n)},E=f=>{f.detail==="archived-chat"&&xe.set(!0)};return o.$$set=f=>{"$$scope"in f&&r(9,M=f.$$scope)},[w,s,e,a,n,b,$,N,E,M]}class We extends Ee{constructor(t){super(),Ie(this,t,Ae,ye,ue,{})}}export{We as component};
//# sourceMappingURL=5.DtgZZCvl.js.map
