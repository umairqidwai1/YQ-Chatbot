{"version":3,"file":"Dg7vO04c.js","sources":["../../../../../../src/lib/components/layout/ChatsModal.svelte","../../../../../../src/lib/components/icons/User.svelte"],"sourcesContent":["<script lang=\"ts\">\n\timport { toast } from 'svelte-sonner';\n\timport { getContext } from 'svelte';\n\n\timport dayjs from 'dayjs';\n\timport localizedFormat from 'dayjs/plugin/localizedFormat';\n\n\tdayjs.extend(localizedFormat);\n\n\timport { deleteChatById } from '$lib/apis/chats';\n\n\timport Modal from '$lib/components/common/Modal.svelte';\n\timport Tooltip from '$lib/components/common/Tooltip.svelte';\n\timport ConfirmDialog from '$lib/components/common/ConfirmDialog.svelte';\n\n\timport Spinner from '../common/Spinner.svelte';\n\timport Loader from '../common/Loader.svelte';\n\timport XMark from '../icons/XMark.svelte';\n\timport ChevronUp from '../icons/ChevronUp.svelte';\n\timport ChevronDown from '../icons/ChevronDown.svelte';\n\n\tconst i18n = getContext('i18n');\n\n\texport let show = false;\n\n\texport let title = 'Chats';\n\texport let emptyPlaceholder = '';\n\texport let shareUrl = false;\n\n\texport let query = '';\n\n\texport let orderBy = 'updated_at';\n\texport let direction = 'desc'; // 'asc' or 'desc'\n\n\texport let chatList = null;\n\texport let allChatsLoaded = false;\n\texport let chatListLoading = false;\n\n\tlet selectedChatId = null;\n\tlet selectedIdx = 0;\n\tlet showDeleteConfirmDialog = false;\n\n\texport let onUpdate = () => {};\n\n\texport let loadHandler: null | Function = null;\n\texport let unarchiveHandler: null | Function = null;\n\n\tconst setSortKey = (key) => {\n\t\tif (orderBy === key) {\n\t\t\tdirection = direction === 'asc' ? 'desc' : 'asc';\n\t\t} else {\n\t\t\torderBy = key;\n\t\t\tdirection = 'asc';\n\t\t}\n\t};\n\n\tconst deleteHandler = async (chatId) => {\n\t\tconst res = await deleteChatById(localStorage.token, chatId).catch((error) => {\n\t\t\ttoast.error(`${error}`);\n\t\t});\n\n\t\tonUpdate();\n\t};\n</script>\n\n<ConfirmDialog\n\tbind:show={showDeleteConfirmDialog}\n\ton:confirm={() => {\n\t\tif (selectedChatId) {\n\t\t\tdeleteHandler(selectedChatId);\n\t\t\tselectedChatId = null;\n\t\t}\n\t}}\n/>\n\n<Modal size=\"lg\" bind:show>\n\t<div>\n\t\t<div class=\" flex justify-between dark:text-gray-300 px-5 pt-4 pb-1\">\n\t\t\t<div class=\" text-lg font-medium self-center\">{title}</div>\n\t\t\t<button\n\t\t\t\tclass=\"self-center\"\n\t\t\t\ton:click={() => {\n\t\t\t\t\tshow = false;\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<svg\n\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\tviewBox=\"0 0 20 20\"\n\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\tclass=\"w-5 h-5\"\n\t\t\t\t>\n\t\t\t\t\t<path\n\t\t\t\t\t\tfill-rule=\"evenodd\"\n\t\t\t\t\t\td=\"M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z\"\n\t\t\t\t\t\tclip-rule=\"evenodd\"\n\t\t\t\t\t/>\n\t\t\t\t</svg>\n\t\t\t</button>\n\t\t</div>\n\n\t\t<div class=\"flex flex-col w-full px-5 pb-4 dark:text-gray-200\">\n\t\t\t<div class=\" flex w-full space-x-2 mb-0.5\">\n\t\t\t\t<div class=\"flex flex-1\">\n\t\t\t\t\t<div class=\" self-center ml-1 mr-3\">\n\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\tviewBox=\"0 0 20 20\"\n\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\tclass=\"w-4 h-4\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\n\t\t\t\t\t\t\t\td=\"M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z\"\n\t\t\t\t\t\t\t\tclip-rule=\"evenodd\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</div>\n\t\t\t\t\t<input\n\t\t\t\t\t\tclass=\" w-full text-sm pr-4 py-1 rounded-r-xl outline-hidden bg-transparent\"\n\t\t\t\t\t\tbind:value={query}\n\t\t\t\t\t\tplaceholder={$i18n.t('Search Chats')}\n\t\t\t\t\t/>\n\n\t\t\t\t\t{#if query}\n\t\t\t\t\t\t<div class=\"self-center pl-1.5 pr-1 translate-y-[0.5px] rounded-l-xl bg-transparent\">\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclass=\"p-0.5 rounded-full hover:bg-gray-100 dark:hover:bg-gray-900 transition\"\n\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\tquery = '';\n\t\t\t\t\t\t\t\t\tselectedIdx = 0;\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<XMark className=\"size-3\" strokeWidth=\"2\" />\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{/if}\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\" flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6\">\n\t\t\t\t{#if chatList}\n\t\t\t\t\t<div class=\"w-full\">\n\t\t\t\t\t\t{#if chatList.length > 0}\n\t\t\t\t\t\t\t<div class=\"flex text-xs font-medium mb-1.5\">\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclass=\"px-1.5 py-1 cursor-pointer select-none basis-3/5\"\n\t\t\t\t\t\t\t\t\ton:click={() => setSortKey('title')}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<div class=\"flex gap-1.5 items-center\">\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('Title')}\n\n\t\t\t\t\t\t\t\t\t\t{#if orderBy === 'title'}\n\t\t\t\t\t\t\t\t\t\t\t<span class=\"font-normal\"\n\t\t\t\t\t\t\t\t\t\t\t\t>{#if direction === 'asc'}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ChevronUp className=\"size-2\" />\n\t\t\t\t\t\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ChevronDown className=\"size-2\" />\n\t\t\t\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t\t\t\t<span class=\"invisible\">\n\t\t\t\t\t\t\t\t\t\t\t\t<ChevronUp className=\"size-2\" />\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclass=\"px-1.5 py-1 cursor-pointer select-none hidden sm:flex sm:basis-2/5 justify-end\"\n\t\t\t\t\t\t\t\t\ton:click={() => setSortKey('updated_at')}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<div class=\"flex gap-1.5 items-center\">\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('Updated at')}\n\n\t\t\t\t\t\t\t\t\t\t{#if orderBy === 'updated_at'}\n\t\t\t\t\t\t\t\t\t\t\t<span class=\"font-normal\"\n\t\t\t\t\t\t\t\t\t\t\t\t>{#if direction === 'asc'}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ChevronUp className=\"size-2\" />\n\t\t\t\t\t\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ChevronDown className=\"size-2\" />\n\t\t\t\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t\t\t\t<span class=\"invisible\">\n\t\t\t\t\t\t\t\t\t\t\t\t<ChevronUp className=\"size-2\" />\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t<div class=\"text-left text-sm w-full mb-3 max-h-[22rem] overflow-y-scroll\">\n\t\t\t\t\t\t\t{#if chatList.length === 0}\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclass=\"text-xs text-gray-500 dark:text-gray-400 text-center px-5 min-h-20 w-full h-full flex justify-center items-center\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{$i18n.t('No results found')}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{/if}\n\n\t\t\t\t\t\t\t{#each chatList as chat, idx (chat.id)}\n\t\t\t\t\t\t\t\t{#if (idx === 0 || (idx > 0 && chat.time_range !== chatList[idx - 1].time_range)) && chat?.time_range}\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tclass=\"w-full text-xs text-gray-500 dark:text-gray-500 font-medium {idx === 0\n\t\t\t\t\t\t\t\t\t\t\t? ''\n\t\t\t\t\t\t\t\t\t\t\t: 'pt-5'} pb-2 px-2\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{$i18n.t(chat.time_range)}\n\t\t\t\t\t\t\t\t\t\t<!-- localisation keys for time_range to be recognized from the i18next parser (so they don't get automatically removed):\n\t\t\t\t\t\t\t{$i18n.t('Today')}\n\t\t\t\t\t\t\t{$i18n.t('Yesterday')}\n\t\t\t\t\t\t\t{$i18n.t('Previous 7 days')}\n\t\t\t\t\t\t\t{$i18n.t('Previous 30 days')}\n\t\t\t\t\t\t\t{$i18n.t('January')}\n\t\t\t\t\t\t\t{$i18n.t('February')}\n\t\t\t\t\t\t\t{$i18n.t('March')}\n\t\t\t\t\t\t\t{$i18n.t('April')}\n\t\t\t\t\t\t\t{$i18n.t('May')}\n\t\t\t\t\t\t\t{$i18n.t('June')}\n\t\t\t\t\t\t\t{$i18n.t('July')}\n\t\t\t\t\t\t\t{$i18n.t('August')}\n\t\t\t\t\t\t\t{$i18n.t('September')}\n\t\t\t\t\t\t\t{$i18n.t('October')}\n\t\t\t\t\t\t\t{$i18n.t('November')}\n\t\t\t\t\t\t\t{$i18n.t('December')}\n\t\t\t\t\t\t\t-->\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t{/if}\n\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclass=\" w-full flex justify-between items-center rounded-lg text-sm py-2 px-3 hover:bg-gray-50 dark:hover:bg-gray-850\"\n\t\t\t\t\t\t\t\t\tdraggable=\"false\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\tclass=\" basis-3/5\"\n\t\t\t\t\t\t\t\t\t\thref={shareUrl ? `/s/${chat.id}` : `/c/${chat.id}`}\n\t\t\t\t\t\t\t\t\t\ton:click={() => (show = false)}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<div class=\"text-ellipsis line-clamp-1 w-full\">\n\t\t\t\t\t\t\t\t\t\t\t{chat?.title}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</a>\n\n\t\t\t\t\t\t\t\t\t<div class=\"basis-2/5 flex items-center justify-end\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"hidden sm:flex text-gray-500 dark:text-gray-400 text-xs\">\n\t\t\t\t\t\t\t\t\t\t\t{dayjs(chat?.updated_at * 1000).calendar()}\n\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t<div class=\"flex justify-end pl-2.5 text-gray-600 dark:text-gray-300\">\n\t\t\t\t\t\t\t\t\t\t\t{#if unarchiveHandler}\n\t\t\t\t\t\t\t\t\t\t\t\t<Tooltip content={$i18n.t('Unarchive Chat')}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"self-center w-fit px-1 text-sm rounded-xl\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ton:click={async (e) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.stopImmediatePropagation();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tunarchiveHandler(chat.id);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstroke-width=\"1.5\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"size-4\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstroke-linecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstroke-linejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\td=\"M9 8.25H7.5a2.25 2.25 0 0 0-2.25 2.25v9a2.25 2.25 0 0 0 2.25 2.25h9a2.25 2.25 0 0 0 2.25-2.25v-9a2.25 2.25 0 0 0-2.25-2.25H15m0-3-3-3m0 0-3 3m3-3V15\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t\t\t\t{/if}\n\n\t\t\t\t\t\t\t\t\t\t\t<Tooltip content={$i18n.t('Delete Chat')}>\n\t\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"self-center w-fit px-1 text-sm rounded-xl\"\n\t\t\t\t\t\t\t\t\t\t\t\t\ton:click={async (e) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\te.stopImmediatePropagation();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tselectedChatId = chat.id;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tshowDeleteConfirmDialog = true;\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstroke-width=\"1.5\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstroke-linecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstroke-linejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\td=\"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{/each}\n\n\t\t\t\t\t\t\t{#if !allChatsLoaded && loadHandler}\n\t\t\t\t\t\t\t\t<Loader\n\t\t\t\t\t\t\t\t\ton:visible={(e) => {\n\t\t\t\t\t\t\t\t\t\tif (!chatListLoading) {\n\t\t\t\t\t\t\t\t\t\t\tloadHandler();\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tclass=\"w-full flex justify-center py-1 text-xs animate-pulse items-center gap-2\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Spinner className=\" size-4\" />\n\t\t\t\t\t\t\t\t\t\t<div class=\" \">Loading...</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</Loader>\n\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{#if query === ''}\n\t\t\t\t\t\t\t<slot name=\"footer\"></slot>\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t</div>\n\t\t\t\t{:else}\n\t\t\t\t\t<div class=\"w-full h-full flex justify-center items-center min-h-20\">\n\t\t\t\t\t\t<Spinner />\n\t\t\t\t\t</div>\n\t\t\t\t{/if}\n\n\t\t\t\t<!-- {#if chats !== null}\n\t\t\t\t\t{#if chats.length > 0}\n\t\t\t\t\t\t<div class=\"w-full\">\n\t\t\t\t\t\t\t<div class=\"text-left text-sm w-full mb-3 max-h-[22rem] overflow-y-scroll\">\n\t\t\t\t\t\t\t\t<div class=\"relative overflow-x-auto\">\n\t\t\t\t\t\t\t\t\t<table\n\t\t\t\t\t\t\t\t\t\tclass=\"w-full text-sm text-left text-gray-600 dark:text-gray-400 table-auto\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<thead\n\t\t\t\t\t\t\t\t\t\t\tclass=\"text-xs text-gray-700 uppercase bg-transparent dark:text-gray-200 border-b-1 border-gray-50 dark:border-gray-850\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<th scope=\"col\" class=\"px-3 py-2\"> {$i18n.t('Name')} </th>\n\t\t\t\t\t\t\t\t\t\t\t\t<th scope=\"col\" class=\"px-3 py-2 hidden md:flex\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{$i18n.t('Created At')}\n\t\t\t\t\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t\t\t\t\t<th scope=\"col\" class=\"px-3 py-2 text-right\" />\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t\t\t\t{#each chats as chat, idx}\n\t\t\t\t\t\t\t\t\t\t\t\t<tr\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"bg-transparent {idx !== chats.length - 1 &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'border-b'} dark:bg-gray-900 border-gray-50 dark:border-gray-850 text-xs\"\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"px-3 py-1 w-2/3\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<a href=\"/c/{chat.id}\" target=\"_blank\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\" hover:underline line-clamp-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{chat.title}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\" px-3 py-1 hidden md:flex h-[2.5rem]\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"my-auto\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{dayjs(chat.created_at * 1000).format('LLL')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"px-3 py-1 text-right\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"flex justify-end w-full\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{#if unarchiveHandler}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Tooltip content={$i18n.t('Unarchive Chat')}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"self-center w-fit text-sm px-2 py-2 hover:bg-black/5 dark:hover:bg-white/5 rounded-xl\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ton:click={async () => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tunarchiveHandler(chat.id);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstroke-width=\"1.5\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"size-4\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstroke-linecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstroke-linejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\td=\"M9 8.25H7.5a2.25 2.25 0 0 0-2.25 2.25v9a2.25 2.25 0 0 0 2.25 2.25h9a2.25 2.25 0 0 0 2.25-2.25v-9a2.25 2.25 0 0 0-2.25-2.25H15m0-3-3-3m0 0-3 3m3-3V15\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/if}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Tooltip content={$i18n.t('Delete Chat')}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"self-center w-fit text-sm px-2 py-2 hover:bg-black/5 dark:hover:bg-white/5 rounded-xl\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ton:click={async () => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdeleteHandler(chat.id);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstroke-width=\"1.5\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstroke-linecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstroke-linejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\td=\"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t{/each}\n\t\t\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<slot name=\"footer\"></slot>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{:else}\n\t\t\t\t\t\t<div class=\"text-left text-sm w-full mb-8\">\n\t\t\t\t\t\t\t{emptyPlaceholder || $i18n.t('No chats found.')}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{/if}\n\t\t\t\t{:else}\n\t\t\t\t\t<div class=\"w-full h-full\">\n\t\t\t\t\t\t<Spinner />\n\t\t\t\t\t</div>\n\t\t\t\t{/if} -->\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</Modal>\n","<script lang=\"ts\">\n\texport let className = 'w-4 h-4';\n</script>\n\n<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\" class={className}>\n\t<path\n\t\tfill-rule=\"evenodd\"\n\t\td=\"M7.5 6a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0ZM3.751 20.105a8.25 8.25 0 0 1 16.498 0 .75.75 0 0 1-.437.695A18.683 18.683 0 0 1 12 22.5c-2.786 0-5.433-.608-7.812-1.7a.75.75 0 0 1-.437-.695Z\"\n\t\tclip-rule=\"evenodd\"\n\t/>\n</svg>\n"],"names":["insert_hydration","target","div","anchor","append_hydration","button","ctx","create_if_block_6","create_if_block_5","get_key","i","if_block2","create_if_block_2","if_block3","create_if_block_1","div1","div0","div2","button0","button1","set_data","t0","t0_value","t3","t3_value","span","t_value","attr","div_class_value","dirty","t1_value","_a","dayjs","_b","_c","create_if_block_4","create_if_block_3","div4","a","div3","current","t1","create_if_block_11","div7","div6","input","div5","localizedFormat","i18n","getContext","show","$$props","title","emptyPlaceholder","shareUrl","query","orderBy","direction","chatList","allChatsLoaded","chatListLoading","selectedChatId","selectedIdx","showDeleteConfirmDialog","onUpdate","loadHandler","unarchiveHandler","setSortKey","key","deleteHandler","chatId","deleteChatById","error","toast","value","$$invalidate","click_handler_2","click_handler_3","click_handler_4","e","chat","svg","path","className"],"mappings":"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"}