import{s as Oe,e as b,t as F,k as q,c as k,a as g,b as J,d,o as z,f as c,C as le,i as W,g as u,S as re,u as se,h as K,p as Pe,j as Te,q as Ne,T as Se,U as Ve,V as je,E as ie,F as oe,n as ge,l as me,H as Be}from"./jBEftbNB.js";import{S as Ce,i as Ae,t as x,g as fe,a as L,c as _e,b as ae,d as ne,m as ce,e as ue}from"./2lNU1ddO.js";import{e as de}from"./ClpXlKdG.js";import{g as Re}from"./Ci07_K7t.js";import"./CF4_YkFU.js";import{U as Me}from"./XkAwChdg.js";import{X as Ge}from"./BXcnQbVe.js";import{B as De}from"./C922YKcw.js";function be(i,e,t){const l=i.slice();return l[15]=e[t],l}function ke(i,e,t){const l=i.slice();return l[15]=e[t],l}function ve(i){const e=i.slice(),t=e[4].filter(l=>e[0].read.group_ids.includes(l.id));return e[14]=t,e}function Ue(i){let e,t;return{c(){e=ie("svg"),t=ie("path"),this.h()},l(l){e=oe(l,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var r=g(e);t=oe(r,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),g(t).forEach(d),r.forEach(d),this.h()},h(){c(t,"stroke-linecap","round"),c(t,"stroke-linejoin","round"),c(t,"d","M6.115 5.19l.319 1.913A6 6 0 008.11 10.36L9.75 12l-.387.775c-.217.433-.132.956.21 1.298l1.348 1.348c.21.21.329.497.329.795v1.089c0 .426.24.815.622 1.006l.153.076c.433.217.956.132 1.298-.21l.723-.723a8.7 8.7 0 002.288-4.042 1.087 1.087 0 00-.358-1.099l-1.33-1.108c-.251-.21-.582-.299-.905-.245l-1.17.195a1.125 1.125 0 01-.98-.314l-.295-.295a1.125 1.125 0 010-1.591l.13-.132a1.125 1.125 0 011.3-.21l.603.302a.809.809 0 001.086-1.086L14.25 7.5l1.256-.837a4.5 4.5 0 001.528-1.732l.146-.292M6.115 5.19A9 9 0 1017.18 4.64M6.115 5.19A8.965 8.965 0 0112 3c1.929 0 3.716.607 5.18 1.64"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"fill","none"),c(e,"viewBox","0 0 24 24"),c(e,"stroke-width","1.5"),c(e,"stroke","currentColor"),c(e,"class","w-5 h-5")},m(l,r){W(l,e,r),u(e,t)},d(l){l&&d(e)}}}function xe(i){let e,t;return{c(){e=ie("svg"),t=ie("path"),this.h()},l(l){e=oe(l,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var r=g(e);t=oe(r,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),g(t).forEach(d),r.forEach(d),this.h()},h(){c(t,"stroke-linecap","round"),c(t,"stroke-linejoin","round"),c(t,"d","M16.5 10.5V6.75a4.5 4.5 0 10-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 002.25-2.25v-6.75a2.25 2.25 0 00-2.25-2.25H6.75a2.25 2.25 0 00-2.25 2.25v6.75a2.25 2.25 0 002.25 2.25z"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"fill","none"),c(e,"viewBox","0 0 24 24"),c(e,"stroke-width","1.5"),c(e,"stroke","currentColor"),c(e,"class","w-5 h-5")},m(l,r){W(l,e,r),u(e,t)},d(l){l&&d(e)}}}function we(i){let e,t=i[5].t("Public")+"",l;return{c(){e=b("option"),l=F(t),this.h()},l(r){e=k(r,"OPTION",{class:!0});var n=g(e);l=J(n,t),n.forEach(d),this.h()},h(){c(e,"class","text-gray-700"),e.__value="public",le(e,e.__value),e.selected=!0},m(r,n){W(r,e,n),u(e,l)},p(r,n){n&32&&t!==(t=r[5].t("Public")+"")&&K(l,t)},d(r){r&&d(e)}}}function Le(i){let e=i[5].t("Accessible to all users")+"",t;return{c(){t=F(e)},l(l){t=J(l,e)},m(l,r){W(l,t,r)},p(l,r){r&32&&e!==(e=l[5].t("Accessible to all users")+"")&&K(t,e)},d(l){l&&d(t)}}}function He(i){let e=i[5].t("Only select users and groups with permission can access")+"",t;return{c(){t=F(e)},l(l){t=J(l,e)},m(l,r){W(l,t,r)},p(l,r){r&32&&e!==(e=l[5].t("Only select users and groups with permission can access")+"")&&K(t,e)},d(l){l&&d(t)}}}function Ee(i){let e,t,l,r,n=i[5].t("Groups")+"",a,s,f,w,P,y,m,h,I=i[5].t("Select a group")+"",G,A,_,T,M,N,B,R,C,H,U,D=de(i[4].filter(i[9])),v=[];for(let o=0;o<D.length;o+=1)v[o]=ye(ke(i,D,o));const S=[ze,qe],E=[];function V(o,p){return o[14].length>0?0:1}return B=V(i),R=E[B]=S[B](i),{c(){e=b("div"),t=b("div"),l=b("div"),r=b("div"),a=F(n),s=q(),f=b("div"),w=b("div"),P=b("div"),y=b("div"),m=b("select"),h=b("option"),G=F(I);for(let o=0;o<v.length;o+=1)v[o].c();_=q(),T=b("hr"),M=q(),N=b("div"),R.c(),this.h()},l(o){e=k(o,"DIV",{});var p=g(e);t=k(p,"DIV",{class:!0});var O=g(t);l=k(O,"DIV",{class:!0});var j=g(l);r=k(j,"DIV",{class:!0});var X=g(r);a=J(X,n),X.forEach(d),j.forEach(d),s=z(O),f=k(O,"DIV",{class:!0});var $=g(f);w=k($,"DIV",{class:!0});var ee=g(w);P=k(ee,"DIV",{class:!0});var Q=g(P);y=k(Q,"DIV",{class:!0});var Y=g(y);m=k(Y,"SELECT",{class:!0});var Z=g(m);h=k(Z,"OPTION",{class:!0});var te=g(h);G=J(te,I),te.forEach(d);for(let he=0;he<v.length;he+=1)v[he].l(Z);Z.forEach(d),Y.forEach(d),Q.forEach(d),ee.forEach(d),$.forEach(d),_=z(O),T=k(O,"HR",{class:!0}),M=z(O),N=k(O,"DIV",{class:!0});var pe=g(N);R.l(pe),pe.forEach(d),O.forEach(d),p.forEach(d),this.h()},h(){c(r,"class","text-sm font-semibold"),c(l,"class","flex justify-between mb-1.5"),c(h,"class","text-gray-700"),h.__value="",le(h,h.__value),h.disabled=!0,h.selected=!0,c(m,"class",A="outline-hidden bg-transparent text-sm rounded-lg block w-full pr-10 max-w-full "+(i[3]?"":"text-gray-500")+" dark:placeholder-gray-500"),i[3]===void 0&&Se(()=>i[10].call(m)),c(y,"class","w-full px-0.5"),c(P,"class","flex flex-1 items-center"),c(w,"class","flex w-full"),c(f,"class","mb-1"),c(T,"class","border-gray-100 dark:border-gray-700/10 mt-1.5 mb-2.5 w-full"),c(N,"class","flex flex-col gap-2 mb-1 px-0.5"),c(t,"class","")},m(o,p){W(o,e,p),u(e,t),u(t,l),u(l,r),u(r,a),u(t,s),u(t,f),u(f,w),u(w,P),u(P,y),u(y,m),u(m,h),u(h,G);for(let O=0;O<v.length;O+=1)v[O]&&v[O].m(m,null);re(m,i[3],!0),u(t,_),u(t,T),u(t,M),u(t,N),E[B].m(N,null),C=!0,H||(U=se(m,"change",i[10]),H=!0)},p(o,p){if((!C||p&32)&&n!==(n=o[5].t("Groups")+"")&&K(a,n),(!C||p&32)&&I!==(I=o[5].t("Select a group")+"")&&K(G,I),p&17){D=de(o[4].filter(o[9]));let j;for(j=0;j<D.length;j+=1){const X=ke(o,D,j);v[j]?v[j].p(X,p):(v[j]=ye(X),v[j].c(),v[j].m(m,null))}for(;j<v.length;j+=1)v[j].d(1);v.length=D.length}(!C||p&25&&A!==(A="outline-hidden bg-transparent text-sm rounded-lg block w-full pr-10 max-w-full "+(o[3]?"":"text-gray-500")+" dark:placeholder-gray-500"))&&c(m,"class",A),p&25&&re(m,o[3]);let O=B;B=V(o),B===O?E[B].p(o,p):(fe(),L(E[O],1,1,()=>{E[O]=null}),_e(),R=E[B],R?R.p(o,p):(R=E[B]=S[B](o),R.c()),x(R,1),R.m(N,null))},i(o){C||(x(R),C=!0)},o(o){L(R),C=!1},d(o){o&&d(e),Ve(v,o),E[B].d(),H=!1,U()}}}function ye(i){let e,t=i[15].name+"",l,r;return{c(){e=b("option"),l=F(t),this.h()},l(n){e=k(n,"OPTION",{class:!0});var a=g(e);l=J(a,t),a.forEach(d),this.h()},h(){c(e,"class","text-gray-700"),e.__value=r=i[15].id,le(e,e.__value)},m(n,a){W(n,e,a),u(e,l)},p(n,a){a&17&&t!==(t=n[15].name+"")&&K(l,t),a&17&&r!==(r=n[15].id)&&(e.__value=r,le(e,e.__value))},d(n){n&&d(e)}}}function qe(i){let e,t,l=i[5].t("No groups with access, add a group to grant access")+"",r;return{c(){e=b("div"),t=b("div"),r=F(l),this.h()},l(n){e=k(n,"DIV",{class:!0});var a=g(e);t=k(a,"DIV",{class:!0});var s=g(t);r=J(s,l),s.forEach(d),a.forEach(d),this.h()},h(){c(t,"class","text-gray-500 text-xs text-center py-2 px-10"),c(e,"class","flex items-center justify-center")},m(n,a){W(n,e,a),u(e,t),u(t,r)},p(n,a){a&32&&l!==(l=n[5].t("No groups with access, add a group to grant access")+"")&&K(r,l)},i:ge,o:ge,d(n){n&&d(e)}}}function ze(i){let e,t,l=de(i[14]),r=[];for(let a=0;a<l.length;a+=1)r[a]=Ie(be(i,l,a));const n=a=>L(r[a],1,1,()=>{r[a]=null});return{c(){for(let a=0;a<r.length;a+=1)r[a].c();e=me()},l(a){for(let s=0;s<r.length;s+=1)r[s].l(a);e=me()},m(a,s){for(let f=0;f<r.length;f+=1)r[f]&&r[f].m(a,s);W(a,e,s),t=!0},p(a,s){if(s&51){l=de(a[14]);let f;for(f=0;f<l.length;f+=1){const w=be(a,l,f);r[f]?(r[f].p(w,s),x(r[f],1)):(r[f]=Ie(w),r[f].c(),x(r[f],1),r[f].m(e.parentNode,e))}for(fe(),f=l.length;f<r.length;f+=1)n(f);_e()}},i(a){if(!t){for(let s=0;s<l.length;s+=1)x(r[s]);t=!0}},o(a){r=r.filter(Boolean);for(let s=0;s<r.length;s+=1)L(r[s]);t=!1},d(a){a&&d(e),Ve(r,a)}}}function We(i){let e,t;return e=new De({props:{type:"info",content:i[5].t("Read")}}),{c(){ae(e.$$.fragment)},l(l){ne(e.$$.fragment,l)},m(l,r){ce(e,l,r),t=!0},p(l,r){const n={};r&32&&(n.content=l[5].t("Read")),e.$set(n)},i(l){t||(x(e.$$.fragment,l),t=!0)},o(l){L(e.$$.fragment,l),t=!1},d(l){ue(e,l)}}}function Xe(i){let e,t;return e=new De({props:{type:"success",content:i[5].t("Write")}}),{c(){ae(e.$$.fragment)},l(l){ne(e.$$.fragment,l)},m(l,r){ce(e,l,r),t=!0},p(l,r){const n={};r&32&&(n.content=l[5].t("Write")),e.$set(n)},i(l){t||(x(e.$$.fragment,l),t=!0)},o(l){L(e.$$.fragment,l),t=!1},d(l){ue(e,l)}}}function Ie(i){let e,t,l,r,n,a,s=i[15].name+"",f,w,P,y,m,h,I,G,A,_,T,M,N,B;r=new Me({props:{className:"size-4"}});const R=[Xe,We],C=[];function H(v,S){return S&17&&(m=null),m==null&&(m=!!v[0].write.group_ids.includes(v[15].id)),m?0:1}h=H(i,-1),I=C[h]=R[h](i);function U(){return i[11](i[15])}_=new Ge({});function D(){return i[12](i[15])}return{c(){e=b("div"),t=b("div"),l=b("div"),ae(r.$$.fragment),n=q(),a=b("div"),f=F(s),w=q(),P=b("div"),y=b("button"),I.c(),G=q(),A=b("button"),ae(_.$$.fragment),T=q(),this.h()},l(v){e=k(v,"DIV",{class:!0});var S=g(e);t=k(S,"DIV",{class:!0});var E=g(t);l=k(E,"DIV",{});var V=g(l);ne(r.$$.fragment,V),V.forEach(d),n=z(E),a=k(E,"DIV",{});var o=g(a);f=J(o,s),o.forEach(d),E.forEach(d),w=z(S),P=k(S,"DIV",{class:!0});var p=g(P);y=k(p,"BUTTON",{class:!0,type:!0});var O=g(y);I.l(O),O.forEach(d),G=z(p),A=k(p,"BUTTON",{class:!0,type:!0});var j=g(A);ne(_.$$.fragment,j),j.forEach(d),p.forEach(d),T=z(S),S.forEach(d),this.h()},h(){c(t,"class","flex items-center gap-1.5 w-full font-medium"),c(y,"class",""),c(y,"type","button"),c(A,"class","rounded-full p-1 hover:bg-gray-100 dark:hover:bg-gray-850 transition"),c(A,"type","button"),c(P,"class","w-full flex justify-end items-center gap-0.5"),c(e,"class","flex items-center gap-3 justify-between text-xs w-full transition")},m(v,S){W(v,e,S),u(e,t),u(t,l),ce(r,l,null),u(t,n),u(t,a),u(a,f),u(e,w),u(e,P),u(P,y),C[h].m(y,null),u(P,G),u(P,A),ce(_,A,null),u(e,T),M=!0,N||(B=[se(y,"click",U),se(A,"click",D)],N=!0)},p(v,S){i=v,(!M||S&17)&&s!==(s=i[15].name+"")&&K(f,s);let E=h;h=H(i,S),h===E?C[h].p(i,S):(fe(),L(C[E],1,1,()=>{C[E]=null}),_e(),I=C[h],I?I.p(i,S):(I=C[h]=R[h](i),I.c()),x(I,1),I.m(y,null))},i(v){M||(x(r.$$.fragment,v),x(I),x(_.$$.fragment,v),M=!0)},o(v){L(r.$$.fragment,v),L(I),L(_.$$.fragment,v),M=!1},d(v){v&&d(e),ue(r),C[h].d(),ue(_),N=!1,Be(B)}}}function Fe(i){let e,t,l,r=i[5].t("Visibility")+"",n,a,s,f,w,P,y,m,h,I=i[5].t("Private")+"",G,A,_,T,M,N,B,R;function C(o,p){return o[0]!==null?xe:Ue}let H=C(i),U=H(i),D=i[2]&&we(i);function v(o,p){return o[0]!==null?He:Le}let S=v(i),E=S(i),V=i[0]!==null&&Ee(ve(i));return{c(){e=b("div"),t=b("div"),l=b("div"),n=F(r),a=q(),s=b("div"),f=b("div"),w=b("div"),U.c(),P=q(),y=b("div"),m=b("select"),h=b("option"),G=F(I),D&&D.c(),_=q(),T=b("div"),E.c(),M=q(),V&&V.c(),this.h()},l(o){e=k(o,"DIV",{class:!0});var p=g(e);t=k(p,"DIV",{class:!0});var O=g(t);l=k(O,"DIV",{class:!0});var j=g(l);n=J(j,r),j.forEach(d),a=z(O),s=k(O,"DIV",{class:!0});var X=g(s);f=k(X,"DIV",{});var $=g(f);w=k($,"DIV",{class:!0});var ee=g(w);U.l(ee),ee.forEach(d),$.forEach(d),P=z(X),y=k(X,"DIV",{});var Q=g(y);m=k(Q,"SELECT",{id:!0,class:!0});var Y=g(m);h=k(Y,"OPTION",{class:!0});var Z=g(h);G=J(Z,I),Z.forEach(d),D&&D.l(Y),Y.forEach(d),_=z(Q),T=k(Q,"DIV",{class:!0});var te=g(T);E.l(te),te.forEach(d),Q.forEach(d),X.forEach(d),O.forEach(d),M=z(p),V&&V.l(p),p.forEach(d),this.h()},h(){c(l,"class","text-sm font-semibold mb-1"),c(w,"class","p-2 bg-black/5 dark:bg-white/5 rounded-full"),c(h,"class","text-gray-700"),h.__value="private",le(h,h.__value),h.selected=!0,c(m,"id","models"),c(m,"class","outline-hidden bg-transparent text-sm font-medium rounded-lg block w-fit pr-10 max-w-full placeholder-gray-400"),c(T,"class","text-xs text-gray-400 font-medium"),c(s,"class","flex gap-2.5 items-center mb-1"),c(t,"class",""),c(e,"class","rounded-lg flex flex-col gap-2")},m(o,p){W(o,e,p),u(e,t),u(t,l),u(l,n),u(t,a),u(t,s),u(s,f),u(f,w),U.m(w,null),u(s,P),u(s,y),u(y,m),u(m,h),u(h,G),D&&D.m(m,null),re(m,i[0]!==null?"private":"public"),u(y,_),u(y,T),E.m(T,null),u(e,M),V&&V.m(e,null),N=!0,B||(R=se(m,"change",i[8]),B=!0)},p(o,[p]){(!N||p&32)&&r!==(r=o[5].t("Visibility")+"")&&K(n,r),H!==(H=C(o))&&(U.d(1),U=H(o),U&&(U.c(),U.m(w,null))),(!N||p&32)&&I!==(I=o[5].t("Private")+"")&&K(G,I),o[2]?D?D.p(o,p):(D=we(o),D.c(),D.m(m,null)):D&&(D.d(1),D=null),(!N||p&1&&A!==(A=o[0]!==null?"private":"public"))&&re(m,o[0]!==null?"private":"public"),S===(S=v(o))&&E?E.p(o,p):(E.d(1),E=S(o),E&&(E.c(),E.m(T,null))),o[0]!==null?V?(V.p(ve(o),p),p&1&&x(V,1)):(V=Ee(ve(o)),V.c(),x(V,1),V.m(e,null)):V&&(fe(),L(V,1,1,()=>{V=null}),_e())},i(o){N||(x(V),N=!0)},o(o){L(V),N=!1},d(o){o&&d(e),U.d(),D&&D.d(),E.d(),V&&V.d(),B=!1,R()}}}function Je(i,e,t){let l;const r=Pe("i18n");Te(i,r,_=>t(5,l=_));let{onChange:n=()=>{}}=e,{accessRoles:a=["read"]}=e,{accessControl:s={}}=e,{allowPublic:f=!0}=e,w="",P=[];Ne(async()=>{var _,T,M,N;t(4,P=await Re(localStorage.token)),s===null?f?t(0,s=null):(t(0,s={read:{group_ids:[],user_ids:[]},write:{group_ids:[],user_ids:[]}}),n(s)):t(0,s={read:{group_ids:((_=s==null?void 0:s.read)==null?void 0:_.group_ids)??[],user_ids:((T=s==null?void 0:s.read)==null?void 0:T.user_ids)??[]},write:{group_ids:((M=s==null?void 0:s.write)==null?void 0:M.group_ids)??[],user_ids:((N=s==null?void 0:s.write)==null?void 0:N.user_ids)??[]}})});const y=()=>{w!==""&&(t(0,s.read.group_ids=[...s.read.group_ids,w],s),t(3,w=""))},m=_=>{_.target.value==="public"?t(0,s=null):t(0,s={read:{group_ids:[],user_ids:[]},write:{group_ids:[],user_ids:[]}})},h=_=>!s.read.group_ids.includes(_.id);function I(){w=je(this),t(3,w),t(4,P),t(0,s),t(2,f),t(7,n)}const G=_=>{a.includes("write")&&(s.write.group_ids.includes(_.id)?t(0,s.write.group_ids=s.write.group_ids.filter(T=>T!==_.id),s):t(0,s.write.group_ids=[...s.write.group_ids,_.id],s))},A=_=>{t(0,s.read.group_ids=s.read.group_ids.filter(T=>T!==_.id),s)};return i.$$set=_=>{"onChange"in _&&t(7,n=_.onChange),"accessRoles"in _&&t(1,a=_.accessRoles),"accessControl"in _&&t(0,s=_.accessControl),"allowPublic"in _&&t(2,f=_.allowPublic)},i.$$.update=()=>{i.$$.dirty&133&&!f&&s===null&&(t(0,s={read:{group_ids:[],user_ids:[]},write:{group_ids:[],user_ids:[]}}),n(s)),i.$$.dirty&129&&n(s),i.$$.dirty&8&&w&&y()},[s,a,f,w,P,l,r,n,m,h,I,G,A]}class rt extends Ce{constructor(e){super(),Ae(this,e,Je,Fe,Oe,{onChange:7,accessRoles:1,accessControl:0,allowPublic:2})}}export{rt as A};
//# sourceMappingURL=BIZuvuEz.js.map
