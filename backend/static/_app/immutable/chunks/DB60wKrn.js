import{s as Ce,E as Ue,F as We,a as L,d,f as h,i as B,g as C,n as me,z as qe,B as Ye,j as ge,p as Ke,k as R,o as G,e as V,t as ne,c as H,b as oe,u as se,h as re,H as Je,r as St,v as Pt,w as jt,x as At,U as Fe,y as xe,l as et,G as Ee,K as Gt,q as Yt,D as tt,C as lt}from"./jBEftbNB.js";import{S as Te,i as Ne,f as Qe,b as Y,d as K,m as J,t as k,a as N,e as Q,g as fe,c as ue}from"./2lNU1ddO.js";import{e as we}from"./ClpXlKdG.js";import"./jqnfoqud.js";import{M as Ut,a as Wt,b as Ft}from"./5vPLDuD4.js";import{m as nt,n as ot,k as Kt,h as Jt}from"./DB_xkffJ.js";import{F as Qt}from"./CU2r43ac.js";import{d as Ge,r as Xt}from"./I1CDPYOB.js";import"./0ZqDA-lu.js";import{f as qt}from"./CBc5jlPY.js";import{g as xt}from"./wUxqHZkW.js";import{g as el,p as tl,d as ll,u as nl}from"./CAYv_9aC.js";import{b as Zt,u as Rt,c as ol,M as Me,n as rl,o as rt,m as Ze}from"./BmtUElco.js";import{t as _e}from"./CPRQqKui.js";import{g as Re}from"./Bf7AzwKN.js";import{C as al}from"./Dhr8dmOJ.js";import{S as sl}from"./Bwr9yBDe.js";import{T as pe}from"./BmKU5_x6.js";import{S as il}from"./C87UxUtA.js";import{C as fl}from"./C615oZGu.js";import{L as ul}from"./BSjvF658.js";import{E as cl}from"./DKdQhWPe.js";import{E as dl}from"./BPVH9yCr.js";import{E as ml}from"./_4rz0OwG.js";function hl(o){let e,t;return{c(){e=Ue("svg"),t=Ue("path"),this.h()},l(l){e=We(l,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var n=L(e);t=We(n,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),L(t).forEach(d),n.forEach(d),this.h()},h(){h(t,"stroke-linecap","round"),h(t,"stroke-linejoin","round"),h(t,"d","M12 20.25c4.97 0 9-3.694 9-8.25s-4.03-8.25-9-8.25S3 7.444 3 12c0 2.104.859 4.023 2.273 5.48.432.447.74 1.04.586 1.641a4.483 4.483 0 0 1-.923 1.785A5.969 5.969 0 0 0 6 21c1.282 0 2.47-.402 3.445-1.087.81.22 1.668.337 2.555.337Z"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"fill","none"),h(e,"viewBox","0 0 24 24"),h(e,"stroke-width",o[1]),h(e,"stroke","currentColor"),h(e,"class",o[0])},m(l,n){B(l,e,n),C(e,t)},p(l,[n]){n&2&&h(e,"stroke-width",l[1]),n&1&&h(e,"class",l[0])},i:me,o:me,d(l){l&&d(e)}}}function _l(o,e,t){let{className:l="size-4"}=e,{strokeWidth:n="1.5"}=e;return o.$$set=r=>{"className"in r&&t(0,l=r.className),"strokeWidth"in r&&t(1,n=r.strokeWidth)},[l,n]}class pl extends Te{constructor(e){super(),Ne(this,e,_l,hl,Ce,{className:0,strokeWidth:1})}}function gl(o){let e,t;return{c(){e=Ue("svg"),t=Ue("path"),this.h()},l(l){e=We(l,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var n=L(e);t=We(n,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),L(t).forEach(d),n.forEach(d),this.h()},h(){h(t,"stroke-linecap","round"),h(t,"stroke-linejoin","round"),h(t,"d","M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"fill","none"),h(e,"viewBox","0 0 24 24"),h(e,"stroke-width",o[1]),h(e,"stroke","currentColor"),h(e,"class",o[0])},m(l,n){B(l,e,n),C(e,t)},p(l,[n]){n&2&&h(e,"stroke-width",l[1]),n&1&&h(e,"class",l[0])},i:me,o:me,d(l){l&&d(e)}}}function vl(o,e,t){let{className:l="size-4"}=e,{strokeWidth:n="1.5"}=e;return o.$$set=r=>{"className"in r&&t(0,l=r.className),"strokeWidth"in r&&t(1,n=r.strokeWidth)},[l,n]}class bl extends Te{constructor(e){super(),Ne(this,e,vl,gl,Ce,{className:0,strokeWidth:1})}}function wl(o){let e;const t=o[8].default,l=St(t,o,o[13],null);return{c(){l&&l.c()},l(n){l&&l.l(n)},m(n,r){l&&l.m(n,r),e=!0},p(n,r){l&&l.p&&(!e||r&8192)&&Pt(l,t,n,n[13],e?At(t,n[13],r,null):jt(n[13]),null)},i(n){e||(k(l,n),e=!0)},o(n){N(l,n),e=!1},d(n){l&&l.d(n)}}}function kl(o){let e,t;return e=new pe({props:{content:o[5].t("More"),className:" group-hover/item:opacity-100  opacity-0",$$slots:{default:[wl]},$$scope:{ctx:o}}}),{c(){Y(e.$$.fragment)},l(l){K(e.$$.fragment,l)},m(l,n){J(e,l,n),t=!0},p(l,n){const r={};n&32&&(r.content=l[5].t("More")),n&8192&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(k(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){Q(e,l)}}}function $l(o){let e,t;return e=new cl({}),{c(){Y(e.$$.fragment)},l(l){K(e.$$.fragment,l)},m(l,n){J(e,l,n),t=!0},i(l){t||(k(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){Q(e,l)}}}function yl(o){let e,t;return e=new dl({}),{c(){Y(e.$$.fragment)},l(l){K(e.$$.fragment,l)},m(l,n){J(e,l,n),t=!0},i(l){t||(k(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){Q(e,l)}}}function Ml(o){let e=o[5].t("Keep in Sidebar")+"",t;return{c(){t=ne(e)},l(l){t=oe(l,e)},m(l,n){B(l,t,n)},p(l,n){n&32&&e!==(e=l[5].t("Keep in Sidebar")+"")&&re(t,e)},d(l){l&&d(t)}}}function El(o){let e=o[5].t("Hide from Sidebar")+"",t;return{c(){t=ne(e)},l(l){t=oe(l,e)},m(l,n){B(l,t,n)},p(l,n){n&32&&e!==(e=l[5].t("Hide from Sidebar")+"")&&re(t,e)},d(l){l&&d(t)}}}function Dl(o){let e,t,l,n,r,a,s,i,m,c,f,_,b=o[5].t("Copy Link")+"",w,D,$,p;const T=[yl,$l],P=[];function v(M,y){var q,te;return y&66&&(t=null),t==null&&(t=!!(((q=M[6])==null?void 0:q.pinnedModels)??[]).includes((te=M[1])==null?void 0:te.id)),t?0:1}l=v(o,-1),n=P[l]=T[l](o);function ae(M,y){var q,te;return y&66&&(s=null),s==null&&(s=!!(((q=M[6])==null?void 0:q.pinnedModels)??[]).includes((te=M[1])==null?void 0:te.id)),s?El:Ml}let W=ae(o,-1),O=W(o);return c=new ul({}),{c(){e=V("button"),n.c(),r=R(),a=V("div"),O.c(),i=R(),m=V("button"),Y(c.$$.fragment),f=R(),_=V("div"),w=ne(b),this.h()},l(M){e=H(M,"BUTTON",{type:!0,class:!0});var y=L(e);n.l(y),r=G(y),a=H(y,"DIV",{class:!0});var q=L(a);O.l(q),q.forEach(d),y.forEach(d),i=G(M),m=H(M,"BUTTON",{type:!0,class:!0});var te=L(m);K(c.$$.fragment,te),f=G(te),_=H(te,"DIV",{class:!0});var x=L(_);w=oe(x,b),x.forEach(d),te.forEach(d),this.h()},h(){h(a,"class","flex items-center"),h(e,"type","button"),h(e,"class","flex rounded-md py-1.5 px-3 w-full hover:bg-gray-50 dark:hover:bg-gray-800 transition items-center gap-2"),h(_,"class","flex items-center"),h(m,"type","button"),h(m,"class","flex rounded-md py-1.5 px-3 w-full hover:bg-gray-50 dark:hover:bg-gray-800 transition items-center gap-2")},m(M,y){B(M,e,y),P[l].m(e,null),C(e,r),C(e,a),O.m(a,null),B(M,i,y),B(M,m,y),J(c,m,null),C(m,f),C(m,_),C(_,w),D=!0,$||(p=[se(e,"click",o[9]),se(m,"click",o[10])],$=!0)},p(M,y){let q=l;l=v(M,y),l!==q&&(fe(),N(P[q],1,1,()=>{P[q]=null}),ue(),n=P[l],n||(n=P[l]=T[l](M),n.c()),k(n,1),n.m(e,r)),W===(W=ae(M,y))&&O?O.p(M,y):(O.d(1),O=W(M),O&&(O.c(),O.m(a,null))),(!D||y&32)&&b!==(b=M[5].t("Copy Link")+"")&&re(w,b)},i(M){D||(k(n),k(c.$$.fragment,M),D=!0)},o(M){N(n),N(c.$$.fragment,M),D=!1},d(M){M&&(d(e),d(i),d(m)),P[l].d(),O.d(),Q(c),$=!1,Je(p)}}}function Cl(o){let e,t,l,n;return e=new Wt({props:{$$slots:{default:[kl]},$$scope:{ctx:o}}}),l=new Ft({props:{strategy:"fixed",class:"w-full max-w-[180px] text-sm rounded-xl px-1 py-1.5 z-[9999999] bg-white dark:bg-gray-850 dark:text-white shadow-lg",sideOffset:-2,side:"bottom",align:"end",transition:qt,$$slots:{default:[Dl]},$$scope:{ctx:o}}}),{c(){Y(e.$$.fragment),t=R(),Y(l.$$.fragment)},l(r){K(e.$$.fragment,r),t=G(r),K(l.$$.fragment,r)},m(r,a){J(e,r,a),B(r,t,a),J(l,r,a),n=!0},p(r,a){const s={};a&8224&&(s.$$scope={dirty:a,ctx:r}),e.$set(s);const i={};a&8303&&(i.$$scope={dirty:a,ctx:r}),l.$set(i)},i(r){n||(k(e.$$.fragment,r),k(l.$$.fragment,r),n=!0)},o(r){N(e.$$.fragment,r),N(l.$$.fragment,r),n=!1},d(r){r&&d(t),Q(e,r),Q(l,r)}}}function Tl(o){let e,t,l;function n(a){o[12](a)}let r={closeFocus:!1,onOpenChange:o[11],typeahead:!1,$$slots:{default:[Cl]},$$scope:{ctx:o}};return o[0]!==void 0&&(r.open=o[0]),e=new Ut({props:r}),qe.push(()=>Qe(e,"open",n)),{c(){Y(e.$$.fragment)},l(a){K(e.$$.fragment,a)},m(a,s){J(e,a,s),l=!0},p(a,[s]){const i={};s&16&&(i.onOpenChange=a[11]),s&8303&&(i.$$scope={dirty:s,ctx:a}),!t&&s&1&&(t=!0,i.open=a[0],Ye(()=>t=!1)),e.$set(i)},i(a){l||(k(e.$$.fragment,a),l=!0)},o(a){N(e.$$.fragment,a),l=!1},d(a){Q(e,a)}}}function Nl(o,e,t){let l,n;ge(o,Zt,p=>t(6,n=p));let{$$slots:r={},$$scope:a}=e;const s=Ke("i18n");ge(o,s,p=>t(5,l=p));let{show:i=!1}=e,{model:m}=e,{pinModelHandler:c=()=>{}}=e,{copyLinkHandler:f=()=>{}}=e,{onClose:_=()=>{}}=e;const b=p=>{p.stopPropagation(),p.preventDefault(),c(m==null?void 0:m.id),t(0,i=!1)},w=p=>{p.stopPropagation(),p.preventDefault(),f(),t(0,i=!1)},D=p=>{p===!1&&_()};function $(p){i=p,t(0,i)}return o.$$set=p=>{"show"in p&&t(0,i=p.show),"model"in p&&t(1,m=p.model),"pinModelHandler"in p&&t(2,c=p.pinModelHandler),"copyLinkHandler"in p&&t(3,f=p.copyLinkHandler),"onClose"in p&&t(4,_=p.onClose),"$$scope"in p&&t(13,a=p.$$scope)},[i,m,c,f,_,l,n,s,r,b,w,D,$,a]}class Il extends Te{constructor(e){super(),Ne(this,e,Nl,Tl,Ce,{show:0,model:1,pinModelHandler:2,copyLinkHandler:3,onClose:4})}}function at(o,e,t){const l=o.slice();return l[17]=e[t],l}function st(o){var a;let e,t,l=we((a=o[1].model)==null?void 0:a.tags.sort(_t)),n=[];for(let s=0;s<l.length;s+=1)n[s]=it(at(o,l,s));const r=s=>N(n[s],1,1,()=>{n[s]=null});return{c(){e=V("div");for(let s=0;s<n.length;s+=1)n[s].c();this.h()},l(s){e=H(s,"DIV",{class:!0});var i=L(e);for(let m=0;m<n.length;m+=1)n[m].l(i);i.forEach(d),this.h()},h(){h(e,"class","flex gap-0.5 self-center items-start h-full w-full translate-y-[0.5px] overflow-x-auto scrollbar-none")},m(s,i){B(s,e,i);for(let m=0;m<n.length;m+=1)n[m]&&n[m].m(e,null);t=!0},p(s,i){var m;if(i&2){l=we((m=s[1].model)==null?void 0:m.tags.sort(_t));let c;for(c=0;c<l.length;c+=1){const f=at(s,l,c);n[c]?(n[c].p(f,i),k(n[c],1)):(n[c]=it(f),n[c].c(),k(n[c],1),n[c].m(e,null))}for(fe(),c=l.length;c<n.length;c+=1)r(c);ue()}},i(s){if(!t){for(let i=0;i<l.length;i+=1)k(n[i]);t=!0}},o(s){n=n.filter(Boolean);for(let i=0;i<n.length;i+=1)N(n[i]);t=!1},d(s){s&&d(e),Fe(n,s)}}}function Vl(o){let e,t=o[17].name+"",l,n;return{c(){e=V("div"),l=ne(t),n=R(),this.h()},l(r){e=H(r,"DIV",{class:!0});var a=L(e);l=oe(a,t),a.forEach(d),n=G(r),this.h()},h(){h(e,"class","text-xs font-bold px-1 rounded-sm uppercase bg-gray-500/20 text-gray-700 dark:text-gray-200")},m(r,a){B(r,e,a),C(e,l),B(r,n,a)},p(r,a){a&2&&t!==(t=r[17].name+"")&&re(l,t)},d(r){r&&(d(e),d(n))}}}function it(o){let e,t;return e=new pe({props:{content:o[17].name,className:"flex-shrink-0",$$slots:{default:[Vl]},$$scope:{ctx:o}}}),{c(){Y(e.$$.fragment)},l(l){K(e.$$.fragment,l)},m(l,n){J(e,l,n),t=!0},p(l,n){const r={};n&2&&(r.content=l[17].name),n&1048578&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(k(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){Q(e,l)}}}function Hl(o){let e,t;return{c(){e=V("img"),this.h()},l(l){e=H(l,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){var l,n,r;xe(e.src,t=((r=(n=(l=o[1].model)==null?void 0:l.info)==null?void 0:n.meta)==null?void 0:r.profile_image_url)??"/static/favicon.png")||h(e,"src",t),h(e,"alt","Model"),h(e,"class","rounded-full size-5 flex items-center")},m(l,n){B(l,e,n)},p(l,n){var r,a,s;n&2&&!xe(e.src,t=((s=(a=(r=l[1].model)==null?void 0:r.info)==null?void 0:a.meta)==null?void 0:s.profile_image_url)??"/static/favicon.png")&&h(e,"src",t)},d(l){l&&d(e)}}}function Ol(o){let e,t=o[1].label+"",l;return{c(){e=V("div"),l=ne(t),this.h()},l(n){e=H(n,"DIV",{class:!0});var r=L(e);l=oe(r,t),r.forEach(d),this.h()},h(){h(e,"class","line-clamp-1")},m(n,r){B(n,e,r),C(e,l)},p(n,r){r&2&&t!==(t=n[1].label+"")&&re(l,t)},d(n){n&&d(e)}}}function ft(o){var s,i,m,c;let e,t=((s=o[1].model.ollama)==null?void 0:s.expires_at)&&new Date(((i=o[1].model.ollama)==null?void 0:i.expires_at)*1e3)>new Date,l,n,r=(((c=(m=o[1].model.ollama)==null?void 0:m.details)==null?void 0:c.parameter_size)??"")!==""&&ut(o),a=t&&ct(o);return{c(){r&&r.c(),e=R(),a&&a.c(),l=et()},l(f){r&&r.l(f),e=G(f),a&&a.l(f),l=et()},m(f,_){r&&r.m(f,_),B(f,e,_),a&&a.m(f,_),B(f,l,_),n=!0},p(f,_){var b,w,D,$;(((w=(b=f[1].model.ollama)==null?void 0:b.details)==null?void 0:w.parameter_size)??"")!==""?r?(r.p(f,_),_&2&&k(r,1)):(r=ut(f),r.c(),k(r,1),r.m(e.parentNode,e)):r&&(fe(),N(r,1,1,()=>{r=null}),ue()),_&2&&(t=((D=f[1].model.ollama)==null?void 0:D.expires_at)&&new Date((($=f[1].model.ollama)==null?void 0:$.expires_at)*1e3)>new Date),t?a?(a.p(f,_),_&2&&k(a,1)):(a=ct(f),a.c(),k(a,1),a.m(l.parentNode,l)):a&&(fe(),N(a,1,1,()=>{a=null}),ue())},i(f){n||(k(r),k(a),n=!0)},o(f){N(r),N(a),n=!1},d(f){f&&(d(e),d(l)),r&&r.d(f),a&&a.d(f)}}}function ut(o){var n,r,a,s,i,m;let e,t,l;return t=new pe({props:{content:`${(r=(n=o[1].model.ollama)==null?void 0:n.details)!=null&&r.quantization_level?((s=(a=o[1].model.ollama)==null?void 0:a.details)==null?void 0:s.quantization_level)+" ":""}${(i=o[1].model.ollama)!=null&&i.size?`(${(((m=o[1].model.ollama)==null?void 0:m.size)/1024**3).toFixed(1)}GB)`:""}`,className:"self-end",$$slots:{default:[zl]},$$scope:{ctx:o}}}),{c(){e=V("div"),Y(t.$$.fragment),this.h()},l(c){e=H(c,"DIV",{class:!0});var f=L(e);K(t.$$.fragment,f),f.forEach(d),this.h()},h(){h(e,"class","flex items-center translate-y-[0.5px]")},m(c,f){B(c,e,f),J(t,e,null),l=!0},p(c,f){var b,w,D,$,p,T;const _={};f&2&&(_.content=`${(w=(b=c[1].model.ollama)==null?void 0:b.details)!=null&&w.quantization_level?(($=(D=c[1].model.ollama)==null?void 0:D.details)==null?void 0:$.quantization_level)+" ":""}${(p=c[1].model.ollama)!=null&&p.size?`(${(((T=c[1].model.ollama)==null?void 0:T.size)/1024**3).toFixed(1)}GB)`:""}`),f&1048578&&(_.$$scope={dirty:f,ctx:c}),t.$set(_)},i(c){l||(k(t.$$.fragment,c),l=!0)},o(c){N(t.$$.fragment,c),l=!1},d(c){c&&d(e),Q(t)}}}function zl(o){var n,r;let e,t=(((r=(n=o[1].model.ollama)==null?void 0:n.details)==null?void 0:r.parameter_size)??"")+"",l;return{c(){e=V("span"),l=ne(t),this.h()},l(a){e=H(a,"SPAN",{class:!0});var s=L(e);l=oe(s,t),s.forEach(d),this.h()},h(){h(e,"class","text-xs font-medium text-gray-600 dark:text-gray-400 line-clamp-1")},m(a,s){B(a,e,s),C(e,l)},p(a,s){var i,m;s&2&&t!==(t=(((m=(i=a[1].model.ollama)==null?void 0:i.details)==null?void 0:m.parameter_size)??"")+"")&&re(l,t)},d(a){a&&d(e)}}}function ct(o){var n;let e,t,l;return t=new pe({props:{content:`${o[8].t("Unloads {{FROM_NOW}}",{FROM_NOW:Ge(((n=o[1].model.ollama)==null?void 0:n.expires_at)*1e3).fromNow()})}`,className:"self-end",$$slots:{default:[Bl]},$$scope:{ctx:o}}}),{c(){e=V("div"),Y(t.$$.fragment),this.h()},l(r){e=H(r,"DIV",{class:!0});var a=L(e);K(t.$$.fragment,a),a.forEach(d),this.h()},h(){h(e,"class","flex items-center translate-y-[0.5px] px-0.5")},m(r,a){B(r,e,a),J(t,e,null),l=!0},p(r,a){var i;const s={};a&258&&(s.content=`${r[8].t("Unloads {{FROM_NOW}}",{FROM_NOW:Ge(((i=r[1].model.ollama)==null?void 0:i.expires_at)*1e3).fromNow()})}`),a&1048576&&(s.$$scope={dirty:a,ctx:r}),t.$set(s)},i(r){l||(k(t.$$.fragment,r),l=!0)},o(r){N(t.$$.fragment,r),l=!1},d(r){r&&d(e),Q(t)}}}function Bl(o){let e,t='<span class="relative flex size-2"><span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"></span> <span class="relative inline-flex rounded-full size-2 bg-green-500"></span></span>';return{c(){e=V("div"),e.innerHTML=t,this.h()},l(l){e=H(l,"DIV",{class:!0,"data-svelte-h":!0}),Ee(e)!=="svelte-pq0hxj"&&(e.innerHTML=t),this.h()},h(){h(e,"class","flex items-center")},m(l,n){B(l,e,n)},p:me,d(l){l&&d(e)}}}function Ll(o){let e,t;return e=new pe({props:{content:`${o[8].t("External")}`,$$slots:{default:[Pl]},$$scope:{ctx:o}}}),{c(){Y(e.$$.fragment)},l(l){K(e.$$.fragment,l)},m(l,n){J(e,l,n),t=!0},p(l,n){const r={};n&256&&(r.content=`${l[8].t("External")}`),n&1048576&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(k(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){Q(e,l)}}}function Sl(o){let e,t;return e=new pe({props:{content:`${o[8].t("Direct")}`,$$slots:{default:[jl]},$$scope:{ctx:o}}}),{c(){Y(e.$$.fragment)},l(l){K(e.$$.fragment,l)},m(l,n){J(e,l,n),t=!0},p(l,n){const r={};n&256&&(r.content=`${l[8].t("Direct")}`),n&1048576&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(k(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){Q(e,l)}}}function Pl(o){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="size-3"><path fill-rule="evenodd" d="M8.914 6.025a.75.75 0 0 1 1.06 0 3.5 3.5 0 0 1 0 4.95l-2 2a3.5 3.5 0 0 1-5.396-4.402.75.75 0 0 1 1.251.827 2 2 0 0 0 3.085 2.514l2-2a2 2 0 0 0 0-2.828.75.75 0 0 1 0-1.06Z" clip-rule="evenodd"></path><path fill-rule="evenodd" d="M7.086 9.975a.75.75 0 0 1-1.06 0 3.5 3.5 0 0 1 0-4.95l2-2a3.5 3.5 0 0 1 5.396 4.402.75.75 0 0 1-1.251-.827 2 2 0 0 0-3.085-2.514l-2 2a2 2 0 0 0 0 2.828.75.75 0 0 1 0 1.06Z" clip-rule="evenodd"></path></svg>';return{c(){e=V("div"),e.innerHTML=t,this.h()},l(l){e=H(l,"DIV",{class:!0,"data-svelte-h":!0}),Ee(e)!=="svelte-1we9nfa"&&(e.innerHTML=t),this.h()},h(){h(e,"class","translate-y-[1px]")},m(l,n){B(l,e,n)},p:me,d(l){l&&d(e)}}}function jl(o){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="size-3"><path fill-rule="evenodd" d="M2 2.75A.75.75 0 0 1 2.75 2C8.963 2 14 7.037 14 13.25a.75.75 0 0 1-1.5 0c0-5.385-4.365-9.75-9.75-9.75A.75.75 0 0 1 2 2.75Zm0 4.5a.75.75 0 0 1 .75-.75 6.75 6.75 0 0 1 6.75 6.75.75.75 0 0 1-1.5 0C8 10.35 5.65 8 2.75 8A.75.75 0 0 1 2 7.25ZM3.5 11a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3Z" clip-rule="evenodd"></path></svg>';return{c(){e=V("div"),e.innerHTML=t,this.h()},l(l){e=H(l,"DIV",{class:!0,"data-svelte-h":!0}),Ee(e)!=="svelte-1pvx0j8"&&(e.innerHTML=t),this.h()},h(){h(e,"class","translate-y-[1px]")},m(l,n){B(l,e,n)},p:me,d(l){l&&d(e)}}}function dt(o){var l,n,r;let e,t;return e=new pe({props:{content:`${nt.parse(ot((r=(n=(l=o[1].model)==null?void 0:l.info)==null?void 0:n.meta)==null?void 0:r.description).replaceAll(`
`,"<br>"))}`,$$slots:{default:[Al]},$$scope:{ctx:o}}}),{c(){Y(e.$$.fragment)},l(a){K(e.$$.fragment,a)},m(a,s){J(e,a,s),t=!0},p(a,s){var m,c,f;const i={};s&2&&(i.content=`${nt.parse(ot((f=(c=(m=a[1].model)==null?void 0:m.info)==null?void 0:c.meta)==null?void 0:f.description).replaceAll(`
`,"<br>"))}`),s&1048576&&(i.$$scope={dirty:s,ctx:a}),e.$set(i)},i(a){t||(k(e.$$.fragment,a),t=!0)},o(a){N(e.$$.fragment,a),t=!1},d(a){Q(e,a)}}}function Al(o){let e,t='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"></path></svg>';return{c(){e=V("div"),e.innerHTML=t,this.h()},l(l){e=H(l,"DIV",{class:!0,"data-svelte-h":!0}),Ee(e)!=="svelte-i7zoyb"&&(e.innerHTML=t),this.h()},h(){h(e,"class","translate-y-[1px]")},m(l,n){B(l,e,n)},p:me,d(l){l&&d(e)}}}function mt(o){let e,t;return e=new pe({props:{content:`${o[8].t("Eject")}`,className:"flex-shrink-0 group-hover/item:opacity-100 opacity-0 ",$$slots:{default:[Ul]},$$scope:{ctx:o}}}),{c(){Y(e.$$.fragment)},l(l){K(e.$$.fragment,l)},m(l,n){J(e,l,n),t=!0},p(l,n){const r={};n&256&&(r.content=`${l[8].t("Eject")}`),n&1048594&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(k(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){Q(e,l)}}}function Ul(o){let e,t,l,n,r;return t=new bl({props:{className:"size-3"}}),{c(){e=V("button"),Y(t.$$.fragment),this.h()},l(a){e=H(a,"BUTTON",{class:!0});var s=L(e);K(t.$$.fragment,s),s.forEach(d),this.h()},h(){h(e,"class","flex")},m(a,s){B(a,e,s),J(t,e,null),l=!0,n||(r=se(e,"click",o[12]),n=!0)},p:me,i(a){l||(k(t.$$.fragment,a),l=!0)},o(a){N(t.$$.fragment,a),l=!1},d(a){a&&d(e),Q(t),n=!1,r()}}}function Wl(o){let e,t,l,n,r;return t=new ml({}),{c(){e=V("button"),Y(t.$$.fragment),this.h()},l(a){e=H(a,"BUTTON",{class:!0});var s=L(e);K(t.$$.fragment,s),s.forEach(d),this.h()},h(){h(e,"class","flex")},m(a,s){B(a,e,s),J(t,e,null),l=!0,n||(r=se(e,"click",o[13]),n=!0)},p:me,i(a){l||(k(t.$$.fragment,a),l=!0)},o(a){N(t.$$.fragment,a),l=!1},d(a){a&&d(e),Q(t),n=!1,r()}}}function ht(o){let e,t,l;return t=new fl({props:{className:"size-3"}}),{c(){e=V("div"),Y(t.$$.fragment)},l(n){e=H(n,"DIV",{});var r=L(e);K(t.$$.fragment,r),r.forEach(d)},m(n,r){B(n,e,r),J(t,e,null),l=!0},i(n){l||(k(t.$$.fragment,n),l=!0)},o(n){N(t.$$.fragment,n),l=!1},d(n){n&&d(e),Q(t)}}}function Fl(o){var Ve,He,Oe,ze,Be,Le,Se,Pe,je,Ae;let e,t,l,n,r,a,s,i,m,c,f,_,b,w,D,$,p,T=((Ve=o[9])==null?void 0:Ve.role)==="admin"&&o[1].model.owned_by==="ollama"&&((He=o[1].model.ollama)==null?void 0:He.expires_at)&&new Date(((Oe=o[1].model.ollama)==null?void 0:Oe.expires_at)*1e3)>new Date,P,v,ae,W,O,M,y,q,te,x,A=(((Be=(ze=o[1])==null?void 0:ze.model)==null?void 0:Be.tags)??[]).length>0&&st(o);a=new pe({props:{content:((Le=o[9])==null?void 0:Le.role)==="admin"?((Se=o[1])==null?void 0:Se.value)??"":"",placement:"top-start",$$slots:{default:[Hl]},$$scope:{ctx:o}}}),m=new pe({props:{content:`${o[1].label} (${o[1].value})`,placement:"top-start",$$slots:{default:[Ol]},$$scope:{ctx:o}}});let j=o[1].model.owned_by==="ollama"&&ft(o);const g=[Sl,Ll],E=[];function ee(I,F){var ce;return(ce=I[1].model)!=null&&ce.direct?0:I[1].model.connection_type==="external"?1:-1}~(b=ee(o))&&(w=E[b]=g[b](o));let Z=((Ae=(je=(Pe=o[1].model)==null?void 0:Pe.info)==null?void 0:je.meta)==null?void 0:Ae.description)&&dt(o),z=T&&mt(o);function ve(I){o[15](I)}let Ie={model:o[1].model,pinModelHandler:o[5],copyLinkHandler:o[14],$$slots:{default:[Wl]},$$scope:{ctx:o}};o[7]!==void 0&&(Ie.show=o[7]),v=new Il({props:Ie}),qe.push(()=>Qe(v,"show",ve));let le=o[3]===o[1].value&&ht();return{c(){e=V("button"),t=V("div"),A&&A.c(),l=R(),n=V("div"),r=V("div"),Y(a.$$.fragment),s=R(),i=V("div"),Y(m.$$.fragment),c=R(),f=V("div"),j&&j.c(),_=R(),w&&w.c(),D=R(),Z&&Z.c(),$=R(),p=V("div"),z&&z.c(),P=R(),Y(v.$$.fragment),W=R(),le&&le.c(),this.h()},l(I){e=H(I,"BUTTON",{"aria-label":!0,class:!0,"data-arrow-selected":!0,"data-value":!0});var F=L(e);t=H(F,"DIV",{class:!0});var ce=L(t);A&&A.l(ce),l=G(ce),n=H(ce,"DIV",{class:!0});var he=L(n);r=H(he,"DIV",{class:!0});var u=L(r);K(a.$$.fragment,u),u.forEach(d),s=G(he),i=H(he,"DIV",{class:!0});var S=L(i);K(m.$$.fragment,S),S.forEach(d),c=G(he),f=H(he,"DIV",{class:!0});var U=L(f);j&&j.l(U),_=G(U),w&&w.l(U),D=G(U),Z&&Z.l(U),U.forEach(d),he.forEach(d),ce.forEach(d),$=G(F),p=H(F,"DIV",{class:!0});var X=L(p);z&&z.l(X),P=G(X),K(v.$$.fragment,X),W=G(X),le&&le.l(X),X.forEach(d),F.forEach(d),this.h()},h(){h(r,"class","flex items-center min-w-fit"),h(i,"class","flex items-center"),h(f,"class","shrink-0 flex items-center gap-2"),h(n,"class","flex items-center gap-2"),h(t,"class","flex flex-col flex-1 gap-1.5"),h(p,"class","ml-auto pl-2 pr-1 flex items-center gap-1.5 shrink-0"),h(e,"aria-label","model-item"),h(e,"class",O="flex group/item w-full text-left font-medium line-clamp-1 select-none items-center rounded-button py-2 pl-3 pr-1.5 text-sm text-gray-700 dark:text-gray-100 outline-hidden transition-all duration-75 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg cursor-pointer data-highlighted:bg-muted "+(o[2]===o[0]?"bg-gray-100 dark:bg-gray-800 group-hover:bg-transparent":"")),h(e,"data-arrow-selected",M=o[2]===o[0]),h(e,"data-value",y=o[1].value)},m(I,F){B(I,e,F),C(e,t),A&&A.m(t,null),C(t,l),C(t,n),C(n,r),J(a,r,null),C(n,s),C(n,i),J(m,i,null),C(n,c),C(n,f),j&&j.m(f,null),C(f,_),~b&&E[b].m(f,null),C(f,D),Z&&Z.m(f,null),C(e,$),C(e,p),z&&z.m(p,null),C(p,P),J(v,p,null),C(p,W),le&&le.m(p,null),q=!0,te||(x=se(e,"click",o[16]),te=!0)},p(I,[F]){var U,X,be,de,ke,$e,De,ie,ye,Xe;(((X=(U=I[1])==null?void 0:U.model)==null?void 0:X.tags)??[]).length>0?A?(A.p(I,F),F&2&&k(A,1)):(A=st(I),A.c(),k(A,1),A.m(t,l)):A&&(fe(),N(A,1,1,()=>{A=null}),ue());const ce={};F&514&&(ce.content=((be=I[9])==null?void 0:be.role)==="admin"?((de=I[1])==null?void 0:de.value)??"":""),F&1048578&&(ce.$$scope={dirty:F,ctx:I}),a.$set(ce);const he={};F&2&&(he.content=`${I[1].label} (${I[1].value})`),F&1048578&&(he.$$scope={dirty:F,ctx:I}),m.$set(he),I[1].model.owned_by==="ollama"?j?(j.p(I,F),F&2&&k(j,1)):(j=ft(I),j.c(),k(j,1),j.m(f,_)):j&&(fe(),N(j,1,1,()=>{j=null}),ue());let u=b;b=ee(I),b===u?~b&&E[b].p(I,F):(w&&(fe(),N(E[u],1,1,()=>{E[u]=null}),ue()),~b?(w=E[b],w?w.p(I,F):(w=E[b]=g[b](I),w.c()),k(w,1),w.m(f,D)):w=null),(De=($e=(ke=I[1].model)==null?void 0:ke.info)==null?void 0:$e.meta)!=null&&De.description?Z?(Z.p(I,F),F&2&&k(Z,1)):(Z=dt(I),Z.c(),k(Z,1),Z.m(f,null)):Z&&(fe(),N(Z,1,1,()=>{Z=null}),ue()),F&514&&(T=((ie=I[9])==null?void 0:ie.role)==="admin"&&I[1].model.owned_by==="ollama"&&((ye=I[1].model.ollama)==null?void 0:ye.expires_at)&&new Date(((Xe=I[1].model.ollama)==null?void 0:Xe.expires_at)*1e3)>new Date),T?z?(z.p(I,F),F&514&&k(z,1)):(z=mt(I),z.c(),k(z,1),z.m(p,P)):z&&(fe(),N(z,1,1,()=>{z=null}),ue());const S={};F&2&&(S.model=I[1].model),F&32&&(S.pinModelHandler=I[5]),F&2&&(S.copyLinkHandler=I[14]),F&1048704&&(S.$$scope={dirty:F,ctx:I}),!ae&&F&128&&(ae=!0,S.show=I[7],Ye(()=>ae=!1)),v.$set(S),I[3]===I[1].value?le?F&10&&k(le,1):(le=ht(),le.c(),k(le,1),le.m(p,null)):le&&(fe(),N(le,1,1,()=>{le=null}),ue()),(!q||F&5&&O!==(O="flex group/item w-full text-left font-medium line-clamp-1 select-none items-center rounded-button py-2 pl-3 pr-1.5 text-sm text-gray-700 dark:text-gray-100 outline-hidden transition-all duration-75 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg cursor-pointer data-highlighted:bg-muted "+(I[2]===I[0]?"bg-gray-100 dark:bg-gray-800 group-hover:bg-transparent":"")))&&h(e,"class",O),(!q||F&5&&M!==(M=I[2]===I[0]))&&h(e,"data-arrow-selected",M),(!q||F&2&&y!==(y=I[1].value))&&h(e,"data-value",y)},i(I){q||(k(A),k(a.$$.fragment,I),k(m.$$.fragment,I),k(j),k(w),k(Z),k(z),k(v.$$.fragment,I),k(le),q=!0)},o(I){N(A),N(a.$$.fragment,I),N(m.$$.fragment,I),N(j),N(w),N(Z),N(z),N(v.$$.fragment,I),N(le),q=!1},d(I){I&&d(e),A&&A.d(),Q(a),Q(m),j&&j.d(),~b&&E[b].d(),Z&&Z.d(),z&&z.d(),Q(v),le&&le.d(),te=!1,x()}}}const _t=(o,e)=>o.name.localeCompare(e.name);function ql(o,e,t){let l,n;ge(o,Rt,v=>t(9,n=v));const r=Ke("i18n");ge(o,r,v=>t(8,l=v));let{selectedModelIdx:a=-1}=e,{item:s={}}=e,{index:i=-1}=e,{value:m=""}=e,{unloadModelHandler:c=()=>{}}=e,{pinModelHandler:f=()=>{}}=e,{onClick:_=()=>{}}=e;const b=async v=>{const ae=window.location.origin;await Kt(`${ae}/?model=${encodeURIComponent(v.id)}`)?_e.success(l.t("Copied link to clipboard")):_e.error(l.t("Failed to copy link"))};let w=!1;const D=v=>{v.preventDefault(),v.stopPropagation(),c(s.value)},$=v=>{v.preventDefault(),v.stopPropagation(),t(7,w=!w)},p=()=>{b(s.model)};function T(v){w=v,t(7,w)}const P=()=>{_()};return o.$$set=v=>{"selectedModelIdx"in v&&t(0,a=v.selectedModelIdx),"item"in v&&t(1,s=v.item),"index"in v&&t(2,i=v.index),"value"in v&&t(3,m=v.value),"unloadModelHandler"in v&&t(4,c=v.unloadModelHandler),"pinModelHandler"in v&&t(5,f=v.pinModelHandler),"onClick"in v&&t(6,_=v.onClick)},[a,s,i,m,c,f,_,w,l,n,r,b,D,$,p,T,P]}class Zl extends Te{constructor(e){super(),Ne(this,e,ql,Fl,Ce,{selectedModelIdx:0,item:1,index:2,value:3,unloadModelHandler:4,pinModelHandler:5,onClick:6})}}function pt(o,e,t){const l=o.slice();return l[51]=e[t],l}function gt(o,e,t){const l=o.slice();return l[54]=e[t],l[56]=t,l}function vt(o,e,t){const l=o.slice();return l[57]=e[t],l}function Rl(o){let e;return{c(){e=ne(o[2])},l(t){e=oe(t,o[2])},m(t,l){B(t,e,l)},p(t,l){l[0]&4&&re(e,t[2])},d(t){t&&d(e)}}}function Gl(o){let e=o[16].label+"",t;return{c(){t=ne(e)},l(l){t=oe(l,e)},m(l,n){B(l,t,n)},p(l,n){n[0]&65536&&e!==(e=l[16].label+"")&&re(t,e)},d(l){l&&d(t)}}}function Yl(o){let e,t,l,n,r,a,s;function i(f,_){return f[16]?Gl:Rl}let m=i(o),c=m(o);return l=new al({props:{className:" self-center ml-2 size-3",strokeWidth:"2.5"}}),{c(){e=V("button"),c.c(),t=R(),Y(l.$$.fragment),this.h()},l(f){e=H(f,"BUTTON",{class:!0,type:!0});var _=L(e);c.l(_),t=G(_),K(l.$$.fragment,_),_.forEach(d),this.h()},h(){h(e,"class",n="flex w-full text-left px-0.5 outline-hidden bg-transparent truncate "+o[8]+" justify-between font-medium placeholder-gray-400 focus:outline-hidden"),h(e,"type","button")},m(f,_){B(f,e,_),c.m(e,null),C(e,t),J(l,e,null),r=!0,a||(s=se(e,"mouseenter",o[33]),a=!0)},p(f,_){m===(m=i(f))&&c?c.p(f,_):(c.d(1),c=m(f),c&&(c.c(),c.m(e,t))),(!r||_[0]&256&&n!==(n="flex w-full text-left px-0.5 outline-hidden bg-transparent truncate "+f[8]+" justify-between font-medium placeholder-gray-400 focus:outline-hidden"))&&h(e,"class",n)},i(f){r||(k(l.$$.fragment,f),r=!0)},o(f){N(l.$$.fragment,f),r=!1},d(f){f&&d(e),c.d(),Q(l),a=!1,s()}}}function bt(o){let e,t,l,n,r,a,s;return t=new sl({props:{className:"size-4",strokeWidth:"2.5"}}),{c(){e=V("div"),Y(t.$$.fragment),l=R(),n=V("input"),this.h()},l(i){e=H(i,"DIV",{class:!0});var m=L(e);K(t.$$.fragment,m),l=G(m),n=H(m,"INPUT",{id:!0,class:!0,placeholder:!0,autocomplete:!0}),m.forEach(d),this.h()},h(){h(n,"id","model-search-input"),h(n,"class","w-full text-sm bg-transparent outline-hidden"),h(n,"placeholder",o[4]),h(n,"autocomplete","off"),h(e,"class","flex items-center gap-2.5 px-5 mt-3.5 mb-1.5")},m(i,m){B(i,e,m),J(t,e,null),C(e,l),C(e,n),lt(n,o[10]),r=!0,a||(s=[se(n,"input",o[34]),se(n,"keydown",o[35])],a=!0)},p(i,m){(!r||m[0]&16)&&h(n,"placeholder",i[4]),m[0]&1024&&n.value!==i[10]&&lt(n,i[10])},i(i){r||(k(t.$$.fragment,i),r=!0)},o(i){N(t.$$.fragment,i),r=!1},d(i){i&&d(e),Q(t),a=!1,Je(s)}}}function wt(o){let e,t,l=o[6].find(zt)&&o[6].find(Bt)||o[6].find(Lt)||o[15].length>0,n,r=o[6].find(Ht)&&o[6].find(Ot),a,s=o[6].find(Vt),i,m,c,f=l&&kt(o),_=r&&$t(o),b=s&&yt(o),w=we(o[15]),D=[];for(let $=0;$<w.length;$+=1)D[$]=Mt(vt(o,w,$));return{c(){e=V("div"),t=V("div"),f&&f.c(),n=R(),_&&_.c(),a=R(),b&&b.c(),i=R();for(let $=0;$<D.length;$+=1)D[$].c();this.h()},l($){e=H($,"DIV",{class:!0});var p=L(e);t=H(p,"DIV",{class:!0});var T=L(t);f&&f.l(T),n=G(T),_&&_.l(T),a=G(T),b&&b.l(T),i=G(T);for(let P=0;P<D.length;P+=1)D[P].l(T);T.forEach(d),p.forEach(d),this.h()},h(){h(t,"class","flex gap-1 w-fit text-center text-sm font-medium rounded-full bg-transparent px-1.5 pb-0.5"),h(e,"class","flex w-full bg-white dark:bg-gray-850 overflow-x-auto scrollbar-none")},m($,p){B($,e,p),C(e,t),f&&f.m(t,null),C(t,n),_&&_.m(t,null),C(t,a),b&&b.m(t,null),C(t,i);for(let T=0;T<D.length;T+=1)D[T]&&D[T].m(t,null);o[41](t),m||(c=se(e,"wheel",nn),m=!0)},p($,p){if(p[0]&32832&&(l=$[6].find(zt)&&$[6].find(Bt)||$[6].find(Lt)||$[15].length>0),l?f?f.p($,p):(f=kt($),f.c(),f.m(t,n)):f&&(f.d(1),f=null),p[0]&64&&(r=$[6].find(Ht)&&$[6].find(Ot)),r?_?_.p($,p):(_=$t($),_.c(),_.m(t,a)):_&&(_.d(1),_=null),p[0]&64&&(s=$[6].find(Vt)),s?b?b.p($,p):(b=yt($),b.c(),b.m(t,i)):b&&(b.d(1),b=null),p[0]&38912){w=we($[15]);let T;for(T=0;T<w.length;T+=1){const P=vt($,w,T);D[T]?D[T].p(P,p):(D[T]=Mt(P),D[T].c(),D[T].m(t,null))}for(;T<D.length;T+=1)D[T].d(1);D.length=w.length}},d($){$&&d(e),f&&f.d(),_&&_.d(),b&&b.d(),Fe(D,$),o[41](null),m=!1,c()}}}function kt(o){let e,t=o[22].t("All")+"",l,n,r,a;return{c(){e=V("button"),l=ne(t),this.h()},l(s){e=H(s,"BUTTON",{class:!0});var i=L(e);l=oe(i,t),i.forEach(d),this.h()},h(){h(e,"class",n="min-w-fit outline-none p-1.5 "+(o[11]===""&&o[12]===""?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")},m(s,i){B(s,e,i),C(e,l),r||(a=se(e,"click",o[36]),r=!0)},p(s,i){i[0]&4194304&&t!==(t=s[22].t("All")+"")&&re(l,t),i[0]&6144&&n!==(n="min-w-fit outline-none p-1.5 "+(s[11]===""&&s[12]===""?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")&&h(e,"class",n)},d(s){s&&d(e),r=!1,a()}}}function $t(o){let e,t=o[22].t("Local")+"",l,n,r,a,s=o[22].t("External")+"",i,m,c,f;return{c(){e=V("button"),l=ne(t),r=R(),a=V("button"),i=ne(s),this.h()},l(_){e=H(_,"BUTTON",{class:!0});var b=L(e);l=oe(b,t),b.forEach(d),r=G(_),a=H(_,"BUTTON",{class:!0});var w=L(a);i=oe(w,s),w.forEach(d),this.h()},h(){h(e,"class",n="min-w-fit outline-none p-1.5 "+(o[12]==="local"?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize"),h(a,"class",m="min-w-fit outline-none p-1.5 "+(o[12]==="external"?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")},m(_,b){B(_,e,b),C(e,l),B(_,r,b),B(_,a,b),C(a,i),c||(f=[se(e,"click",o[37]),se(a,"click",o[38])],c=!0)},p(_,b){b[0]&4194304&&t!==(t=_[22].t("Local")+"")&&re(l,t),b[0]&4096&&n!==(n="min-w-fit outline-none p-1.5 "+(_[12]==="local"?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")&&h(e,"class",n),b[0]&4194304&&s!==(s=_[22].t("External")+"")&&re(i,s),b[0]&4096&&m!==(m="min-w-fit outline-none p-1.5 "+(_[12]==="external"?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")&&h(a,"class",m)},d(_){_&&(d(e),d(r),d(a)),c=!1,Je(f)}}}function yt(o){let e,t=o[22].t("Direct")+"",l,n,r,a;return{c(){e=V("button"),l=ne(t),this.h()},l(s){e=H(s,"BUTTON",{class:!0});var i=L(e);l=oe(i,t),i.forEach(d),this.h()},h(){h(e,"class",n="min-w-fit outline-none p-1.5 "+(o[12]==="direct"?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")},m(s,i){B(s,e,i),C(e,l),r||(a=se(e,"click",o[39]),r=!0)},p(s,i){i[0]&4194304&&t!==(t=s[22].t("Direct")+"")&&re(l,t),i[0]&4096&&n!==(n="min-w-fit outline-none p-1.5 "+(s[12]==="direct"?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")&&h(e,"class",n)},d(s){s&&d(e),r=!1,a()}}}function Mt(o){let e,t=o[57]+"",l,n,r,a,s;function i(){return o[40](o[57])}return{c(){e=V("button"),l=ne(t),n=R(),this.h()},l(m){e=H(m,"BUTTON",{class:!0});var c=L(e);l=oe(c,t),n=G(c),c.forEach(d),this.h()},h(){h(e,"class",r="min-w-fit outline-none p-1.5 "+(o[11]===o[57]?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")},m(m,c){B(m,e,c),C(e,l),C(e,n),a||(s=se(e,"click",i),a=!0)},p(m,c){o=m,c[0]&32768&&t!==(t=o[57]+"")&&re(l,t),c[0]&34816&&r!==(r="min-w-fit outline-none p-1.5 "+(o[11]===o[57]?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")&&h(e,"class",r)},d(m){m&&d(e),a=!1,s()}}}function Et(o){let e,t,l=o[22].t("No results found")+"",n;return{c(){e=V("div"),t=V("div"),n=ne(l),this.h()},l(r){e=H(r,"DIV",{class:!0});var a=L(e);t=H(a,"DIV",{class:!0});var s=L(t);n=oe(s,l),s.forEach(d),a.forEach(d),this.h()},h(){h(t,"class","block px-3 py-2 text-sm text-gray-700 dark:text-gray-100"),h(e,"class","")},m(r,a){B(r,e,a),C(e,t),C(t,n)},p(r,a){a[0]&4194304&&l!==(l=r[22].t("No results found")+"")&&re(n,l)},d(r){r&&d(e)}}}function Dt(o){let e,t;function l(){return o[42](o[54],o[56])}return e=new Zl({props:{selectedModelIdx:o[18],item:o[54],index:o[56],value:o[0],pinModelHandler:o[9],unloadModelHandler:o[31],onClick:l}}),{c(){Y(e.$$.fragment)},l(n){K(e.$$.fragment,n)},m(n,r){J(e,n,r),t=!0},p(n,r){o=n;const a={};r[0]&262144&&(a.selectedModelIdx=o[18]),r[0]&524288&&(a.item=o[54]),r[0]&1&&(a.value=o[0]),r[0]&512&&(a.pinModelHandler=o[9]),r[0]&802817&&(a.onClick=l),e.$set(a)},i(n){t||(k(e.$$.fragment,n),t=!0)},o(n){N(e.$$.fragment,n),t=!1},d(n){Q(e,n)}}}function Ct(o){let e,t;return e=new pe({props:{content:o[22].t('Pull "{{searchValue}}" from Ollama.com',{searchValue:o[10]}),placement:"top-start",$$slots:{default:[Kl]},$$scope:{ctx:o}}}),{c(){Y(e.$$.fragment)},l(l){K(e.$$.fragment,l)},m(l,n){J(e,l,n),t=!0},p(l,n){const r={};n[0]&4195328&&(r.content=l[22].t('Pull "{{searchValue}}" from Ollama.com',{searchValue:l[10]})),n[0]&4195328|n[1]&131072&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(k(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){Q(e,l)}}}function Kl(o){let e,t,l=o[22].t('Pull "{{searchValue}}" from Ollama.com',{searchValue:o[10]})+"",n,r,a;return{c(){e=V("button"),t=V("div"),n=ne(l),this.h()},l(s){e=H(s,"BUTTON",{class:!0});var i=L(e);t=H(i,"DIV",{class:!0});var m=L(t);n=oe(m,l),m.forEach(d),i.forEach(d),this.h()},h(){h(t,"class","truncate"),h(e,"class","flex w-full font-medium line-clamp-1 select-none items-center rounded-button py-2 pl-3 pr-1.5 text-sm text-gray-700 dark:text-gray-100 outline-hidden transition-all duration-75 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg cursor-pointer data-highlighted:bg-muted")},m(s,i){B(s,e,i),C(e,t),C(t,n),r||(a=se(e,"click",o[43]),r=!0)},p(s,i){i[0]&4195328&&l!==(l=s[22].t('Pull "{{searchValue}}" from Ollama.com',{searchValue:s[10]})+"")&&re(n,l)},d(s){s&&d(e),r=!1,a()}}}function Tt(o){let e,t=o[23][o[51]].digest+"",l;return{c(){e=V("div"),l=ne(t),this.h()},l(n){e=H(n,"DIV",{class:!0});var r=L(e);l=oe(r,t),r.forEach(d),this.h()},h(){h(e,"class","-mt-1 h-fit text-[0.7rem] dark:text-gray-500 line-clamp-1")},m(n,r){B(n,e,r),C(e,l)},p(n,r){r[0]&8388608&&t!==(t=n[23][n[51]].digest+"")&&re(l,t)},d(n){n&&d(e)}}}function Jl(o){let e,t='<svg class="w-4 h-4 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18 17.94 6M18 18 6.06 6"></path></svg>',l,n;function r(){return o[44](o[51])}return{c(){e=V("button"),e.innerHTML=t,this.h()},l(a){e=H(a,"BUTTON",{class:!0,"data-svelte-h":!0}),Ee(e)!=="svelte-19bzgft"&&(e.innerHTML=t),this.h()},h(){h(e,"class","text-gray-800 dark:text-gray-100")},m(a,s){B(a,e,s),l||(n=se(e,"click",r),l=!0)},p(a,s){o=a},d(a){a&&d(e),l=!1,n()}}}function Nt(o){let e,t,l,n=`<svg class="size-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
											transform-origin: center;
											animation: spinner_AtaB 0.75s infinite linear;
										}
										@keyframes spinner_AtaB {
											100% {
												transform: rotate(360deg);
											}
										}
									</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`,r,a,s,i,m,c=o[51]+"",f,_,b,w,D="pullProgress"in o[23][o[51]]?`(${o[23][o[51]].pullProgress}%)`:"",$,p,T,P,v,ae,W,O="digest"in o[23][o[51]]&&o[23][o[51]].digest&&Tt(o);return v=new pe({props:{content:o[22].t("Cancel"),$$slots:{default:[Jl]},$$scope:{ctx:o}}}),{c(){e=V("div"),t=V("div"),l=V("div"),l.innerHTML=n,r=R(),a=V("div"),s=V("div"),i=V("div"),m=ne('Downloading "'),f=ne(c),_=ne('"'),b=R(),w=V("div"),$=ne(D),p=R(),O&&O.c(),T=R(),P=V("div"),Y(v.$$.fragment),ae=R(),this.h()},l(M){e=H(M,"DIV",{class:!0});var y=L(e);t=H(y,"DIV",{class:!0});var q=L(t);l=H(q,"DIV",{class:!0,"data-svelte-h":!0}),Ee(l)!=="svelte-102rp4j"&&(l.innerHTML=n),r=G(q),a=H(q,"DIV",{class:!0});var te=L(a);s=H(te,"DIV",{class:!0});var x=L(s);i=H(x,"DIV",{class:!0});var A=L(i);m=oe(A,'Downloading "'),f=oe(A,c),_=oe(A,'"'),A.forEach(d),b=G(x),w=H(x,"DIV",{class:!0});var j=L(w);$=oe(j,D),j.forEach(d),x.forEach(d),p=G(te),O&&O.l(te),te.forEach(d),q.forEach(d),T=G(y),P=H(y,"DIV",{class:!0});var g=L(P);K(v.$$.fragment,g),g.forEach(d),ae=G(y),y.forEach(d),this.h()},h(){h(l,"class","-ml-2 mr-2.5 translate-y-0.5"),h(i,"class","line-clamp-1"),h(w,"class","shrink-0"),h(s,"class","flex gap-1"),h(a,"class","flex flex-col self-start"),h(t,"class","flex"),h(P,"class","mr-2 ml-1 translate-y-0.5"),h(e,"class","flex w-full justify-between font-medium select-none rounded-button py-2 pl-3 pr-1.5 text-sm text-gray-700 dark:text-gray-100 outline-hidden transition-all duration-75 rounded-lg cursor-pointer data-highlighted:bg-muted")},m(M,y){B(M,e,y),C(e,t),C(t,l),C(t,r),C(t,a),C(a,s),C(s,i),C(i,m),C(i,f),C(i,_),C(s,b),C(s,w),C(w,$),C(a,p),O&&O.m(a,null),C(e,T),C(e,P),J(v,P,null),C(e,ae),W=!0},p(M,y){(!W||y[0]&8388608)&&c!==(c=M[51]+"")&&re(f,c),(!W||y[0]&8388608)&&D!==(D="pullProgress"in M[23][M[51]]?`(${M[23][M[51]].pullProgress}%)`:"")&&re($,D),"digest"in M[23][M[51]]&&M[23][M[51]].digest?O?O.p(M,y):(O=Tt(M),O.c(),O.m(a,null)):O&&(O.d(1),O=null);const q={};y[0]&4194304&&(q.content=M[22].t("Cancel")),y[0]&8388608|y[1]&131072&&(q.$$scope={dirty:y,ctx:M}),v.$set(q)},i(M){W||(k(v.$$.fragment,M),W=!0)},o(M){N(v.$$.fragment,M),W=!1},d(M){M&&d(e),O&&O.d(),Q(v)}}}function Ql(o){let e;return{c(){e=V("div"),this.h()},l(t){e=H(t,"DIV",{class:!0}),L(e).forEach(d),this.h()},h(){h(e,"class","mb-3")},m(t,l){B(t,e,l)},p:me,i:me,o:me,d(t){t&&d(e)}}}function Xl(o){let e,t,l,n,r,a=o[22].t("Temporary Chat")+"",s,i,m,c,f,_,b;return n=new pl({props:{className:"size-4",strokeWidth:"2.5"}}),c=new il({props:{state:o[26]}}),{c(){e=V("div"),t=V("button"),l=V("div"),Y(n.$$.fragment),r=R(),s=ne(a),i=R(),m=V("div"),Y(c.$$.fragment),this.h()},l(w){e=H(w,"DIV",{class:!0});var D=L(e);t=H(D,"BUTTON",{class:!0});var $=L(t);l=H($,"DIV",{class:!0});var p=L(l);K(n.$$.fragment,p),r=G(p),s=oe(p,a),p.forEach(d),i=G($),m=H($,"DIV",{});var T=L(m);K(c.$$.fragment,T),T.forEach(d),$.forEach(d),D.forEach(d),this.h()},h(){h(l,"class","flex gap-2.5 items-center"),h(t,"class","flex justify-between w-full font-medium line-clamp-1 select-none items-center rounded-button py-2 px-3 text-sm text-gray-700 dark:text-gray-100 outline-hidden transition-all duration-75 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg cursor-pointer data-highlighted:bg-muted"),h(e,"class","flex items-center mx-2 mt-1 mb-2")},m(w,D){B(w,e,D),C(e,t),C(t,l),J(n,l,null),C(l,r),C(l,s),C(t,i),C(t,m),J(c,m,null),f=!0,_||(b=se(t,"click",o[45]),_=!0)},p(w,D){(!f||D[0]&4194304)&&a!==(a=w[22].t("Temporary Chat")+"")&&re(s,a);const $={};D[0]&67108864&&($.state=w[26]),c.$set($)},i(w){f||(k(n.$$.fragment,w),k(c.$$.fragment,w),f=!0)},o(w){N(n.$$.fragment,w),N(c.$$.fragment,w),f=!1},d(w){w&&d(e),Q(n),Q(c),_=!1,b()}}}function xl(o){var j;let e,t,l=o[15]&&o[6].filter(It).length>0,n,r,a,s=!(o[10].trim()in o[23])&&o[10]&&o[17]&&((j=o[25])==null?void 0:j.role)==="admin",i,m,c,f,_,b,w,D,$,p=o[3]&&bt(o),T=l&&wt(o),P=we(o[19]),v=[];for(let g=0;g<P.length;g+=1)v[g]=Dt(gt(o,P,g));const ae=g=>N(v[g],1,1,()=>{v[g]=null});let W=null;P.length||(W=Et(o));let O=s&&Ct(o),M=we(Object.keys(o[23])),y=[];for(let g=0;g<M.length;g+=1)y[g]=Nt(pt(o,M,g));const q=g=>N(y[g],1,1,()=>{y[g]=null}),te=[Xl,Ql],x=[];function A(g,E){return g[5]?0:1}return c=A(o),f=x[c]=te[c](o),{c(){p&&p.c(),e=R(),t=V("div"),T&&T.c(),n=R(),r=V("div");for(let g=0;g<v.length;g+=1)v[g].c();W&&W.c(),a=R(),O&&O.c(),i=R();for(let g=0;g<y.length;g+=1)y[g].c();m=R(),f.c(),_=R(),b=V("div"),w=R(),D=V("div"),this.h()},l(g){p&&p.l(g),e=G(g),t=H(g,"DIV",{class:!0});var E=L(t);T&&T.l(E),E.forEach(d),n=G(g),r=H(g,"DIV",{class:!0});var ee=L(r);for(let Z=0;Z<v.length;Z+=1)v[Z].l(ee);W&&W.l(ee),a=G(ee),O&&O.l(ee),i=G(ee);for(let Z=0;Z<y.length;Z+=1)y[Z].l(ee);ee.forEach(d),m=G(g),f.l(g),_=G(g),b=H(g,"DIV",{class:!0}),L(b).forEach(d),w=G(g),D=H(g,"DIV",{class:!0}),L(D).forEach(d),this.h()},h(){h(t,"class","px-3"),h(r,"class","px-3 max-h-64 overflow-y-auto group relative"),h(b,"class","hidden w-[42rem]"),h(D,"class","hidden w-[32rem]")},m(g,E){p&&p.m(g,E),B(g,e,E),B(g,t,E),T&&T.m(t,null),B(g,n,E),B(g,r,E);for(let ee=0;ee<v.length;ee+=1)v[ee]&&v[ee].m(r,null);W&&W.m(r,null),C(r,a),O&&O.m(r,null),C(r,i);for(let ee=0;ee<y.length;ee+=1)y[ee]&&y[ee].m(r,null);B(g,m,E),x[c].m(g,E),B(g,_,E),B(g,b,E),B(g,w,E),B(g,D,E),$=!0},p(g,E){var Z;if(g[3]?p?(p.p(g,E),E[0]&8&&k(p,1)):(p=bt(g),p.c(),k(p,1),p.m(e.parentNode,e)):p&&(fe(),N(p,1,1,()=>{p=null}),ue()),E[0]&32832&&(l=g[15]&&g[6].filter(It).length>0),l?T?T.p(g,E):(T=wt(g),T.c(),T.m(t,null)):T&&(T.d(1),T=null),E[0]&4997633|E[1]&1){P=we(g[19]);let z;for(z=0;z<P.length;z+=1){const ve=gt(g,P,z);v[z]?(v[z].p(ve,E),k(v[z],1)):(v[z]=Dt(ve),v[z].c(),k(v[z],1),v[z].m(r,a))}for(fe(),z=P.length;z<v.length;z+=1)ae(z);ue(),!P.length&&W?W.p(g,E):P.length?W&&(W.d(1),W=null):(W=Et(g),W.c(),W.m(r,a))}if(E[0]&42075136&&(s=!(g[10].trim()in g[23])&&g[10]&&g[17]&&((Z=g[25])==null?void 0:Z.role)==="admin"),s?O?(O.p(g,E),E[0]&42075136&&k(O,1)):(O=Ct(g),O.c(),k(O,1),O.m(r,i)):O&&(fe(),N(O,1,1,()=>{O=null}),ue()),E[0]&1086324736){M=we(Object.keys(g[23]));let z;for(z=0;z<M.length;z+=1){const ve=pt(g,M,z);y[z]?(y[z].p(ve,E),k(y[z],1)):(y[z]=Nt(ve),y[z].c(),k(y[z],1),y[z].m(r,null))}for(fe(),z=M.length;z<y.length;z+=1)q(z);ue()}let ee=c;c=A(g),c===ee?x[c].p(g,E):(fe(),N(x[ee],1,1,()=>{x[ee]=null}),ue(),f=x[c],f?f.p(g,E):(f=x[c]=te[c](g),f.c()),k(f,1),f.m(_.parentNode,_))},i(g){if(!$){k(p);for(let E=0;E<P.length;E+=1)k(v[E]);k(O);for(let E=0;E<M.length;E+=1)k(y[E]);k(f),$=!0}},o(g){N(p),v=v.filter(Boolean);for(let E=0;E<v.length;E+=1)N(v[E]);N(O),y=y.filter(Boolean);for(let E=0;E<y.length;E+=1)N(y[E]);N(f),$=!1},d(g){g&&(d(e),d(t),d(n),d(r),d(m),d(_),d(b),d(w),d(D)),p&&p.d(g),T&&T.d(),Fe(v,g),W&&W.d(),O&&O.d(),Fe(y,g),x[c].d(g)}}}function en(o){let e;const t=o[32].default,l=St(t,o,o[48],null),n=l||xl(o);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,a){n&&n.m(r,a),e=!0},p(r,a){l?l.p&&(!e||a[1]&131072)&&Pt(l,t,r,r[48],e?At(t,r[48],a,null):jt(r[48]),null):n&&n.p&&(!e||a[0]&114228857)&&n.p(r,e?a:[-1,-1])},i(r){e||(k(n,r),e=!0)},o(r){N(n,r),e=!1},d(r){n&&n.d(r)}}}function tn(o){let e,t,l,n;return e=new Wt({props:{class:"relative w-full font-primary","aria-label":o[2],id:"model-selector-"+o[1]+"-button",$$slots:{default:[Yl]},$$scope:{ctx:o}}}),l=new Ft({props:{class:" z-40 "+(o[24]?"w-full":`${o[7]}`)+" max-w-[calc(100vw-1rem)] justify-start rounded-xl  bg-white dark:bg-gray-850 dark:text-white shadow-lg  outline-hidden",transition:qt,side:o[24]?"bottom":"bottom-start",sideOffset:3,$$slots:{default:[en]},$$scope:{ctx:o}}}),{c(){Y(e.$$.fragment),t=R(),Y(l.$$.fragment)},l(r){K(e.$$.fragment,r),t=G(r),K(l.$$.fragment,r)},m(r,a){J(e,r,a),B(r,t,a),J(l,r,a),n=!0},p(r,a){const s={};a[0]&4&&(s["aria-label"]=r[2]),a[0]&2&&(s.id="model-selector-"+r[1]+"-button"),a[0]&3211524|a[1]&131072&&(s.$$scope={dirty:a,ctx:r}),e.$set(s);const i={};a[0]&16777344&&(i.class=" z-40 "+(r[24]?"w-full":`${r[7]}`)+" max-w-[calc(100vw-1rem)] justify-start rounded-xl  bg-white dark:bg-gray-850 dark:text-white shadow-lg  outline-hidden"),a[0]&16777216&&(i.side=r[24]?"bottom":"bottom-start"),a[0]&114228857|a[1]&131072&&(i.$$scope={dirty:a,ctx:r}),l.$set(i)},i(r){n||(k(e.$$.fragment,r),k(l.$$.fragment,r),n=!0)},o(r){N(e.$$.fragment,r),N(l.$$.fragment,r),n=!1},d(r){r&&d(t),Q(e,r),Q(l,r)}}}function ln(o){let e,t,l;function n(a){o[47](a)}let r={onOpenChange:o[46],closeFocus:!1,$$slots:{default:[tn]},$$scope:{ctx:o}};return o[14]!==void 0&&(r.open=o[14]),e=new Ut({props:r}),qe.push(()=>Qe(e,"open",n)),{c(){Y(e.$$.fragment)},l(a){K(e.$$.fragment,a)},m(a,s){J(e,a,s),l=!0},p(a,s){const i={};s[0]&1024&&(i.onOpenChange=a[46]),s[0]&134217727|s[1]&131072&&(i.$$scope={dirty:s,ctx:a}),!t&&s[0]&16384&&(t=!0,i.open=a[14],Ye(()=>t=!1)),e.$set(i)},i(a){l||(k(e.$$.fragment,a),l=!0)},o(a){N(e.$$.fragment,a),l=!1},d(a){Q(e,a)}}}const It=o=>{var e,t,l;return!(((l=(t=(e=o.model)==null?void 0:e.info)==null?void 0:t.meta)==null?void 0:l.hidden)??!1)},Vt=o=>{var e;return(e=o.model)==null?void 0:e.direct},Ht=o=>{var e;return((e=o.model)==null?void 0:e.connection_type)==="local"},Ot=o=>{var e;return((e=o.model)==null?void 0:e.connection_type)==="external"},zt=o=>{var e;return((e=o.model)==null?void 0:e.connection_type)==="local"},Bt=o=>{var e;return((e=o.model)==null?void 0:e.connection_type)==="external"},Lt=o=>{var e;return(e=o.model)==null?void 0:e.direct},nn=o=>{o.deltaY!==0&&(o.preventDefault(),o.currentTarget.scrollLeft+=o.deltaY)};function on(o,e,t){let l,n,r,a,s,i,m,c;ge(o,Zt,u=>t(20,n=u)),ge(o,ol,u=>t(21,r=u)),ge(o,Me,u=>t(23,s=u)),ge(o,rl,u=>t(24,i=u)),ge(o,Rt,u=>t(25,m=u)),ge(o,rt,u=>t(26,c=u));let{$$slots:f={},$$scope:_}=e;Ge.extend(Xt);const b=Ke("i18n");ge(o,b,u=>t(22,a=u)),Gt();let{id:w=""}=e,{value:D=""}=e,{placeholder:$="Select a model"}=e,{searchEnabled:p=!0}=e,{searchPlaceholder:T=a.t("Search a model")}=e,{showTemporaryChatControl:P=!1}=e,{items:v=[]}=e,{className:ae="w-[32rem]"}=e,{triggerClassName:W="text-lg"}=e,{pinModelHandler:O=()=>{}}=e,M,y=!1,q=[],te="",x="",A="",j="",g=null,E=0;const ee=new Qt(v.map(u=>{var U,X,be,de,ke;return{...u,modelName:(U=u.model)==null?void 0:U.name,tags:(((X=u.model)==null?void 0:X.tags)??[]).map($e=>$e.name).join(" "),desc:(ke=(de=(be=u.model)==null?void 0:be.info)==null?void 0:de.meta)==null?void 0:ke.description}}),{keys:["value","tags","modelName"],threshold:.4}),Z=async()=>{await tt();const u=l.findIndex(U=>U.value===D);u>=0?t(18,E=u):t(18,E=0),await tt();const S=document.querySelector('[data-arrow-selected="true"]');S==null||S.scrollIntoView({block:"center",inline:"nearest",behavior:"instant"})},z=async()=>{var X;const u=x.trim().replace(/^ollama\s+(run|pull)\s+/,"");if(console.log(s),s[u]){_e.error(a.t("Model '{{modelTag}}' is already in queue for downloading.",{modelTag:u}));return}if(Object.keys(s).length===3){_e.error(a.t("Maximum of 3 models can be downloaded simultaneously. Please try again later."));return}const[S,U]=await tl(localStorage.token,u,"0").catch(be=>(_e.error(`${be}`),null));if(S){const be=S.body.pipeThrough(new TextDecoderStream).pipeThrough(Jt(`
`)).getReader();for(Me.set({...s,[u]:{...s[u],abortController:U,reader:be,done:!1}});;)try{const{value:de,done:ke}=await be.read();if(ke)break;let $e=de.split(`
`);for(const De of $e)if(De!==""){let ie=JSON.parse(De);if(console.log(ie),ie.error)throw ie.error;if(ie.detail)throw ie.detail;if(ie.status)if(ie.digest){let ye=0;ie.completed?ye=Math.round(ie.completed/ie.total*1e3)/10:ye=100,Me.set({...s,[u]:{...s[u],pullProgress:ye,digest:ie.digest}})}else _e.success(ie.status),Me.set({...s,[u]:{...s[u],done:ie.status==="success"}})}}catch(de){console.log(de),typeof de!="string"&&(de=de.message),_e.error(`${de}`);break}s[u].done?(_e.success(a.t("Model '{{modelName}}' has been successfully downloaded.",{modelName:u})),Ze.set(await Re(localStorage.token,((X=r==null?void 0:r.features)==null?void 0:X.enable_direct_connections)&&((n==null?void 0:n.directConnections)??null)))):_e.error(a.t("Download canceled")),delete s[u],Me.set({...s})}};Yt(async()=>{t(17,g=await el(localStorage.token).catch(u=>!1)),v&&(t(15,q=v.filter(u=>{var S,U,X;return!(((X=(U=(S=u.model)==null?void 0:S.info)==null?void 0:U.meta)==null?void 0:X.hidden)??!1)}).flatMap(u=>{var S;return((S=u.model)==null?void 0:S.tags)??[]}).map(u=>u.name)),t(15,q=Array.from(new Set(q)).sort((u,S)=>u.localeCompare(S))))});const ve=async u=>{const{reader:S,abortController:U}=s[u];U&&U.abort(),S&&(await S.cancel(),delete s[u],Me.set({...s}),await ll(localStorage.token,u),_e.success(`${u} download has been canceled`))},Ie=async u=>{var U;await nl(localStorage.token,u).catch(X=>{_e.error(a.t("Error unloading model: {{error}}",{error:X}))})&&(_e.success(a.t("Model unloaded successfully")),Ze.set(await Re(localStorage.token,((U=r==null?void 0:r.features)==null?void 0:U.enable_direct_connections)&&((n==null?void 0:n.directConnections)??null))))},le=async()=>{var u;Ze.set(await Re(localStorage.token,((u=r==null?void 0:r.features)==null?void 0:u.enable_direct_connections)&&((n==null?void 0:n.directConnections)??null)))};function Ve(){x=this.value,t(10,x)}const He=u=>{if(u.code==="Enter"&&l.length>0){t(0,D=l[E].value),t(14,y=!1);return}else u.code==="ArrowDown"?t(18,E=Math.min(E+1,l.length-1)):u.code==="ArrowUp"?t(18,E=Math.max(E-1,0)):t(18,E=0);const S=document.querySelector('[data-arrow-selected="true"]');S==null||S.scrollIntoView({block:"center",inline:"nearest",behavior:"instant"})},Oe=()=>{t(12,j=""),t(11,A="")},ze=()=>{t(11,A=""),t(12,j="local")},Be=()=>{t(11,A=""),t(12,j="external")},Le=()=>{t(11,A=""),t(12,j="direct")},Se=u=>{t(12,j=""),t(11,A=u)};function Pe(u){qe[u?"unshift":"push"](()=>{M=u,t(13,M)})}const je=(u,S)=>{t(0,D=u.value),t(18,E=S),t(14,y=!1)},Ae=()=>{z()},I=u=>{ve(u)},F=async()=>{rt.set(!c),await xt("/");const u=document.getElementById("new-chat-button");setTimeout(()=>{u==null||u.click()},0),c?history.replaceState(null,"","?temporary-chat=true"):history.replaceState(null,"",location.pathname),t(14,y=!1)},ce=async()=>{t(10,x=""),window.setTimeout(()=>{var u;return(u=document.getElementById("model-search-input"))==null?void 0:u.focus()},0),Z()};function he(u){y=u,t(14,y)}return o.$$set=u=>{"id"in u&&t(1,w=u.id),"value"in u&&t(0,D=u.value),"placeholder"in u&&t(2,$=u.placeholder),"searchEnabled"in u&&t(3,p=u.searchEnabled),"searchPlaceholder"in u&&t(4,T=u.searchPlaceholder),"showTemporaryChatControl"in u&&t(5,P=u.showTemporaryChatControl),"items"in u&&t(6,v=u.items),"className"in u&&t(7,ae=u.className),"triggerClassName"in u&&t(8,W=u.triggerClassName),"pinModelHandler"in u&&t(9,O=u.pinModelHandler),"$$scope"in u&&t(48,_=u.$$scope)},o.$$.update=()=>{o.$$.dirty[0]&65&&t(16,te=v.find(u=>u.value===D)??""),o.$$.dirty[0]&7232&&t(19,l=(x?ee.search(x).map(u=>u.item).filter(u=>{var S;return A===""?!0:(((S=u.model)==null?void 0:S.tags)??[]).map(U=>U.name).includes(A)}).filter(u=>{var S,U,X;if(j==="")return!0;if(j==="local")return((S=u.model)==null?void 0:S.connection_type)==="local";if(j==="external")return((U=u.model)==null?void 0:U.connection_type)==="external";if(j==="direct")return(X=u.model)==null?void 0:X.direct}):v.filter(u=>{var S;return A===""?!0:(((S=u.model)==null?void 0:S.tags)??[]).map(U=>U.name).includes(A)}).filter(u=>{var S,U,X;if(j==="")return!0;if(j==="local")return((S=u.model)==null?void 0:S.connection_type)==="local";if(j==="external")return((U=u.model)==null?void 0:U.connection_type)==="external";if(j==="direct")return(X=u.model)==null?void 0:X.direct})).filter(u=>{var S,U,X;return!(((X=(U=(S=u.model)==null?void 0:S.info)==null?void 0:U.meta)==null?void 0:X.hidden)??!1)})),o.$$.dirty[0]&6144&&Z()},[D,w,$,p,T,P,v,ae,W,O,x,A,j,M,y,q,te,g,E,l,n,r,a,s,i,m,c,b,Z,z,ve,Ie,f,le,Ve,He,Oe,ze,Be,Le,Se,Pe,je,Ae,I,F,ce,he,_]}class In extends Te{constructor(e){super(),Ne(this,e,on,ln,Ce,{id:1,value:0,placeholder:2,searchEnabled:3,searchPlaceholder:4,showTemporaryChatControl:5,items:6,className:7,triggerClassName:8,pinModelHandler:9},null,[-1,-1])}}export{In as S};
//# sourceMappingURL=DB60wKrn.js.map
