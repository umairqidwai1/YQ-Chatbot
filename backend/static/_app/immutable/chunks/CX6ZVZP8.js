import{e as l}from"./Cx1AvSPh.js";import{h as p}from"./BQs868cI.js";import{s as w,r as y,e as m,c as j,a as $,d as h,i as _,v as g,w as T,x as v,W as U,q as A,Z as B,z as S}from"./Bk--KVgx.js";import{S as b,i as E,t as I,a as k}from"./CoU9NT7-.js";const N=async o=>{let r=null;const e=await fetch(`${l}/users/default/permissions`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`}}).then(async n=>{if(!n.ok)throw await n.json();return n.json()}).catch(n=>(console.error(n),r=n.detail,null));if(r)throw r;return e},q=async(o,r)=>{let e=null;const n=await fetch(`${l}/users/default/permissions`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`},body:JSON.stringify({...r})}).then(async t=>{if(!t.ok)throw await t.json();return t.json()}).catch(t=>(console.error(t),e=t.detail,null));if(e)throw e;return n},M=async(o,r,e,n,t=1)=>{let a=null,s=null,c=new URLSearchParams;if(c.set("page",`${t}`),r&&c.set("query",r),e&&c.set("order_by",e),n&&c.set("direction",n),s=await fetch(`${l}/users/?${c.toString()}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`}}).then(async i=>{if(!i.ok)throw await i.json();return i.json()}).catch(i=>(console.error(i),a=i.detail,null)),a)throw a;return s},R=async o=>{let r=null,e=null;if(e=await fetch(`${l}/users/all`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`}}).then(async n=>{if(!n.ok)throw await n.json();return n.json()}).catch(n=>(console.error(n),r=n.detail,null)),r)throw r;return e},W=async o=>{let r=null;const e=await fetch(`${l}/users/user/settings`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`}}).then(async n=>{if(!n.ok)throw await n.json();return n.json()}).catch(n=>(console.error(n),r=n.detail,null));if(r)throw r;return e},F=async(o,r)=>{let e=null;const n=await fetch(`${l}/users/user/settings/update`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`},body:JSON.stringify({...r})}).then(async t=>{if(!t.ok)throw await t.json();return t.json()}).catch(t=>(console.error(t),e=t.detail,null));if(e)throw e;return n},V=async(o,r)=>{let e=null;const n=await fetch(`${l}/users/${r}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`}}).then(async t=>{if(!t.ok)throw await t.json();return t.json()}).catch(t=>(console.error(t),e=t.detail,null));if(e)throw e;return n},z=async(o,r)=>{let e=null;const n=await fetch(`${l}/users/user/info/update`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`},body:JSON.stringify({...r})}).then(async t=>{if(!t.ok)throw await t.json();return t.json()}).catch(t=>(console.error(t),e=t.detail,null));if(e)throw e;return n},Z=async o=>{const r=await p().catch(e=>(console.error(e),null));return r?(await z(o,{location:r}),r):(console.info("Failed to get user location"),null)},H=async(o,r)=>{let e=null;const n=await fetch(`${l}/users/${r}/active`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`}}).then(async t=>{if(!t.ok)throw await t.json();return t.json()}).catch(t=>(console.error(t),e=t.detail,null));if(e)throw e;return n},K=async(o,r)=>{let e=null;const n=await fetch(`${l}/users/${r}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`}}).then(async t=>{if(!t.ok)throw await t.json();return t.json()}).catch(t=>(console.error(t),e=t.detail,null));if(e)throw e;return n},Q=async(o,r,e)=>{let n=null;const t=await fetch(`${l}/users/${r}/update`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`},body:JSON.stringify({profile_image_url:e.profile_image_url,role:e.role,email:e.email,name:e.name,password:e.password!==""?e.password:void 0})}).then(async a=>{if(!a.ok)throw await a.json();return a.json()}).catch(a=>(console.error(a),n=a.detail,null));if(n)throw n;return t};function C(o){let r,e;const n=o[2].default,t=y(n,o,o[1],null);return{c(){r=m("div"),t&&t.c()},l(a){r=j(a,"DIV",{});var s=$(r);t&&t.l(s),s.forEach(h)},m(a,s){_(a,r,s),t&&t.m(r,null),o[3](r),e=!0},p(a,[s]){t&&t.p&&(!e||s&2)&&g(t,n,a,a[1],e?v(n,a[1],s,null):T(a[1]),null)},i(a){e||(I(t,a),e=!0)},o(a){k(t,a),e=!1},d(a){a&&h(r),t&&t.d(a),o[3](null)}}}function P(o,r,e){let{$$slots:n={},$$scope:t}=r;const a=U();let s,c,i;A(()=>{c=new IntersectionObserver((u,O)=>{u.forEach(f=>{f.isIntersecting?i=setInterval(()=>{a("visible")},100):clearInterval(i)})},{root:null,rootMargin:"0px",threshold:.1}),c.observe(s)}),B(()=>{c&&c.disconnect(),i&&clearInterval(i)});function d(u){S[u?"unshift":"push"](()=>{s=u,e(0,s)})}return o.$$set=u=>{"$$scope"in u&&e(1,t=u.$$scope)},[s,t,n,d]}class X extends b{constructor(r){super(),E(this,r,P,C,w,{})}}export{X as L,V as a,H as b,M as c,K as d,R as e,N as f,W as g,q as h,z as i,F as j,Z as k,Q as u};
//# sourceMappingURL=CX6ZVZP8.js.map
