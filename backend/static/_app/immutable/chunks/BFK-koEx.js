const Se=Symbol.for("yaml.alias"),Re=Symbol.for("yaml.document"),D=Symbol.for("yaml.map"),je=Symbol.for("yaml.pair"),Oe=Symbol.for("yaml.scalar"),Z=Symbol.for("yaml.seq"),T=Symbol.for("yaml.node.type"),Y=n=>!!n&&typeof n=="object"&&n[T]===Se,oe=n=>!!n&&typeof n=="object"&&n[T]===Re,fe=n=>!!n&&typeof n=="object"&&n[T]===D,E=n=>!!n&&typeof n=="object"&&n[T]===je,N=n=>!!n&&typeof n=="object"&&n[T]===Oe,ae=n=>!!n&&typeof n=="object"&&n[T]===Z;function A(n){if(n&&typeof n=="object")switch(n[T]){case D:case Z:return!0}return!1}function $(n){if(n&&typeof n=="object")switch(n[T]){case Se:case D:case Oe:case Z:return!0}return!1}const Ye=n=>(N(n)||A(n))&&!!n.anchor,K=Symbol("break visit"),We=Symbol("skip children"),G=Symbol("remove node");function V(n,e){const t=ze(e);oe(n)?U(null,n.contents,t,Object.freeze([n]))===G&&(n.contents=null):U(null,n,t,Object.freeze([]))}V.BREAK=K;V.SKIP=We;V.REMOVE=G;function U(n,e,t,s){const i=Ge(n,e,t,s);if($(i)||E(i))return He(n,s,i),U(n,i,t,s);if(typeof i!="symbol"){if(A(e)){s=Object.freeze(s.concat(e));for(let r=0;r<e.items.length;++r){const l=U(r,e.items[r],t,s);if(typeof l=="number")r=l-1;else{if(l===K)return K;l===G&&(e.items.splice(r,1),r-=1)}}}else if(E(e)){s=Object.freeze(s.concat(e));const r=U("key",e.key,t,s);if(r===K)return K;r===G&&(e.key=null);const l=U("value",e.value,t,s);if(l===K)return K;l===G&&(e.value=null)}}return i}function ze(n){return typeof n=="object"&&(n.Collection||n.Node||n.Value)?Object.assign({Alias:n.Node,Map:n.Node,Scalar:n.Node,Seq:n.Node},n.Value&&{Map:n.Value,Scalar:n.Value,Seq:n.Value},n.Collection&&{Map:n.Collection,Seq:n.Collection},n):n}function Ge(n,e,t,s){var i,r,l,o,f;if(typeof t=="function")return t(n,e,s);if(fe(e))return(i=t.Map)==null?void 0:i.call(t,n,e,s);if(ae(e))return(r=t.Seq)==null?void 0:r.call(t,n,e,s);if(E(e))return(l=t.Pair)==null?void 0:l.call(t,n,e,s);if(N(e))return(o=t.Scalar)==null?void 0:o.call(t,n,e,s);if(Y(e))return(f=t.Alias)==null?void 0:f.call(t,n,e,s)}function He(n,e,t){const s=e[e.length-1];if(A(s))s.items[n]=t;else if(E(s))n==="key"?s.key=t:s.value=t;else if(oe(s))s.contents=t;else{const i=Y(s)?"alias":"scalar";throw new Error(`Cannot replace node with ${i} parent`)}}const Xe={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},Ze=n=>n.replace(/[!,[\]{}]/g,e=>Xe[e]);class j{constructor(e,t){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},j.defaultYaml,e),this.tags=Object.assign({},j.defaultTags,t)}clone(){const e=new j(this.yaml,this.tags);return e.docStart=this.docStart,e}atDocument(){const e=new j(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:j.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},j.defaultTags);break}return e}add(e,t){this.atNextDocument&&(this.yaml={explicit:j.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},j.defaultTags),this.atNextDocument=!1);const s=e.trim().split(/[ \t]+/),i=s.shift();switch(i){case"%TAG":{if(s.length!==2&&(t(0,"%TAG directive should contain exactly two parts"),s.length<2))return!1;const[r,l]=s;return this.tags[r]=l,!0}case"%YAML":{if(this.yaml.explicit=!0,s.length!==1)return t(0,"%YAML directive should contain exactly one part"),!1;const[r]=s;if(r==="1.1"||r==="1.2")return this.yaml.version=r,!0;{const l=/^\d+\.\d+$/.test(r);return t(6,`Unsupported YAML version ${r}`,l),!1}}default:return t(0,`Unknown directive ${i}`,!0),!1}}tagName(e,t){if(e==="!")return"!";if(e[0]!=="!")return t(`Not a valid tag: ${e}`),null;if(e[1]==="<"){const l=e.slice(2,-1);return l==="!"||l==="!!"?(t(`Verbatim tags aren't resolved, so ${e} is invalid.`),null):(e[e.length-1]!==">"&&t("Verbatim tags must end with a >"),l)}const[,s,i]=e.match(/^(.*!)([^!]*)$/s);i||t(`The ${e} tag has no suffix`);const r=this.tags[s];if(r)try{return r+decodeURIComponent(i)}catch(l){return t(String(l)),null}return s==="!"?e:(t(`Could not resolve tag: ${e}`),null)}tagString(e){for(const[t,s]of Object.entries(this.tags))if(e.startsWith(s))return t+Ze(e.substring(s.length));return e[0]==="!"?e:`!<${e}>`}toString(e){const t=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],s=Object.entries(this.tags);let i;if(e&&s.length>0&&$(e.contents)){const r={};V(e.contents,(l,o)=>{$(o)&&o.tag&&(r[o.tag]=!0)}),i=Object.keys(r)}else i=[];for(const[r,l]of s)r==="!!"&&l==="tag:yaml.org,2002:"||(!e||i.some(o=>o.startsWith(l)))&&t.push(`%TAG ${r} ${l}`);return t.join(`
`)}}j.defaultYaml={explicit:!1,version:"1.2"};j.defaultTags={"!!":"tag:yaml.org,2002:"};function Me(n){if(/[\x00-\x19\s,[\]{}]/.test(n)){const t=`Anchor must not contain whitespace or control characters: ${JSON.stringify(n)}`;throw new Error(t)}return!0}function ve(n){const e=new Set;return V(n,{Value(t,s){s.anchor&&e.add(s.anchor)}}),e}function xe(n,e){for(let t=1;;++t){const s=`${n}${t}`;if(!e.has(s))return s}}function wt(n,e){const t=[],s=new Map;let i=null;return{onAnchor:r=>{t.push(r),i||(i=ve(n));const l=xe(e,i);return i.add(l),l},setAnchors:()=>{for(const r of t){const l=s.get(r);if(typeof l=="object"&&l.anchor&&(N(l.node)||A(l.node)))l.node.anchor=l.anchor;else{const o=new Error("Failed to resolve repeated object (this should not happen)");throw o.source=r,o}}},sourceObjects:s}}function z(n,e,t,s){if(s&&typeof s=="object")if(Array.isArray(s))for(let i=0,r=s.length;i<r;++i){const l=s[i],o=z(n,s,String(i),l);o===void 0?delete s[i]:o!==l&&(s[i]=o)}else if(s instanceof Map)for(const i of Array.from(s.keys())){const r=s.get(i),l=z(n,s,i,r);l===void 0?s.delete(i):l!==r&&s.set(i,l)}else if(s instanceof Set)for(const i of Array.from(s)){const r=z(n,s,i,i);r===void 0?s.delete(i):r!==i&&(s.delete(i),s.add(r))}else for(const[i,r]of Object.entries(s)){const l=z(n,s,i,r);l===void 0?delete s[i]:l!==r&&(s[i]=l)}return n.call(e,t,s)}function M(n,e,t){if(Array.isArray(n))return n.map((s,i)=>M(s,String(i),t));if(n&&typeof n.toJSON=="function"){if(!t||!Ye(n))return n.toJSON(e,t);const s={aliasCount:0,count:1,res:void 0};t.anchors.set(n,s),t.onCreate=r=>{s.res=r,delete t.onCreate};const i=n.toJSON(e,t);return t.onCreate&&t.onCreate(i),i}return typeof n=="bigint"&&!(t!=null&&t.keep)?Number(n):n}class ke{constructor(e){Object.defineProperty(this,T,{value:e})}clone(){const e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(e.range=this.range.slice()),e}toJS(e,{mapAsMap:t,maxAliasCount:s,onAnchor:i,reviver:r}={}){if(!oe(e))throw new TypeError("A document argument is required");const l={anchors:new Map,doc:e,keep:!0,mapAsMap:t===!0,mapKeyWarned:!1,maxAliasCount:typeof s=="number"?s:100},o=M(this,"",l);if(typeof i=="function")for(const{count:f,res:a}of l.anchors.values())i(a,f);return typeof r=="function"?z(r,{"":o},"",o):o}}class et extends ke{constructor(e){super(Se),this.source=e,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(e){let t;return V(e,{Node:(s,i)=>{if(i===this)return V.BREAK;i.anchor===this.source&&(t=i)}}),t}toJSON(e,t){if(!t)return{source:this.source};const{anchors:s,doc:i,maxAliasCount:r}=t,l=this.resolve(i);if(!l){const f=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(f)}let o=s.get(l);if(o||(M(l,null,t),o=s.get(l)),!o||o.res===void 0){const f="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(f)}if(r>=0&&(o.count+=1,o.aliasCount===0&&(o.aliasCount=te(i,l,s)),o.count*o.aliasCount>r)){const f="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(f)}return o.res}toString(e,t,s){const i=`*${this.source}`;if(e){if(Me(this.source),e.options.verifyAliasOrder&&!e.anchors.has(this.source)){const r=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(r)}if(e.implicitKey)return`${i} `}return i}}function te(n,e,t){if(Y(e)){const s=e.resolve(n),i=t&&s&&t.get(s);return i?i.count*i.aliasCount:0}else if(A(e)){let s=0;for(const i of e.items){const r=te(n,i,t);r>s&&(s=r)}return s}else if(E(e)){const s=te(n,e.key,t),i=te(n,e.value,t);return Math.max(s,i)}return 1}const Be=n=>!n||typeof n!="function"&&typeof n!="object";class w extends ke{constructor(e){super(Oe),this.value=e}toJSON(e,t){return t!=null&&t.keep?this.value:M(this.value,e,t)}toString(){return String(this.value)}}w.BLOCK_FOLDED="BLOCK_FOLDED";w.BLOCK_LITERAL="BLOCK_LITERAL";w.PLAIN="PLAIN";w.QUOTE_DOUBLE="QUOTE_DOUBLE";w.QUOTE_SINGLE="QUOTE_SINGLE";const tt="tag:yaml.org,2002:";function st(n,e,t){if(e){const s=t.filter(r=>r.tag===e),i=s.find(r=>!r.format)??s[0];if(!i)throw new Error(`Tag ${e} not found`);return i}return t.find(s=>{var i;return((i=s.identify)==null?void 0:i.call(s,n))&&!s.format})}function ie(n,e,t){var d,p,h;if(oe(n)&&(n=n.contents),$(n))return n;if(E(n)){const g=(p=(d=t.schema[D]).createNode)==null?void 0:p.call(d,t.schema,null,t);return g.items.push(n),g}(n instanceof String||n instanceof Number||n instanceof Boolean||typeof BigInt<"u"&&n instanceof BigInt)&&(n=n.valueOf());const{aliasDuplicateObjects:s,onAnchor:i,onTagObj:r,schema:l,sourceObjects:o}=t;let f;if(s&&n&&typeof n=="object"){if(f=o.get(n),f)return f.anchor||(f.anchor=i(n)),new et(f.anchor);f={anchor:null,node:null},o.set(n,f)}e!=null&&e.startsWith("!!")&&(e=tt+e.slice(2));let a=st(n,e,l.tags);if(!a){if(n&&typeof n.toJSON=="function"&&(n=n.toJSON()),!n||typeof n!="object"){const g=new w(n);return f&&(f.node=g),g}a=n instanceof Map?l[D]:Symbol.iterator in Object(n)?l[Z]:l[D]}r&&(r(a),delete t.onTagObj);const y=a!=null&&a.createNode?a.createNode(t.schema,n,t):typeof((h=a==null?void 0:a.nodeClass)==null?void 0:h.from)=="function"?a.nodeClass.from(t.schema,n,t):new w(n);return e?y.tag=e:a.default||(y.tag=a.tag),f&&(f.node=y),y}function Ae(n,e,t){let s=t;for(let i=e.length-1;i>=0;--i){const r=e[i];if(typeof r=="number"&&Number.isInteger(r)&&r>=0){const l=[];l[r]=s,s=l}else s=new Map([[r,s]])}return ie(s,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:n,sourceObjects:new Map})}const nt=n=>n==null||typeof n=="object"&&!!n[Symbol.iterator]().next().done;class Ie extends ke{constructor(e,t){super(e),Object.defineProperty(this,"schema",{value:t,configurable:!0,enumerable:!1,writable:!0})}clone(e){const t=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return e&&(t.schema=e),t.items=t.items.map(s=>$(s)||E(s)?s.clone(e):s),this.range&&(t.range=this.range.slice()),t}addIn(e,t){if(nt(e))this.add(t);else{const[s,...i]=e,r=this.get(s,!0);if(A(r))r.addIn(i,t);else if(r===void 0&&this.schema)this.set(s,Ae(this.schema,i,t));else throw new Error(`Expected YAML collection at ${s}. Remaining path: ${i}`)}}deleteIn(e){const[t,...s]=e;if(s.length===0)return this.delete(t);const i=this.get(t,!0);if(A(i))return i.deleteIn(s);throw new Error(`Expected YAML collection at ${t}. Remaining path: ${s}`)}getIn(e,t){const[s,...i]=e,r=this.get(s,!0);return i.length===0?!t&&N(r)?r.value:r:A(r)?r.getIn(i,t):void 0}hasAllNullValues(e){return this.items.every(t=>{if(!E(t))return!1;const s=t.value;return s==null||e&&N(s)&&s.value==null&&!s.commentBefore&&!s.comment&&!s.tag})}hasIn(e){const[t,...s]=e;if(s.length===0)return this.has(t);const i=this.get(t,!0);return A(i)?i.hasIn(s):!1}setIn(e,t){const[s,...i]=e;if(i.length===0)this.set(s,t);else{const r=this.get(s,!0);if(A(r))r.setIn(i,t);else if(r===void 0&&this.schema)this.set(s,Ae(this.schema,i,t));else throw new Error(`Expected YAML collection at ${s}. Remaining path: ${i}`)}}}const it=n=>n.replace(/^(?!$)(?: $)?/gm,"#");function X(n,e){return/^\n+$/.test(n)?n.substring(1):e?n.replace(/^(?! *$)/gm,e):n}const _=(n,e,t)=>n.endsWith(`
`)?X(t,e):t.includes(`
`)?`
`+X(t,e):(n.endsWith(" ")?"":" ")+t,Te="flow",ye="block",se="quoted";function ce(n,e,t="flow",{indentAtStart:s,lineWidth:i=80,minContentWidth:r=20,onFold:l,onOverflow:o}={}){if(!i||i<0)return n;i<r&&(r=0);const f=Math.max(1+r,1+i-e.length);if(n.length<=f)return n;const a=[],y={};let d=i-e.length;typeof s=="number"&&(s>i-Math.max(2,r)?a.push(0):d=i-s);let p,h,g=!1,c=-1,u=-1,O=-1;t===ye&&(c=Le(n,c,e.length),c!==-1&&(d=c+f));for(let m;m=n[c+=1];){if(t===se&&m==="\\"){switch(u=c,n[c+1]){case"x":c+=3;break;case"u":c+=5;break;case"U":c+=9;break;default:c+=1}O=c}if(m===`
`)t===ye&&(c=Le(n,c,e.length)),d=c+e.length+f,p=void 0;else{if(m===" "&&h&&h!==" "&&h!==`
`&&h!=="	"){const S=n[c+1];S&&S!==" "&&S!==`
`&&S!=="	"&&(p=c)}if(c>=d)if(p)a.push(p),d=p+f,p=void 0;else if(t===se){for(;h===" "||h==="	";)h=m,m=n[c+=1],g=!0;const S=c>O+1?c-2:u-1;if(y[S])return n;a.push(S),y[S]=!0,d=S+f,p=void 0}else g=!0}h=m}if(g&&o&&o(),a.length===0)return n;l&&l();let b=n.slice(0,a[0]);for(let m=0;m<a.length;++m){const S=a[m],k=a[m+1]||n.length;S===0?b=`
${e}${n.slice(0,k)}`:(t===se&&y[S]&&(b+=`${n[S]}\\`),b+=`
${e}${n.slice(S+1,k)}`)}return b}function Le(n,e,t){let s=e,i=e+1,r=n[i];for(;r===" "||r==="	";)if(e<i+t)r=n[++e];else{do r=n[++e];while(r&&r!==`
`);s=e,i=e+1,r=n[i]}return s}const ue=(n,e)=>({indentAtStart:e?n.indent.length:n.indentAtStart,lineWidth:n.options.lineWidth,minContentWidth:n.options.minContentWidth}),he=n=>/^(%|---|\.\.\.)/m.test(n);function rt(n,e,t){if(!e||e<0)return!1;const s=e-t,i=n.length;if(i<=s)return!1;for(let r=0,l=0;r<i;++r)if(n[r]===`
`){if(r-l>s)return!0;if(l=r+1,i-l<=s)return!1}return!0}function H(n,e){const t=JSON.stringify(n);if(e.options.doubleQuotedAsJSON)return t;const{implicitKey:s}=e,i=e.options.doubleQuotedMinMultiLineLength,r=e.indent||(he(n)?"  ":"");let l="",o=0;for(let f=0,a=t[f];a;a=t[++f])if(a===" "&&t[f+1]==="\\"&&t[f+2]==="n"&&(l+=t.slice(o,f)+"\\ ",f+=1,o=f,a="\\"),a==="\\")switch(t[f+1]){case"u":{l+=t.slice(o,f);const y=t.substr(f+2,4);switch(y){case"0000":l+="\\0";break;case"0007":l+="\\a";break;case"000b":l+="\\v";break;case"001b":l+="\\e";break;case"0085":l+="\\N";break;case"00a0":l+="\\_";break;case"2028":l+="\\L";break;case"2029":l+="\\P";break;default:y.substr(0,2)==="00"?l+="\\x"+y.substr(2):l+=t.substr(f,6)}f+=5,o=f+1}break;case"n":if(s||t[f+2]==='"'||t.length<i)f+=1;else{for(l+=t.slice(o,f)+`

`;t[f+2]==="\\"&&t[f+3]==="n"&&t[f+4]!=='"';)l+=`
`,f+=2;l+=r,t[f+2]===" "&&(l+="\\"),f+=1,o=f+1}break;default:f+=1}return l=o?l+t.slice(o):t,s?l:ce(l,r,se,ue(e,!1))}function be(n,e){if(e.options.singleQuote===!1||e.implicitKey&&n.includes(`
`)||/[ \t]\n|\n[ \t]/.test(n))return H(n,e);const t=e.indent||(he(n)?"  ":""),s="'"+n.replace(/'/g,"''").replace(/\n+/g,`$&
${t}`)+"'";return e.implicitKey?s:ce(s,t,Te,ue(e,!1))}function q(n,e){const{singleQuote:t}=e.options;let s;if(t===!1)s=H;else{const i=n.includes('"'),r=n.includes("'");i&&!r?s=be:r&&!i?s=H:s=t?be:H}return s(n,e)}let me;try{me=new RegExp(`(^|(?<!
))
+(?!
|$)`,"g")}catch{me=/\n+(?!\n|$)/g}function ne({comment:n,type:e,value:t},s,i,r){const{blockQuote:l,commentString:o,lineWidth:f}=s.options;if(!l||/\n[\t ]+$/.test(t)||/^\s*$/.test(t))return q(t,s);const a=s.indent||(s.forceBlockIndent||he(t)?"  ":""),y=l==="literal"?!0:l==="folded"||e===w.BLOCK_FOLDED?!1:e===w.BLOCK_LITERAL?!0:!rt(t,f,a.length);if(!t)return y?`|
`:`>
`;let d,p;for(p=t.length;p>0;--p){const k=t[p-1];if(k!==`
`&&k!=="	"&&k!==" ")break}let h=t.substring(p);const g=h.indexOf(`
`);g===-1?d="-":t===h||g!==h.length-1?(d="+",r&&r()):d="",h&&(t=t.slice(0,-h.length),h[h.length-1]===`
`&&(h=h.slice(0,-1)),h=h.replace(me,`$&${a}`));let c=!1,u,O=-1;for(u=0;u<t.length;++u){const k=t[u];if(k===" ")c=!0;else if(k===`
`)O=u;else break}let b=t.substring(0,O<u?O+1:u);b&&(t=t.substring(b.length),b=b.replace(/\n+/g,`$&${a}`));let S=(c?a?"2":"1":"")+d;if(n&&(S+=" "+o(n.replace(/ ?[\r\n]+/g," ")),i&&i()),!y){const k=t.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${a}`);let L=!1;const I=ue(s,!0);l!=="folded"&&e!==w.BLOCK_FOLDED&&(I.onOverflow=()=>{L=!0});const W=ce(`${b}${k}${h}`,a,ye,I);if(!L)return`>${S}
${a}${W}`}return t=t.replace(/\n+/g,`$&${a}`),`|${S}
${a}${b}${t}${h}`}function lt(n,e,t,s){const{type:i,value:r}=n,{actualString:l,implicitKey:o,indent:f,indentStep:a,inFlow:y}=e;if(o&&r.includes(`
`)||y&&/[[\]{},]/.test(r))return q(r,e);if(!r||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(r))return o||y||!r.includes(`
`)?q(r,e):ne(n,e,t,s);if(!o&&!y&&i!==w.PLAIN&&r.includes(`
`))return ne(n,e,t,s);if(he(r)){if(f==="")return e.forceBlockIndent=!0,ne(n,e,t,s);if(o&&f===a)return q(r,e)}const d=r.replace(/\n+/g,`$&
${f}`);if(l){const p=c=>{var u;return c.default&&c.tag!=="tag:yaml.org,2002:str"&&((u=c.test)==null?void 0:u.test(d))},{compat:h,tags:g}=e.doc.schema;if(g.some(p)||h!=null&&h.some(p))return q(r,e)}return o?d:ce(d,f,Te,ue(e,!1))}function ot(n,e,t,s){const{implicitKey:i,inFlow:r}=e,l=typeof n.value=="string"?n:Object.assign({},n,{value:String(n.value)});let{type:o}=n;o!==w.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(l.value)&&(o=w.QUOTE_DOUBLE);const f=y=>{switch(y){case w.BLOCK_FOLDED:case w.BLOCK_LITERAL:return i||r?q(l.value,e):ne(l,e,t,s);case w.QUOTE_DOUBLE:return H(l.value,e);case w.QUOTE_SINGLE:return be(l.value,e);case w.PLAIN:return lt(l,e,t,s);default:return null}};let a=f(o);if(a===null){const{defaultKeyType:y,defaultStringType:d}=e.options,p=i&&y||d;if(a=f(p),a===null)throw new Error(`Unsupported default string type ${p}`)}return a}function ft(n,e){const t=Object.assign({blockQuote:!0,commentString:it,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},n.schema.toStringOptions,e);let s;switch(t.collectionStyle){case"block":s=!1;break;case"flow":s=!0;break;default:s=null}return{anchors:new Set,doc:n,flowCollectionPadding:t.flowCollectionPadding?" ":"",indent:"",indentStep:typeof t.indent=="number"?" ".repeat(t.indent):"  ",inFlow:s,options:t}}function at(n,e){var i;if(e.tag){const r=n.filter(l=>l.tag===e.tag);if(r.length>0)return r.find(l=>l.format===e.format)??r[0]}let t,s;if(N(e)){s=e.value;let r=n.filter(l=>{var o;return(o=l.identify)==null?void 0:o.call(l,s)});if(r.length>1){const l=r.filter(o=>o.test);l.length>0&&(r=l)}t=r.find(l=>l.format===e.format)??r.find(l=>!l.format)}else s=e,t=n.find(r=>r.nodeClass&&s instanceof r.nodeClass);if(!t){const r=((i=s==null?void 0:s.constructor)==null?void 0:i.name)??typeof s;throw new Error(`Tag not resolved for ${r} value`)}return t}function ct(n,e,{anchors:t,doc:s}){if(!s.directives)return"";const i=[],r=(N(n)||A(n))&&n.anchor;r&&Me(r)&&(t.add(r),i.push(`&${r}`));const l=n.tag?n.tag:e.default?null:e.tag;return l&&i.push(s.directives.tagString(l)),i.join(" ")}function re(n,e,t,s){var f;if(E(n))return n.toString(e,t,s);if(Y(n)){if(e.doc.directives)return n.toString(e);if((f=e.resolvedAliases)!=null&&f.has(n))throw new TypeError("Cannot stringify circular structure without alias nodes");e.resolvedAliases?e.resolvedAliases.add(n):e.resolvedAliases=new Set([n]),n=n.resolve(e.doc)}let i;const r=$(n)?n:e.doc.createNode(n,{onTagObj:a=>i=a});i||(i=at(e.doc.schema.tags,r));const l=ct(r,i,e);l.length>0&&(e.indentAtStart=(e.indentAtStart??0)+l.length+1);const o=typeof i.stringify=="function"?i.stringify(r,e,t,s):N(r)?ot(r,e,t,s):r.toString(e,t,s);return l?N(r)||o[0]==="{"||o[0]==="["?`${l} ${o}`:`${l}
${e.indent}${o}`:o}function ut({key:n,value:e},t,s,i){const{allNullValues:r,doc:l,indent:o,indentStep:f,options:{commentString:a,indentSeq:y,simpleKeys:d}}=t;let p=$(n)&&n.comment||null;if(d){if(p)throw new Error("With simple keys, key nodes cannot have comments");if(A(n)||!$(n)&&typeof n=="object"){const I="With simple keys, collection cannot be used as a key value";throw new Error(I)}}let h=!d&&(!n||p&&e==null&&!t.inFlow||A(n)||(N(n)?n.type===w.BLOCK_FOLDED||n.type===w.BLOCK_LITERAL:typeof n=="object"));t=Object.assign({},t,{allNullValues:!1,implicitKey:!h&&(d||!r),indent:o+f});let g=!1,c=!1,u=re(n,t,()=>g=!0,()=>c=!0);if(!h&&!t.inFlow&&u.length>1024){if(d)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");h=!0}if(t.inFlow){if(r||e==null)return g&&s&&s(),u===""?"?":h?`? ${u}`:u}else if(r&&!d||e==null&&h)return u=`? ${u}`,p&&!g?u+=_(u,t.indent,a(p)):c&&i&&i(),u;g&&(p=null),h?(p&&(u+=_(u,t.indent,a(p))),u=`? ${u}
${o}:`):(u=`${u}:`,p&&(u+=_(u,t.indent,a(p))));let O,b,m;$(e)?(O=!!e.spaceBefore,b=e.commentBefore,m=e.comment):(O=!1,b=null,m=null,e&&typeof e=="object"&&(e=l.createNode(e))),t.implicitKey=!1,!h&&!p&&N(e)&&(t.indentAtStart=u.length+1),c=!1,!y&&f.length>=2&&!t.inFlow&&!h&&ae(e)&&!e.flow&&!e.tag&&!e.anchor&&(t.indent=t.indent.substring(2));let S=!1;const k=re(e,t,()=>S=!0,()=>c=!0);let L=" ";if(p||O||b){if(L=O?`
`:"",b){const I=a(b);L+=`
${X(I,t.indent)}`}k===""&&!t.inFlow?L===`
`&&(L=`

`):L+=`
${t.indent}`}else if(!h&&A(e)){const I=k[0],W=k.indexOf(`
`),Ee=W!==-1,Qe=t.inFlow??e.flow??e.items.length===0;if(Ee||!Qe){let $e=!1;if(Ee&&(I==="&"||I==="!")){let P=k.indexOf(" ");I==="&"&&P!==-1&&P<W&&k[P+1]==="!"&&(P=k.indexOf(" ",P+1)),(P===-1||W<P)&&($e=!0)}$e||(L=`
${t.indent}`)}}else(k===""||k[0]===`
`)&&(L="");return u+=L+k,t.inFlow?S&&s&&s():m&&!S?u+=_(u,t.indent,a(m)):c&&i&&i(),u}function ht(n,e){(n==="debug"||n==="warn")&&console.warn(e)}const v="<<",de={identify:n=>n===v||typeof n=="symbol"&&n.description===v,default:"key",tag:"tag:yaml.org,2002:merge",test:/^<<$/,resolve:()=>Object.assign(new w(Symbol(v)),{addToJSMap:Pe}),stringify:()=>v},dt=(n,e)=>(de.identify(e)||N(e)&&(!e.type||e.type===w.PLAIN)&&de.identify(e.value))&&(n==null?void 0:n.doc.schema.tags.some(t=>t.tag===de.tag&&t.default));function Pe(n,e,t){if(t=n&&Y(t)?t.resolve(n.doc):t,ae(t))for(const s of t.items)pe(n,e,s);else if(Array.isArray(t))for(const s of t)pe(n,e,s);else pe(n,e,t)}function pe(n,e,t){const s=n&&Y(t)?t.resolve(n.doc):t;if(!fe(s))throw new Error("Merge sources must be maps or map aliases");const i=s.toJSON(null,n,Map);for(const[r,l]of i)e instanceof Map?e.has(r)||e.set(r,l):e instanceof Set?e.add(r):Object.prototype.hasOwnProperty.call(e,r)||Object.defineProperty(e,r,{value:l,writable:!0,enumerable:!0,configurable:!0});return e}function Ke(n,e,{key:t,value:s}){if($(t)&&t.addToJSMap)t.addToJSMap(n,e,s);else if(dt(n,t))Pe(n,e,s);else{const i=M(t,"",n);if(e instanceof Map)e.set(i,M(s,i,n));else if(e instanceof Set)e.add(i);else{const r=pt(t,i,n),l=M(s,r,n);r in e?Object.defineProperty(e,r,{value:l,writable:!0,enumerable:!0,configurable:!0}):e[r]=l}}return e}function pt(n,e,t){if(e===null)return"";if(typeof e!="object")return String(e);if($(n)&&(t!=null&&t.doc)){const s=ft(t.doc,{});s.anchors=new Set;for(const r of t.anchors.keys())s.anchors.add(r.anchor);s.inFlow=!0,s.inStringifyKey=!0;const i=n.toString(s);if(!t.mapKeyWarned){let r=JSON.stringify(i);r.length>40&&(r=r.substring(0,36)+'..."'),ht(t.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${r}. Set mapAsMap: true to use object keys.`),t.mapKeyWarned=!0}return i}return JSON.stringify(e)}function Ne(n,e,t){const s=ie(n,void 0,t),i=ie(e,void 0,t);return new B(s,i)}class B{constructor(e,t=null){Object.defineProperty(this,T,{value:je}),this.key=e,this.value=t}clone(e){let{key:t,value:s}=this;return $(t)&&(t=t.clone(e)),$(s)&&(s=s.clone(e)),new B(t,s)}toJSON(e,t){const s=t!=null&&t.mapAsMap?new Map:{};return Ke(t,s,this)}toString(e,t,s){return e!=null&&e.doc?ut(this,e,t,s):JSON.stringify(this)}}function Fe(n,e,t){return(e.inFlow??n.flow?yt:gt)(n,e,t)}function gt({comment:n,items:e},t,{blockItemPrefix:s,flowChars:i,itemIndent:r,onChompKeep:l,onComment:o}){const{indent:f,options:{commentString:a}}=t,y=Object.assign({},t,{indent:r,type:null});let d=!1;const p=[];for(let g=0;g<e.length;++g){const c=e[g];let u=null;if($(c))!d&&c.spaceBefore&&p.push(""),le(t,p,c.commentBefore,d),c.comment&&(u=c.comment);else if(E(c)){const b=$(c.key)?c.key:null;b&&(!d&&b.spaceBefore&&p.push(""),le(t,p,b.commentBefore,d))}d=!1;let O=re(c,y,()=>u=null,()=>d=!0);u&&(O+=_(O,r,a(u))),d&&u&&(d=!1),p.push(s+O)}let h;if(p.length===0)h=i.start+i.end;else{h=p[0];for(let g=1;g<p.length;++g){const c=p[g];h+=c?`
${f}${c}`:`
`}}return n?(h+=`
`+X(a(n),f),o&&o()):d&&l&&l(),h}function yt({items:n},e,{flowChars:t,itemIndent:s}){const{indent:i,indentStep:r,flowCollectionPadding:l,options:{commentString:o}}=e;s+=r;const f=Object.assign({},e,{indent:s,inFlow:!0,type:null});let a=!1,y=0;const d=[];for(let g=0;g<n.length;++g){const c=n[g];let u=null;if($(c))c.spaceBefore&&d.push(""),le(e,d,c.commentBefore,!1),c.comment&&(u=c.comment);else if(E(c)){const b=$(c.key)?c.key:null;b&&(b.spaceBefore&&d.push(""),le(e,d,b.commentBefore,!1),b.comment&&(a=!0));const m=$(c.value)?c.value:null;m?(m.comment&&(u=m.comment),m.commentBefore&&(a=!0)):c.value==null&&(b!=null&&b.comment)&&(u=b.comment)}u&&(a=!0);let O=re(c,f,()=>u=null);g<n.length-1&&(O+=","),u&&(O+=_(O,s,o(u))),!a&&(d.length>y||O.includes(`
`))&&(a=!0),d.push(O),y=d.length}const{start:p,end:h}=t;if(d.length===0)return p+h;if(!a){const g=d.reduce((c,u)=>c+u.length+2,2);a=e.options.lineWidth>0&&g>e.options.lineWidth}if(a){let g=p;for(const c of d)g+=c?`
${r}${i}${c}`:`
`;return`${g}
${i}${h}`}else return`${p}${l}${d.join(" ")}${l}${h}`}function le({indent:n,options:{commentString:e}},t,s,i){if(s&&i&&(s=s.replace(/^\n+/,"")),s){const r=X(e(s),n);t.push(r.trimStart())}}function F(n,e){const t=N(e)?e.value:e;for(const s of n)if(E(s)&&(s.key===e||s.key===t||N(s.key)&&s.key.value===t))return s}class J extends Ie{static get tagName(){return"tag:yaml.org,2002:map"}constructor(e){super(D,e),this.items=[]}static from(e,t,s){const{keepUndefined:i,replacer:r}=s,l=new this(e),o=(f,a)=>{if(typeof r=="function")a=r.call(t,f,a);else if(Array.isArray(r)&&!r.includes(f))return;(a!==void 0||i)&&l.items.push(Ne(f,a,s))};if(t instanceof Map)for(const[f,a]of t)o(f,a);else if(t&&typeof t=="object")for(const f of Object.keys(t))o(f,t[f]);return typeof e.sortMapEntries=="function"&&l.items.sort(e.sortMapEntries),l}add(e,t){var l;let s;E(e)?s=e:!e||typeof e!="object"||!("key"in e)?s=new B(e,e==null?void 0:e.value):s=new B(e.key,e.value);const i=F(this.items,s.key),r=(l=this.schema)==null?void 0:l.sortMapEntries;if(i){if(!t)throw new Error(`Key ${s.key} already set`);N(i.value)&&Be(s.value)?i.value.value=s.value:i.value=s.value}else if(r){const o=this.items.findIndex(f=>r(s,f)<0);o===-1?this.items.push(s):this.items.splice(o,0,s)}else this.items.push(s)}delete(e){const t=F(this.items,e);return t?this.items.splice(this.items.indexOf(t),1).length>0:!1}get(e,t){const s=F(this.items,e),i=s==null?void 0:s.value;return(!t&&N(i)?i.value:i)??void 0}has(e){return!!F(this.items,e)}set(e,t){this.add(new B(e,t),!0)}toJSON(e,t,s){const i=s?new s:t!=null&&t.mapAsMap?new Map:{};t!=null&&t.onCreate&&t.onCreate(i);for(const r of this.items)Ke(t,i,r);return i}toString(e,t,s){if(!e)return JSON.stringify(this);for(const i of this.items)if(!E(i))throw new Error(`Map items must all be pairs; found ${JSON.stringify(i)} instead`);return!e.allNullValues&&this.hasAllNullValues(!1)&&(e=Object.assign({},e,{allNullValues:!0})),Fe(this,e,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:e.indent||"",onChompKeep:s,onComment:t})}}class De extends Ie{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(e){super(Z,e),this.items=[]}add(e){this.items.push(e)}delete(e){const t=x(e);return typeof t!="number"?!1:this.items.splice(t,1).length>0}get(e,t){const s=x(e);if(typeof s!="number")return;const i=this.items[s];return!t&&N(i)?i.value:i}has(e){const t=x(e);return typeof t=="number"&&t<this.items.length}set(e,t){const s=x(e);if(typeof s!="number")throw new Error(`Expected a valid index, not ${e}.`);const i=this.items[s];N(i)&&Be(t)?i.value=t:this.items[s]=t}toJSON(e,t){const s=[];t!=null&&t.onCreate&&t.onCreate(s);let i=0;for(const r of this.items)s.push(M(r,String(i++),t));return s}toString(e,t,s){return e?Fe(this,e,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(e.indent||"")+"  ",onChompKeep:s,onComment:t}):JSON.stringify(this)}static from(e,t,s){const{replacer:i}=s,r=new this(e);if(t&&Symbol.iterator in Object(t)){let l=0;for(let o of t){if(typeof i=="function"){const f=t instanceof Set?o:String(l++);o=i.call(t,f,o)}r.items.push(ie(o,void 0,s))}}return r}}function x(n){let e=N(n)?n.value:n;return e&&typeof e=="string"&&(e=Number(e)),typeof e=="number"&&Number.isInteger(e)&&e>=0?e:null}function Ve(n,e){if(ae(n))for(let t=0;t<n.items.length;++t){let s=n.items[t];if(!E(s)){if(fe(s)){s.items.length>1&&e("Each pair must have its own sequence indicator");const i=s.items[0]||new B(new w(null));if(s.commentBefore&&(i.key.commentBefore=i.key.commentBefore?`${s.commentBefore}
${i.key.commentBefore}`:s.commentBefore),s.comment){const r=i.value??i.key;r.comment=r.comment?`${s.comment}
${r.comment}`:s.comment}s=i}n.items[t]=E(s)?s:new B(s)}}else e("Expected a sequence for this tag");return n}function Je(n,e,t){const{replacer:s}=t,i=new De(n);i.tag="tag:yaml.org,2002:pairs";let r=0;if(e&&Symbol.iterator in Object(e))for(let l of e){typeof s=="function"&&(l=s.call(e,String(r++),l));let o,f;if(Array.isArray(l))if(l.length===2)o=l[0],f=l[1];else throw new TypeError(`Expected [key, value] tuple: ${l}`);else if(l&&l instanceof Object){const a=Object.keys(l);if(a.length===1)o=a[0],f=l[o];else throw new TypeError(`Expected tuple with one key, not ${a.length} keys`)}else o=l;i.items.push(Ne(o,f,t))}return i}const St={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:Ve,createNode:Je};class Q extends De{constructor(){super(),this.add=J.prototype.add.bind(this),this.delete=J.prototype.delete.bind(this),this.get=J.prototype.get.bind(this),this.has=J.prototype.has.bind(this),this.set=J.prototype.set.bind(this),this.tag=Q.tag}toJSON(e,t){if(!t)return super.toJSON(e);const s=new Map;t!=null&&t.onCreate&&t.onCreate(s);for(const i of this.items){let r,l;if(E(i)?(r=M(i.key,"",t),l=M(i.value,r,t)):r=M(i,"",t),s.has(r))throw new Error("Ordered maps must not include duplicate keys");s.set(r,l)}return s}static from(e,t,s){const i=Je(e,t,s),r=new this;return r.items=i.items,r}}Q.tag="tag:yaml.org,2002:omap";const Ot={collection:"seq",identify:n=>n instanceof Map,nodeClass:Q,default:!1,tag:"tag:yaml.org,2002:omap",resolve(n,e){const t=Ve(n,e),s=[];for(const{key:i}of t.items)N(i)&&(s.includes(i.value)?e(`Ordered maps must not include duplicate keys: ${i.value}`):s.push(i.value));return Object.assign(new Q,t)},createNode:(n,e,t)=>Q.from(n,e,t)};class R extends J{constructor(e){super(e),this.tag=R.tag}add(e){let t;E(e)?t=e:e&&typeof e=="object"&&"key"in e&&"value"in e&&e.value===null?t=new B(e.key,null):t=new B(e,null),F(this.items,t.key)||this.items.push(t)}get(e,t){const s=F(this.items,e);return!t&&E(s)?N(s.key)?s.key.value:s.key:s}set(e,t){if(typeof t!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof t}`);const s=F(this.items,e);s&&!t?this.items.splice(this.items.indexOf(s),1):!s&&t&&this.items.push(new B(e))}toJSON(e,t){return super.toJSON(e,t,Set)}toString(e,t,s){if(!e)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},e,{allNullValues:!0}),t,s);throw new Error("Set items must all have null values")}static from(e,t,s){const{replacer:i}=s,r=new this(e);if(t&&Symbol.iterator in Object(t))for(let l of t)typeof i=="function"&&(l=i.call(t,l,l)),r.items.push(Ne(l,null,s));return r}}R.tag="tag:yaml.org,2002:set";const kt={collection:"map",identify:n=>n instanceof Set,nodeClass:R,default:!1,tag:"tag:yaml.org,2002:set",createNode:(n,e,t)=>R.from(n,e,t),resolve(n,e){if(fe(n)){if(n.hasAllNullValues(!0))return Object.assign(new R,n);e("Set items must all have null values")}else e("Expected a mapping for this tag");return n}},Ue="\uFEFF",_e="",qe="",we="";function Nt(n){switch(n){case Ue:return"byte-order-mark";case _e:return"doc-mode";case qe:return"flow-error-end";case we:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
`:case`\r
`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(n[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}function C(n){switch(n){case void 0:case" ":case`
`:case"\r":case"	":return!0;default:return!1}}const Ce=new Set("0123456789ABCDEFabcdef"),bt=new Set("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()"),ee=new Set(",[]{}"),mt=new Set(` ,[]{}
\r	`),ge=n=>!n||mt.has(n);class Et{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(e,t=!1){if(e){if(typeof e!="string")throw TypeError("source is not a string");this.buffer=this.buffer?this.buffer+e:e,this.lineEndPos=null}this.atEnd=!t;let s=this.next??"stream";for(;s&&(t||this.hasChars(1));)s=yield*this.parseNext(s)}atLineEnd(){let e=this.pos,t=this.buffer[e];for(;t===" "||t==="	";)t=this.buffer[++e];return!t||t==="#"||t===`
`?!0:t==="\r"?this.buffer[e+1]===`
`:!1}charAt(e){return this.buffer[this.pos+e]}continueScalar(e){let t=this.buffer[e];if(this.indentNext>0){let s=0;for(;t===" ";)t=this.buffer[++s+e];if(t==="\r"){const i=this.buffer[s+e+1];if(i===`
`||!i&&!this.atEnd)return e+s+1}return t===`
`||s>=this.indentNext||!t&&!this.atEnd?e+s:-1}if(t==="-"||t==="."){const s=this.buffer.substr(e,3);if((s==="---"||s==="...")&&C(this.buffer[e+3]))return-1}return e}getLine(){let e=this.lineEndPos;return(typeof e!="number"||e!==-1&&e<this.pos)&&(e=this.buffer.indexOf(`
`,this.pos),this.lineEndPos=e),e===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[e-1]==="\r"&&(e-=1),this.buffer.substring(this.pos,e))}hasChars(e){return this.pos+e<=this.buffer.length}setNext(e){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=e,null}peek(e){return this.buffer.substr(this.pos,e)}*parseNext(e){switch(e){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let e=this.getLine();if(e===null)return this.setNext("stream");if(e[0]===Ue&&(yield*this.pushCount(1),e=e.substring(1)),e[0]==="%"){let t=e.length,s=e.indexOf("#");for(;s!==-1;){const r=e[s-1];if(r===" "||r==="	"){t=s-1;break}else s=e.indexOf("#",s+1)}for(;;){const r=e[t-1];if(r===" "||r==="	")t-=1;else break}const i=(yield*this.pushCount(t))+(yield*this.pushSpaces(!0));return yield*this.pushCount(e.length-i),this.pushNewline(),"stream"}if(this.atLineEnd()){const t=yield*this.pushSpaces(!0);return yield*this.pushCount(e.length-t),yield*this.pushNewline(),"stream"}return yield _e,yield*this.parseLineStart()}*parseLineStart(){const e=this.charAt(0);if(!e&&!this.atEnd)return this.setNext("line-start");if(e==="-"||e==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");const t=this.peek(3);if((t==="---"||t==="...")&&C(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,t==="---"?"doc":"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!C(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){const[e,t]=this.peek(2);if(!t&&!this.atEnd)return this.setNext("block-start");if((e==="-"||e==="?"||e===":")&&C(t)){const s=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=s,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);const e=this.getLine();if(e===null)return this.setNext("doc");let t=yield*this.pushIndicators();switch(e[t]){case"#":yield*this.pushCount(e.length-t);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(ge),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return t+=yield*this.parseBlockScalarHeader(),t+=yield*this.pushSpaces(!0),yield*this.pushCount(e.length-t),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let e,t,s=-1;do e=yield*this.pushNewline(),e>0?(t=yield*this.pushSpaces(!1),this.indentValue=s=t):t=0,t+=yield*this.pushSpaces(!0);while(e+t>0);const i=this.getLine();if(i===null)return this.setNext("flow");if((s!==-1&&s<this.indentNext&&i[0]!=="#"||s===0&&(i.startsWith("---")||i.startsWith("..."))&&C(i[3]))&&!(s===this.indentNext-1&&this.flowLevel===1&&(i[0]==="]"||i[0]==="}")))return this.flowLevel=0,yield qe,yield*this.parseLineStart();let r=0;for(;i[r]===",";)r+=yield*this.pushCount(1),r+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(r+=yield*this.pushIndicators(),i[r]){case void 0:return"flow";case"#":return yield*this.pushCount(i.length-r),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(ge),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{const l=this.charAt(1);if(this.flowKey||C(l)||l===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){const e=this.charAt(0);let t=this.buffer.indexOf(e,this.pos+1);if(e==="'")for(;t!==-1&&this.buffer[t+1]==="'";)t=this.buffer.indexOf("'",t+2);else for(;t!==-1;){let r=0;for(;this.buffer[t-1-r]==="\\";)r+=1;if(r%2===0)break;t=this.buffer.indexOf('"',t+1)}const s=this.buffer.substring(0,t);let i=s.indexOf(`
`,this.pos);if(i!==-1){for(;i!==-1;){const r=this.continueScalar(i+1);if(r===-1)break;i=s.indexOf(`
`,r)}i!==-1&&(t=i-(s[i-1]==="\r"?2:1))}if(t===-1){if(!this.atEnd)return this.setNext("quoted-scalar");t=this.buffer.length}return yield*this.pushToIndex(t+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let e=this.pos;for(;;){const t=this.buffer[++e];if(t==="+")this.blockScalarKeep=!0;else if(t>"0"&&t<="9")this.blockScalarIndent=Number(t)-1;else if(t!=="-")break}return yield*this.pushUntil(t=>C(t)||t==="#")}*parseBlockScalar(){let e=this.pos-1,t=0,s;e:for(let r=this.pos;s=this.buffer[r];++r)switch(s){case" ":t+=1;break;case`
`:e=r,t=0;break;case"\r":{const l=this.buffer[r+1];if(!l&&!this.atEnd)return this.setNext("block-scalar");if(l===`
`)break}default:break e}if(!s&&!this.atEnd)return this.setNext("block-scalar");if(t>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=t:this.indentNext=this.blockScalarIndent+(this.indentNext===0?1:this.indentNext);do{const r=this.continueScalar(e+1);if(r===-1)break;e=this.buffer.indexOf(`
`,r)}while(e!==-1);if(e===-1){if(!this.atEnd)return this.setNext("block-scalar");e=this.buffer.length}}let i=e+1;for(s=this.buffer[i];s===" ";)s=this.buffer[++i];if(s==="	"){for(;s==="	"||s===" "||s==="\r"||s===`
`;)s=this.buffer[++i];e=i-1}else if(!this.blockScalarKeep)do{let r=e-1,l=this.buffer[r];l==="\r"&&(l=this.buffer[--r]);const o=r;for(;l===" ";)l=this.buffer[--r];if(l===`
`&&r>=this.pos&&r+1+t>o)e=r;else break}while(!0);return yield we,yield*this.pushToIndex(e+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){const e=this.flowLevel>0;let t=this.pos-1,s=this.pos-1,i;for(;i=this.buffer[++s];)if(i===":"){const r=this.buffer[s+1];if(C(r)||e&&ee.has(r))break;t=s}else if(C(i)){let r=this.buffer[s+1];if(i==="\r"&&(r===`
`?(s+=1,i=`
`,r=this.buffer[s+1]):t=s),r==="#"||e&&ee.has(r))break;if(i===`
`){const l=this.continueScalar(s+1);if(l===-1)break;s=Math.max(s,l-2)}}else{if(e&&ee.has(i))break;t=s}return!i&&!this.atEnd?this.setNext("plain-scalar"):(yield we,yield*this.pushToIndex(t+1,!0),e?"flow":"doc")}*pushCount(e){return e>0?(yield this.buffer.substr(this.pos,e),this.pos+=e,e):0}*pushToIndex(e,t){const s=this.buffer.slice(this.pos,e);return s?(yield s,this.pos+=s.length,s.length):(t&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(ge))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{const e=this.flowLevel>0,t=this.charAt(1);if(C(t)||e&&ee.has(t))return e?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if(this.charAt(1)==="<"){let e=this.pos+2,t=this.buffer[e];for(;!C(t)&&t!==">";)t=this.buffer[++e];return yield*this.pushToIndex(t===">"?e+1:e,!1)}else{let e=this.pos+1,t=this.buffer[e];for(;t;)if(bt.has(t))t=this.buffer[++e];else if(t==="%"&&Ce.has(this.buffer[e+1])&&Ce.has(this.buffer[e+2]))t=this.buffer[e+=3];else break;return yield*this.pushToIndex(e,!1)}}*pushNewline(){const e=this.buffer[this.pos];return e===`
`?yield*this.pushCount(1):e==="\r"&&this.charAt(1)===`
`?yield*this.pushCount(2):0}*pushSpaces(e){let t=this.pos-1,s;do s=this.buffer[++t];while(s===" "||e&&s==="	");const i=t-this.pos;return i>0&&(yield this.buffer.substr(this.pos,i),this.pos=t),i}*pushUntil(e){let t=this.pos,s=this.buffer[t];for(;!e(s);)s=this.buffer[++t];return yield*this.pushToIndex(t,!1)}}export{et as A,E as B,Nt as C,Re as D,ht as E,Et as L,D as M,T as N,B as P,w as S,J as Y,De as a,ae as b,kt as c,Oe as d,Z as e,ft as f,X as g,$ as h,fe as i,re as j,j as k,_ as l,de as m,ve as n,Ot as o,St as p,xe as q,ie as r,ot as s,A as t,nt as u,N as v,Ae as w,M as x,z as y,wt as z};
//# sourceMappingURL=BFK-koEx.js.map
